{ "name": "Orders",
  "memberOf": "wix-pricing-plans-backend",
  "mixes": [],
  "labels":
    [ "new" ],
  "location":
    { "lineno": 1,
      "filename": "orders.js" },
  "docs":
    { "summary": "The Pricing Plans Orders API contains functionality for managing\n your site's pricing plan [orders](https://support.wix.com/en/article/pricing-plans-an-overview).",
      "description":
        [ "Use the Pricing Plans Orders API to manage orders for your pricing plans. The Pricing Plans ",
          " Orders API provides functionality for managing pricing plan orders created ",
          " in the Wix Pricing Plans app or using this Wix Pricing Plans API.",
          "",
          " ### Setting Up Pricing Plans",
          "",
          " To use APIs to manage your plan orders, first set up your site to:",
          "",
          " + Accept payments as described in [About Accepting Payments](https://support.wix.com/en/article/about-accepting-payments).",
          "",
          " + Offer membership plans as described in [About Pricing Plans](https://support.wix.com/en/article/about-pricing-plans). When setting up your site to accept pricing plans, ",
          "   define the plans you want to offer [using the Dashboard](https://support.wix.com/en/article/creating-a-plan-in-pricing-plans) or",
          "   [using the Pricing Plan APIs](wix-pricing-plans/introduction).",
          "",
          "",
          " ### Managing Orders",
          "",
          " Members can order pricing plans in 2 ways:",
          " + **Online**. Members order and pay for their plans",
          "   on your site without manual intervention. ",
          " + **Offline**. Members place their order by phone, text, or email. You ",
          "   manually record each stage of the transaction.",
          "",
          " Use the Orders API to manage both online and ",
          " offline pricing plan orders. You can: ",
          "",
          " + Get a single order or a list of multiple orders.",
          " + Let members get and list their own order(s).",
          " + Cancel members' orders.",
          " + Allow members to cancel their own orders. ",
          " + Mark offline orders as paid. ",
          " + Manage orders, including pausing, postponing, and resuming them.",
          " ",
          " Updating the properties of a pricing plan does not affect any current purchases of the plan by members. The purchases retain",
          " their existing terms and pricing.",
          "",
          " > **Note:**",
          " > Deprecated [Paid Plans](wix-paid-plans/introduction/) APIs are still available for the following, ",
          " > but we encourage you to migrate to the [Pricing Plans](wix-pricing-plans/introduction/) APIs instead:",
          " > + Let site members [purchase](wix-paid-plans/purchasePlan) a plan directly, as if they were using the Pricing Plans app in the Wix Editor.",
          " > + Let site members [purchase](wix-paid-plans/orderPlan) a plan using your own customized process.",
          " > + Let site members [cancel](wix-paid-plans/cancelPlan) plan subscriptions (orders) that they have purchased. ",
          "",
          "",
          "",
          " ### Plans and Subscriptions",
          " ",
          " Actions related to basic pricing plan management are available from the [Pricing Plans](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Fmembership%3FreferralInfo%3Dvelo-docs)",
          " page in the Dashboard. These actions correspond to the functions available in the [Pricing Plans APIs](wix-pricing-plans-backend/introduction).",
          "",
          " Every pricing plan order corresponds to a Wix subscription, including orders for single payment plans. You can see all orders from your site's",
          " [Subscriptions](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Fsubscriptions%3FreferralInfo%3Dvelo-docs)",
          " page in the Dashboard. Actions available on this page correspond to the functions available in the [Orders APIs](wix-pricing-plans-backend/orders/introduction) and the [Checkout APIs](wix-pricing-plans-backend/checkout/introduction).",
          "",
          " > **Notes**: ",
          " >",
          " > + Wix pricing plans are 1 type of Wix subscriptions available from the Subscriptions page. For example, the Subscriptions page also includes Wix Stores subscriptions and Wix invoice subscriptions.",
          " >",
          " > + Pricing plans can be 1 of 3 different pricing models: `singlePaymentForDuration`, `singlePaymentUnlimited`, and `subscription.` Orders for all pricing plan models are displayed ",
          "     on the Subscriptions page (not just `subscription`).  ",
          "  ",
          "",
          " ### Roles and Permissions",
          "",
          " Some functions require that only site visitors with the **Manage Pricing Plans** and **Manage Subscriptions** [permissions](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Selec[…]ashboard%2F%7B%7BmetaSiteId%7D%7D%2Froles-and-permissions/roles) can perform",
          " pricing plan order functions. You can override the permissions by setting the function's `suppressAuth` ",
          " option to `true`.",
          " ",
          " Other functions might require that the site visitor just be logged in. ",
          "",
          " ### Importing the APIs",
          "",
          " To use the Orders API, import `orders` from the `wix-pricing-plans-backend` module.",
          "",
          "   ```javascript",
          "   import {orders} from 'wix-pricing-plans-backend';",
          "   ```" ],
      "links": [],
      "examples":
        [ { "title": "Create an online order and purchase it with Wix Pay",
            "body":
              [ "/*******************************",
                " * Backend code - checkout.jsw *",
                " *******************************/",
                "import { checkout } from 'wix-pricing-plans-backend';",
                "",
                "export async function myCreateOnlineOrderFunction(planId, startDate) {",
                "  try {",
                "    const order = checkout.createOnlineOrder(planId, startDate)",
                "    return order;",
                "  } catch (error) {",
                "    console.error(error);",
                "    // Handle the error",
                "  }",
                "}",
                "",
                "/* Returns a Promise that resolves to an ",
                " * `order` object with a `\"DRAFT\"`",
                " * status. In the object, there is a ",
                " * `wixPayOrderId` property you can use to ",
                " * complete the purchase.",
                " */ ",
                "",
                "/*************",
                " * Page code *",
                " *************/",
                "",
                "import {myCreateOnlineOrderFunction} from 'backend/checkout';",
                "import wixPay from 'wix-pay';",
                "",
                "// ... ",
                "",
                "const planId = $w('#planId').value;",
                "const startDate = new Date('October 21, 2022 11:00:00');",
                "",
                "$w('#submitButton').onClick(async () => {",
                "  try {",
                "    const order = await myCreateOnlineOrderFunction(planId, startDate);",
                "    const result = await wixPay.startPayment(order.wixPayOrderId);",
                "    if (result.status === 'Successful') {",
                "      console.log('Successfully Ordered');",
                "      // Handle payment success",
                "    } else if (result.status === 'Failed to Order') {",
                "      console.log('Failed');",
                "      // Handle payment failure",
                "    } else if (result.status === 'Order Pending') {",
                "      console.log('Pending');",
                "      // Handle payment pending",
                "    } else if (result.status === 'Order Cancelled') {",
                "      console.log('Cancelled');",
                "      // Handle user closing the payment panel",
                "      // without paying",
                "    } else {",
                "      console.log('Failed to Create Order');",
                "      // Handle any remaining possibilities",
                "    }",
                "  } catch(error) {",
                "    // Handle the error ",
                "  }",
                "}); ",
                "",
                "/* Returns a Promise that resolves to  ",
                " * the created payment. ",
                " */" ],
            "extra":
              { "description": "This example demonstrates how you can start an online order with the wix-pricing-plans-backend `createOnlineOrder()`\n function and then send the payment ID (`wixPayOrderId`) to the frontend Wix Pay `startPayment() function to facilitate payment." } },
          { "title": "A full order plan scenario including a collection",
            "body":
              [ "/***********************************************",
                " * For demonstration purposes, the             * ",
                " * following myCreateOnlineOrderFunction()     * ",
                " * fires the OrderCreated event. You can put   *",
                " * this code in a backend jsw file or          *",
                " * use a different method for firing the event *",
                " * such as with http functions.                *",
                " ***********************************************/",
                "",
                "import { checkout } from 'wix-pricing-plans-backend';",
                "",
                "export function myCreateOnlineOrderFunction(planId) {",
                "  return checkout.createOnlineOrder(planId);",
                "}",
                "",
                "/*******************************",
                " * Backend code - events.js    *",
                " *******************************/",
                "",
                " import { myInsertNewOrderFunction } from 'backend/process-orders'",
                "",
                " export function wixPricingPlans_onOrderCreated(event) {",
                "  myInsertNewOrderFunction(event.entity);",
                "}",
                "",
                "/*************************************",
                " * Backend code - process-orders.jsw *",
                " *************************************/",
                " import wixData from 'wix-data';",
                " ",
                " export async function myInsertOrderFunction(order) {",
                "",
                "     const member = await getMember(order.buyer.memberId);",
                "     const data = ({",
                "         _id: order.id,",
                "         planId: order.planId,",
                "         planName: order.planName,",
                "         status: order.status,",
                "         nickname: member.nickname",
                "     });",
                "",
                "     wixData.insert('Orders', data)",
                "       .then(() => {",
                "          console.log('Inserted successfully', data);",
                "       })",
                "       .catch(() => {",
                "          console.error('Failed to insert', data);",
                "       });",
                " }",
                "",
                " // Gets member details to associate with the order ",
                " async function getMember(memberId) {",
                "  try {",
                "    return wixData.get('Members/PublicData', memberId)",
                "  } catch (err) {",
                "    console.error('Failed to fetch member by ID', memberId, err);",
                "    // Handle the error ",
                "  };",
                " }" ],
            "extra":
              { "description": "This example demonstrates how to create an order and save its details in a collection after an event fires. \n\n The code assumes: \n\n + An `Orders` collection with the following fields: `_id`, `planId`, `planName`, `nickname`, and `status`\n + The `Members` app is installed on the site, including the `Members/PublicData` collection\n + The `Pricing Plans` app is installed on the site, including the `PaidPlans/Plans` collection\n + A backend code file exists called `process-orders.jsw`\n + A backend events file exists called `events.js`\n\n The `OrderCreated` event is fired in response to an order being created. The initial order creation might be\n initiated in several ways, such as by a button click on the page or by an external event request sent by \n an HTTP function call. The order creation is routed to backend code.  \n\n In this example, when the `OrderCreated` event is fired:  \n\n + The `myInsertOrderFunction()` function is called, with the `order` object extracted from the event object\n + The `myInsertOrderFunction()` function calls a `getMember()` function to gets details about the member \n   ordering the plan\n + The `myInsertOrderFunction()` function calls the Wix Data `insert()` function to add order and member details\n   into the `Orders` collection" } } ],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "cancelOrder",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order to cancel." },
            { "name": "effectiveAt",
              "type": "string",
              "doc": "When the order will be canceled. One-time orders can only be canceled immediately.\nOne of:\n + `\"IMMEDIATELY\"`. The order is canceled immediately.\n + `\"NEXT_PAYMENT_DATE\"`. The order will be canceled at the next payment date." },
            { "name": "options",
              "type": "wix-pricing-plans-backend.Options",
              "doc": "Options to use when canceling an order.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "Fulfilled - When the order is cancelled." },
        "locations":
          [ { "lineno": 121,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Cancels an order.",
            "description":
              [ "The `cancelOrder()` function returns a Promise that resolves when the order is successfully canceled. ",
                "",
                " For orders with recurring payments, a cancellation can be set to occur either immediately or at the next payment date.",
                " For orders with one-time payments, a cancellation occurs immediately.",
                "",
                " Canceling an order causes the following changes: ",
                " + The order status changes to `\"CANCELED\"`.",
                "",
                " The [`onOrderCanceled()`](wix-pricing-plans-backend/events/onOrderCanceled) event handler runs when an order is canceled.",
                "",
                " > **Note**: Only site visitors with the **Manage Pricing Plans** and **Manage Subscriptions** [permissions](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Froles-and-permissions/roles) ",
                " > can cancel orders. You can override the permissions by setting the function's `suppressAuth` ",
                " > option to `true`." ],
            "links":
              [ "[requestCurrentMemberOrderCancellation( )](#requestCurrentMemberOrderCancellation)",
                "[onOrderCanceled( )](wix-pricing-plans-backend/events/onOrderCanceled)",
                "[onOrderUpdated( )](wix-pricing-plans-backend/events/onOrderUpdated)" ],
            "examples":
              [ { "title": "Cancel an order at a later date",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export async function cancelOrder() {",
                      "  const id = '348927fd-1c48-48a1-8176-4e40be1b951d';",
                      "  const effectiveAt = 'NEXT_PAYMENT_DATE';",
                      "  return orders.cancelOrder(id, effectiveAt);",
                      "}",
                      "",
                      "// Returns a promise that resolves to void" ],
                  "extra":
                    {  } },
                { "title": "Cancel an order immediately, bypassing permission checks",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export async function cancelOrder() {",
                      "  const id = '348927fd-1c48-48a1-8176-4e40be1b951d';",
                      "  const effectiveAt = 'IMMEDIATELY';",
                      "  const options = {",
                      "    suppressAuth: true",
                      "  };",
                      "  return orders.cancelOrder(id, effectiveAt, options);",
                      "}",
                      "",
                      "// Returns a promise that resolves to void" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "getCurrentMemberOrder",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order to get." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-pricing-plans-backend.Orders.Order" ] },
            "doc": "Fulfilled - The requested pricing plan order." },
        "locations":
          [ { "lineno": 398,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Gets an order for the currently-logged in member.",
            "description":
              [ "The `getCurrentMemberOrder()` function returns a Promise that resolves to information about a specified order for the currently-logged in member." ],
            "links": [],
            "examples":
              [ { "title": "Get the current member's order by ID",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export function myGetCurrentMemberOrderFunction() {",
                      "  const orderId = '38f0acac-d4b9-44bf-b246-7af74e2a02ae';",
                      "  return orders.getCurrentMemberOrder(orderId)",
                      "    .then((order) => {",
                      "      console.log(order);",
                      "    })",
                      "    .catch((error) => {",
                      "      console.error(error);",
                      "    });",
                      "}",
                      "",
                      "/* Promise resolves to: ",
                      " * ",
                      " * {",
                      " *   \"_id\": \"38f0acac-d4b9-44bf-b246-7af74e2a02ae\",",
                      " *   \"planId\": \"aef93bb6-aaaa-4965-966e-bd68dd2a1cc2\",",
                      " *   \"subscriptionId\": \"20f84f97-1394-440c-b64b-111d7d4f0dfb\",",
                      " *   \"wixPayOrderId\": \"7fb1288d-a619-42b2-ae72-d65927413a9b\",",
                      " *   \"buyer\": {",
                      " *     \"memberId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *     \"contactId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\"",
                      " *   },",
                      " *   \"priceDetails\": {",
                      " *     \"subtotal\": \"2\",",
                      " *     \"total\": \"2\",",
                      " *     \"planPrice\": \"2\",",
                      " *     \"currency\": \"USD\",",
                      " *     \"subscription\": {",
                      " *       \"cycleDuration\": {",
                      " *         \"count\": 1,",
                      " *         \"unit\": \"WEEK\"",
                      " *       },",
                      " *       \"cycleCount\": 26",
                      " *     }",
                      " *   },",
                      " *   \"type\": \"ONLINE\",",
                      " *   \"status\": \"PENDING\",",
                      " *   \"autoRenewCanceled\": false,",
                      " *   \"lastPaymentStatus\": \"PAID\",",
                      " *   \"startDate\": \"2021-10-21T11:00:00.000Z\",",
                      " *   \"endDate\": \"2022-04-21T11:00:00.000Z\",",
                      " *   \"pausePeriods\": [],",
                      " *   \"planName\": \"Cooking for Kids\",",
                      " *   \"planDescription\": \"Get easy-to-make recipes that kids can prepare on their own!\",",
                      " *   \"_createdDate\": \"2021-08-27T16:04:45.750Z\",",
                      " *   \"_updatedDate\": \"2021-08-27T16:07:16.803Z\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "getOrder",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order to get." },
            { "name": "options",
              "type": "wix-pricing-plans-backend.Options",
              "doc": "Options to use when getting an order.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-pricing-plans-backend.Orders.Order" ] },
            "doc": "Fulfilled - The requested pricing plan order." },
        "locations":
          [ { "lineno": 156,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Gets an existing pricing plan order by ID.",
            "description":
              [ "The `getOrder()` function returns a Promise that resolves to information about the specified order. ",
                " ",
                " > **Note**: Only site visitors with the **Manage Pricing Plans** and **Manage Subscriptions** [permissions](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Froles-and-permissions/roles) ",
                " > can get orders. You can override the permissions by setting the function's `suppressAuth` ",
                " > option to `true`." ],
            "links": [],
            "examples":
              [ { "title": "Get an order by ID",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "// Sample orderId: '02b7de48-b433-4d4b-b847-08c41c2b2b78'",
                      "",
                      "export async function myGetOrderFunction(orderId) {",
                      "  try {",
                      "    let order = await orders.getOrder(orderId);",
                      "    const id = order._id;",
                      "    const status = order.status;",
                      "    console.log('Success! You got this order: ', order);",
                      "    return order;",
                      "  } catch (error) {",
                      "    console.error(error);",
                      "    // Handle the error",
                      "  }",
                      "}",
                      "",
                      "/* Promise resolves to: ",
                      " * {",
                      " *   \"_id\": \"02b7de48-b433-4d4b-b847-08c41c2b2b78\",",
                      " *   \"planId\": \"7251b9e9-3852-4e9f-958e-af630f039802\",",
                      " *   \"subscriptionId\": \"45f4ab2c-bc09-4736-be68-674cc2169ad1\",",
                      " *   \"buyer\": {",
                      " *     \"memberId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *     \"contactId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\"",
                      " *   },",
                      " *   \"priceDetails\": {",
                      " *     \"subtotal\": \"0\",",
                      " *     \"total\": \"0\",",
                      " *     \"planPrice\": \"0\",",
                      " *     \"currency\": \"USD\",",
                      " *     \"singlePaymentUnlimited\": true",
                      " *   },",
                      " *   \"type\": \"ONLINE\",",
                      " *   \"status\": \"ACTIVE\",",
                      " *   \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *   \"startDate\": \"2021-10-31T11:00:00.000Z\",",
                      " *   \"pausePeriods\": [],",
                      " *   \"planName\": \"Family Cooking\",",
                      " *   \"planDescription\": \"Weekly delivery of home cooking recipes and time-saving tips\",",
                      " *   \"_createdDate\": \"2021-09-02T06:13:28.595Z\",",
                      " *   \"_updatedDate\": \"2021-09-02T06:13:28.738Z\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } },
                { "title": "Bypass permission checks to get an order",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "// Sample orderId: '02b7de48-b433-4d4b-b847-08c41c2b2b78'",
                      "// Sample options object: { \"suppressAuth\" : true }",
                      "",
                      "export async function myGetOrderFunction(orderId, options) {",
                      "  try {",
                      "    let order = await orders.getOrder(orderId, options);",
                      "    const id = order._id;",
                      "    const status = order.status;",
                      "    console.log('Success! You got this order: ', order);",
                      "    return order;",
                      "  } catch (error) {",
                      "    console.error(error);",
                      "    // Handle the error",
                      "  }",
                      "}",
                      "",
                      "/* Promise resolves to: ",
                      " * {",
                      " *   \"_id\": \"02b7de48-b433-4d4b-b847-08c41c2b2b78\",",
                      " *   \"planId\": \"7251b9e9-3852-4e9f-958e-af630f039802\",",
                      " *   \"subscriptionId\": \"45f4ab2c-bc09-4736-be68-674cc2169ad1\",",
                      " *   \"buyer\": {",
                      " *     \"memberId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *     \"contactId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\"",
                      " *   },",
                      " *   \"priceDetails\": {",
                      " *     \"subtotal\": \"0\",",
                      " *     \"total\": \"0\",",
                      " *     \"planPrice\": \"0\",",
                      " *     \"currency\": \"USD\",",
                      " *     \"singlePaymentUnlimited\": true",
                      " *   },",
                      " *   \"type\": \"ONLINE\",",
                      " *   \"status\": \"ACTIVE\",",
                      " *   \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *   \"startDate\": \"2021-10-31T11:00:00.000Z\",",
                      " *   \"pausePeriods\": [],",
                      " *   \"planName\": \"Family Cooking\",",
                      " *   \"planDescription\": \"Weekly delivery of home cooking recipes and time-saving tips\",",
                      " *   \"_createdDate\": \"2021-09-02T06:13:28.595Z\",",
                      " *   \"_updatedDate\": \"2021-09-02T06:13:28.738Z\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "listCurrentMemberOrders",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "filters",
              "type": "wix-pricing-plans-backend.Orders.CurrentMemberFilterOptions",
              "doc": "Filter options for limiting which orders are listed.",
              "optional": true },
            { "name": "sorting",
              "type": "wix-pricing-plans-backend.Orders.SortingOptions",
              "doc": "Sorting options, such as by which property and in which direction.",
              "optional": true },
            { "name": "paging",
              "type": "wix-pricing-plans-backend.Orders.PaginationOptions",
              "doc": "Pagination options, such as how many results are listed at a time.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ { "name": "Array",
                      "typeParams":
                        [ "wix-pricing-plans-backend.Orders.Order" ] } ] },
            "doc": "Fulfilled - Pricing plan orders for the current member that match the specified filtering, sorting, and pagination options." },
        "locations":
          [ { "lineno": 433,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Lists orders for the currently-logged in member.",
            "description":
              [ "The `listCurrentMemberOrders()` function returns a Promise that resolves to a list of up to 100 pricing plan orders. ",
                " You can specify options for filtering, sorting, and paginating the results." ],
            "links": [],
            "examples":
              [ { "title": "List orders for the currently logged-in member",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend.Orders';",
                      "",
                      "/* Sample filters object: ",
                      " * {",
                      " *   orderStatuses: ['PAUSED', 'DRAFT', 'PENDING']",
                      " * }",
                      " */",
                      "",
                      "export function myListCurrentMemberOrdersFunction() {",
                      "  return orders.listCurrentMemberOrders(filters)",
                      "    .then((response) => {",
                      "      console.log(response);",
                      "    })",
                      "    .catch((error) => {",
                      "      console.error(error);",
                      "    });",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "listOrders",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "filters",
              "type": "wix-pricing-plans-backend.Orders.FilterOptions",
              "doc": "Filter options for limiting which orders are listed.",
              "optional": true },
            { "name": "sorting",
              "type": "wix-pricing-plans-backend.Orders.SortingOptions",
              "doc": "Sorting options, such as by which property and in which direction.",
              "optional": true },
            { "name": "paging",
              "type": "wix-pricing-plans-backend.Orders.PaginationOptions",
              "doc": "Pagination options, such as how many results are listed at a time.",
              "optional": true },
            { "name": "options",
              "type": "wix-pricing-plans-backend.Options",
              "doc": "Options to use when listing orders.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ { "name": "Array",
                      "typeParams":
                        [ "wix-pricing-plans-backend.Orders.Order" ] } ] },
            "doc": "Fulfilled - Pricing plan orders that match the specified filtering, sorting, and pagination options." },
        "locations":
          [ { "lineno": 220,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Lists pricing plan orders.",
            "description":
              [ "The `listOrders()` function returns a Promise that resolves to a list of up to 100 pricing plan orders. ",
                " You can specify options for filtering, sorting, and paginating the results.",
                "",
                " This function returns the orders on the site. To list orders for the current member only, see the ",
                " frontend [`listCurrentMemberOrders`](wix-pricing-plans/listCurrentMemberOrders) function.",
                "",
                "",
                " > **Note**: Only site visitors with the **Manage Pricing Plans** and **Manage Subscriptions** [permissions](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Froles-and-permissions/roles) ",
                " > can list orders. You can override the permissions by setting the function's `suppressAuth` ",
                " > option to `true`." ],
            "links":
              [ "[listCurrentMemberOrders( )](wix-pricing-plans/listCurrentMemberOrders)" ],
            "examples":
              [ { "title": "List all orders",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend.Orders';",
                      "",
                      "export async function myListOrdersFunction() {",
                      "  try {",
                      "    let listedOrders = await orders.listOrders();",
                      "    const firstOrderId = listedOrders.orders[0]._id;",
                      "    const firstOrderStatus = listedOrders.orders[0].status;",
                      "    console.log('Success! The orders are: ', listedOrders.orders);",
                      "    return listedOrders.orders;",
                      "  } catch(error) {",
                      "    console.error(error);",
                      "    // Handle the error",
                      "  }",
                      "}",
                      "",
                      "/* Promise resolves to an object that contains an orders array ",
                      " * of order objects.",
                      " */" ],
                  "extra":
                    {  } },
                { "title": "Bypass permission checks to list all orders",
                  "body":
                    [ "import { orders } from \"wix-pricing-plans-backend.Orders\";",
                      "",
                      "// Sample options object: { suppressAuth : true }",
                      "  ",
                      "export async function myListOrdersFunctionWithOptions({}, {}, {}, options) {",
                      "  try {",
                      "    let listedOrders = await orders.listOrders({}, {}, {}, options);",
                      "    const firstOrderId = listedOrders.orders[0]._id;",
                      "    const firstOrderStatus = listedOrders.orders[0].status;",
                      "    console.log('Success! The orders are: ', listedOrders.orders);",
                      "    return listedOrders.orders;",
                      "  } catch(error) {",
                      "    console.error(error);",
                      "    // Handle the error",
                      "  }",
                      "}",
                      "",
                      "/* Promise resolves to an object that contains an orders array ",
                      " * of order objects--even if you do not have a role with ",
                      " * permissions for listing orders.",
                      " */" ],
                  "extra":
                    {  } },
                { "title": "Paginate and sort orders that match the specified filters",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend.Orders';",
                      "",
                      "/* Sample filters object: ",
                      " * {",
                      " *   planIds: ['aef93bb6-aaaa-4965-966e-bd68dd2a1cc2', '7251b9e9-3852-4e9f-958e-af630f039802'],",
                      " *   orderStatuses: ['PAUSED', 'CANCELED']",
                      " * }",
                      " */",
                      "",
                      "/* Sample sorting object: ",
                      " * {",
                      " *   fieldName: '_createdDate',",
                      " *   order: 'DESC'",
                      " * }",
                      " */",
                      "",
                      "/* Sample paging object: ",
                      " * {",
                      " *   limit: 3,",
                      " *   skip: 1",
                      " * }",
                      " */",
                      "",
                      "/* Sample options object: ",
                      " * {",
                      " *   suppressAuth: true ",
                      " * }",
                      " */",
                      "",
                      "export function myListOrdersFunctionWithFilters(filters, sorting, paging, options) {",
                      "  try {",
                      "    let listedOrders = await orders.listOrders(filters, sorting, paging, options);",
                      "    const firstOrderId = listedOrders.orders[0]._id;",
                      "    const firstOrderStatus = listedOrders.orders[0].status;",
                      "    console.log('Success! The orders are: ', listedOrders.orders);",
                      "    return listedOrders.orders;",
                      "  } catch(error) {",
                      "    console.error(error);",
                      "    // Handle the error",
                      "  }",
                      "}",
                      "",
                      "",
                      "/* Promise resolves to: ",
                      " * [",
                      " *   {",
                      " *     \"_id\": \"de381e02-604b-417a-beb4-31f4f237bd58\",",
                      " *     \"planId\": \"7251b9e9-3852-4e9f-958e-af630f039802\",",
                      " *     \"subscriptionId\": \"24797b1e-c915-4f07-aedf-7e035c74cadd\",",
                      " *     \"buyer\": {",
                      " *       \"memberId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *       \"contactId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\"",
                      " *     },",
                      " *     \"priceDetails\": {",
                      " *       \"subtotal\": \"0\",",
                      " *       \"total\": \"0\",",
                      " *       \"planPrice\": \"0\",",
                      " *       \"currency\": \"USD\",",
                      " *       \"singlePaymentUnlimited\": true",
                      " *     },",
                      " *     \"type\": \"ONLINE\",",
                      " *     \"status\": \"CANCELED\",",
                      " *     \"cancellation\": {",
                      " *       \"cause\": \"OWNER_ACTION\",",
                      " *       \"effectiveAt\": \"IMMEDIATELY\"",
                      " *     },",
                      " *     \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *     \"startDate\": \"Sun Oct 31 2021 13:00:00 GMT+0200 (Israel Standard Time)\",",
                      " *     \"endDate\": \"Sun Oct 17 2021 11:02:01 GMT+0300 (Israel Daylight Time)\",",
                      " *     \"pausePeriods\": [],",
                      " *     \"planName\": \"Family Cooking\",",
                      " *     \"planDescription\": \"Weekly delivery of home cooking recipes and time-saving tips\",",
                      " *     \"_createdDate\": \"Thu Sep 02 2021 15:09:46 GMT+0300 (Israel Daylight Time)\",",
                      " *     \"_updatedDate\": \"Sun Oct 17 2021 11:02:01 GMT+0300 (Israel Daylight Time)\"",
                      " *   },",
                      " *   {",
                      " *     \"_id\": \"06610ca6-ff9d-4596-952a-c35e723659f5\",",
                      " *     \"planId\": \"7251b9e9-3852-4e9f-958e-af630f039802\",",
                      " *     \"subscriptionId\": \"28330017-4b1b-4364-b9be-b5b37d58c178\",",
                      " *     \"buyer\": {",
                      " *       \"memberId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *       \"contactId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\"",
                      " *     },",
                      " *     \"priceDetails\": {",
                      " *       \"subtotal\": \"0\",",
                      " *       \"total\": \"0\",",
                      " *       \"planPrice\": \"0\",",
                      " *       \"currency\": \"USD\",",
                      " *       \"singlePaymentUnlimited\": true",
                      " *     },",
                      " *     \"type\": \"ONLINE\",",
                      " *     \"status\": \"PAUSED\",",
                      " *     \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *     \"startDate\": \"Sun Oct 31 2021 13:00:00 GMT+0200 (Israel Standard Time)\",",
                      " *     \"pausePeriods\": [",
                      " *       {",
                      " *         \"status\": \"ACTIVE\",",
                      " *         \"pauseDate\": \"Sun Oct 17 2021 11:02:21 GMT+0300 (Israel Daylight Time)\"",
                      " *       }",
                      " *     ],",
                      " *     \"planName\": \"Family Cooking\",",
                      " *     \"planDescription\": \"Weekly delivery of home cooking recipes and time-saving tips\",",
                      " *     \"_createdDate\": \"Thu Sep 02 2021 15:08:56 GMT+0300 (Israel Daylight Time)\",",
                      " *     \"_updatedDate\": \"Sun Oct 17 2021 11:02:21 GMT+0300 (Israel Daylight Time)\"",
                      " *   },",
                      " *   {",
                      " *     \"_id\": \"38f0acac-d4b9-44bf-b246-7af74e2a02ae\",",
                      " *     \"planId\": \"aef93bb6-aaaa-4965-966e-bd68dd2a1cc2\",",
                      " *     \"subscriptionId\": \"20f84f97-1394-440c-b64b-111d7d4f0dfb\",",
                      " *     \"wixPayOrderId\": \"7fb1288d-a619-42b2-ae72-d65927413a9b\",",
                      " *     \"buyer\": {",
                      " *       \"memberId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\",",
                      " *       \"contactId\": \"4c47c608-cfa8-4037-93ac-738f09560ed3\"",
                      " *     },",
                      " *     \"priceDetails\": {",
                      " *       \"subtotal\": \"2\",",
                      " *       \"total\": \"2\",",
                      " *       \"planPrice\": \"2\",",
                      " *       \"currency\": \"USD\",",
                      " *       \"subscription\": {",
                      " *         \"cycleDuration\": {",
                      " *           \"count\": 1,",
                      " *           \"unit\": \"WEEK\"",
                      " *         },",
                      " *         \"cycleCount\": 26",
                      " *       }",
                      " *     },",
                      " *     \"type\": \"ONLINE\",",
                      " *     \"status\": \"CANCELED\",",
                      " *     \"autoRenewCanceled\": true,",
                      " *     \"cancellation\": {",
                      " *       \"cause\": \"PAYMENT_FAILURE\",",
                      " *       \"effectiveAt\": \"IMMEDIATELY\"",
                      " *     },",
                      " *     \"lastPaymentStatus\": \"FAILED\",",
                      " *     \"startDate\": \"Thu Oct 21 2021 14:00:00 GMT+0300 (Israel Daylight Time)\",",
                      " *     \"endDate\": \"Thu Oct 28 2021 20:40:01 GMT+0300 (Israel Daylight Time)\",",
                      " *     \"pausePeriods\": [],",
                      " *     \"planName\": \"Cooking for Kids\",",
                      " *     \"planDescription\": \"Get easy-to-make recipes that kids can prepare on their own!\",",
                      " *     \"_createdDate\": \"Fri Aug 27 2021 19:04:45 GMT+0300 (Israel Daylight Time)\",",
                      " *     \"_updatedDate\": \"Thu Oct 28 2021 20:40:01 GMT+0300 (Israel Daylight Time)\"",
                      " *   }",
                      " * ]",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "markAsPaid",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order being marked as paid." },
            { "name": "options",
              "type": "wix-pricing-plans-backend.Options",
              "doc": "Options to use when marking an order as paid.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "Fulfilled - When the order is marked as paid." },
        "locations":
          [ { "lineno": 249,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Indicates that an offline pricing plan order has been paid.",
            "description":
              [ "The `markAsPaid()` function returns a Promise that resolves when the offline order is successfully marked as paid. ",
                "",
                " The entire order is marked as paid, even if the order's payments are recurring.",
                "",
                " > **Note:** Marking separate payment cycles as paid is not yet supported. Subsequent offline payments do trigger events and emails, but are not registered as additional offline payments.",
                "",
                " Marking an offline order as paid causes the following changes: ",
                " + The order's `lastPaymentStatus` changes to `\"PAID\"`.",
                " + The order's `status` changes to either `\"PENDING\"` or `\"ACTIVE\"`, depending on the order's `startDate`.",
                "",
                " An error occurs if you attempt to: ",
                " ",
                " + Mark an already-paid, offline order as paid. You cannot mark an offline order as paid twice.",
                " + Mark an online order as paid. The `markAsPaid()` function is supported for offline orders only. ",
                " ",
                " The [`onOrderMarkedAsPaid()`](wix-pricing-plans-backend/events/onOrderMarkedAsPaid) and [`onOrderUpdated()`](wix-pricing-plans-backend/events/onOrderUpdated) event handlers run when an offline order is marked as paid.",
                "",
                " > **Note**: Only site visitors with the **Manage Pricing Plans** and **Manage Subscriptions** [permissions](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Froles-and-permissions/roles) ",
                " > can mark offline orders as paid. You can override the permissions by setting the function's `suppressAuth` ",
                " > option to `true`." ],
            "links":
              [ "[onOrderMarkedAsPaid( )](wix-pricing-plans-backend/events/onOrderMarkedAsPaid)",
                "[onOrderUpdated()](wix-pricing-plans-backend/events/onOrderUpdated)" ],
            "examples":
              [ { "title": "Mark an offline order as paid",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export async function markAsPaid() {",
                      "  const id = '66e61fa1-3cfd-4329-aace-0d78570a711e';",
                      "  return orders.markAsPaid(id);",
                      "}",
                      "",
                      "// Returns a promise that resolves to void" ],
                  "extra":
                    {  } },
                { "title": "Mark an offline order as paid, bypassing permission checks",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export async function markAsPaid() {",
                      "  const id = '66e61fa1-3cfd-4329-aace-0d78570a711e';",
                      "  const options = {",
                      "    suppressAuth: true",
                      "  };",
                      "  return orders.markAsPaid(id, options);",
                      "}",
                      "",
                      "// Returns a promise that resolves to void" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "pauseOrder",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order being paused." },
            { "name": "options",
              "type": "wix-pricing-plans-backend.Options",
              "doc": "Options to use when pausing an order.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "Fulfilled - When the order is paused." },
        "locations":
          [ { "lineno": 285,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Pauses a pricing plan's order and, for recurring orders, also pauses its payment schedule.",
            "description":
              [ "The `pauseOrder()` function returns a Promise that resolves when the order is successfully paused. ",
                "",
                " Pausing an order affects the end date of the order. ",
                " For orders with recurring payments, `pauseOrder()` also pauses the payment schedule. Buyers are not ",
                " charged when an order is paused. Use `pauseOrder()`, for example, if the buyer is away and would ",
                " like to put their pricing plan membership on hold until they return. ",
                "",
                " Pausing an order causes the following changes: ",
                " + The order status changes to `\"PAUSED\"`.",
                " + The `pausePeriods` array is updated. ",
                " + The `earliestEndDate` is adjusted. This property is used when extending or shortening the duration of the order's plan.",
                " ",
                " The `endDate` for the order is adjusted to include the pause period when the order is resumed.",
                "",
                " The [`onOrderPaused()`](wix-pricing-plans-backend/events/onOrderPaused) and [`onOrderUpdated()`](wix-pricing-plans-backend/events/onOrderUpdated) event handlers run when an order is paused.",
                "",
                " Paused orders can be continued with the [`resumeOrder()`](#resumeOrder) function. ",
                "",
                " > **Note**: Only site visitors with the **Manage Pricing Plans** and **Manage Subscriptions** [permissions](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Froles-and-permissions/roles) ",
                " > can pause orders. You can override the permissions by setting the function's `suppressAuth` ",
                " > option to `true`." ],
            "links":
              [ "[resumeOrder( )](#resumeOrder)",
                "[onOrderPaused( )](wix-pricing-plans-backend/events/onOrderPaused)",
                "[onOrderUpdated( )](wix-pricing-plans-backend/events/onOrderUpdated)" ],
            "examples":
              [ { "title": "Pause an order",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export async function pauseOrder() {",
                      "  const id = '348927fd-1c48-48a1-8176-4e40be1b951d';",
                      "  return orders.pauseOrder(id);",
                      "}",
                      "",
                      "// Returns a promise that resolves to void" ],
                  "extra":
                    {  } },
                { "title": "Pause an order, bypassing permission checks",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export async function pauseOrder() {",
                      "  const id = '348927fd-1c48-48a1-8176-4e40be1b951d';",
                      "  const options = {",
                      "    suppressAuth: true",
                      "  };",
                      "  return orders.pauseOrder(id, options);",
                      "}",
                      "",
                      "// Returns a promise that resolves to void" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "postponeEndDate",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order whose end date must change." },
            { "name": "endDate",
              "type": "Date",
              "doc": "New expiration date, which cannot be earlier than the value of the `earliestEndDate` property.  The `endDate` is in timestamp format, \n which is the UTC date-time in [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601#Coordinated_Universal_Time_(UTC)) format. \n If a timezone offset is specified, the time is converted to UTC. For example, if you \n specify `new Date('2021-01-06T16:00:00.000-07:00')`, the stored value will be `\"2021-01-06T23:00:00.000Z\"`." },
            { "name": "options",
              "type": "wix-pricing-plans-backend.Options",
              "doc": "Options to use when changing the end date of an order.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "Fulfilled - When the order's end date has been postponed or made earlier." },
        "locations":
          [ { "lineno": 323,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Extends or shortens the duration of a pricing plan order by moving its end date earlier or later.",
            "description":
              [ "The `postponeEndDate()` function returns a Promise that resolves when the order's end date is successfully changed. ",
                "",
                " This function can be used to move the end date for a plan's order either earlier or later. This either",
                " shortens the duration of the plan's order or extends the duration of the plan's order.",
                "",
                " The new end date must be later than the order's original start date plus any pause periods. This  ",
                " is calculated for you and stored in the order's `earliestEndDate` property.",
                "",
                " Postponing the end date of an order does not impact payments. For example, if the pricing plan is for membership ",
                " to an online lecture series, and you want to extend the duration of the series because the lecturer could not",
                " attend some sessions, you can postpone the end date of the orders for all relevant participants. The ",
                " participants do not pay extra.",
                "",
                " Postponing an order causes the following changes: ",
                " + The `endDate` for the order is adjusted to the new end date.",
                " The [`onOrderEndDatePostponed()`](wix-pricing-plans-backend/events/onOrderEndDatePostponed) and [`onOrderUpdated()`](wix-pricing-plans-backend/events/onOrderUpdated) event handlers run when an order's end date is postponed or made earlier.",
                "",
                " > **Note**: Only site visitors with the **Manage Pricing Plans** and **Manage Subscriptions** [permissions](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Froles-and-permissions/roles) ",
                " > can change the end date of orders. You can override the permissions by setting the function's `suppressAuth` ",
                " > option to `true`." ],
            "links":
              [ "[onOrderEndDatePostponed( )](wix-pricing-plans-backend/events/onOrderEndDatePostponed)",
                "[onOrderUpdated( )](wix-pricing-plans-backend/events/onOrderUpdated)" ],
            "examples":
              [ { "title": "Postpone the end of an order to a later date",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export async function postponeEndDate() {",
                      "  const id = '38f0acac-d4b9-44bf-b246-7af74e2a02ae';",
                      "  const endDate = new Date('October 21, 2021 11:00:00');",
                      "  return orders.postponeEndDate(id, endDate);",
                      "}",
                      "",
                      "// Returns a promise that resolves to void" ],
                  "extra":
                    {  } },
                { "title": "Bring the end of an order forward to an earlier date, bypassing permission checks",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export async function postponeEndDate() {",
                      "  const id = '38f0acac-d4b9-44bf-b246-7af74e2a02ae';",
                      "  const earlierDate = new Date('October 21, 2020 10:15:00');",
                      "  const options = {",
                      "    suppressAuth: true",
                      "  };",
                      "  return orders.postponeEndDate(id, earlierDate, options);",
                      "}",
                      "",
                      "// Returns a promise that resolves to void" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "requestCurrentMemberOrderCancellation",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order whose cancellation is requested." },
            { "name": "effectiveAt",
              "type": "string",
              "doc": "The request can be that the order is canceled immediately or at the next payment date. One-time orders can only be canceled immediately.\nOne of:\n + `\"IMMEDIATELY\"` The request indicates that the order should be cancelled immediately. \n + `\"NEXT_PAYMENT_DATE\"`. The request indicates that the order be cancelled at the next payment date." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "Fulfilled - When the cancellation process is started." },
        "locations":
          [ { "lineno": 449,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Starts the process of cancelling the logged-in member's pricing plan order.",
            "description":
              [ "The `requestCurrentMemberOrderCancellation()` function returns a Promise that resolves when the order cancellation is successfully requested. ",
                "",
                " For orders with recurring payments, a cancellation can be set to occur either immediately or at the next payment date.",
                " For orders with one-time payments, a cancellation occurs immediately after the request is processed.",
                "",
                " Requesting an order cancellation starts the cancellation process. The event is triggered immediately and the function's promise",
                " is fulfilled. However, there may be some operations that continue to be processed before the status of the order is ",
                " changed to `\"CANCELED\"`. For example, payments might need to be refunded before the order is fully cancelled.",
                "",
                " The [`onOrderUpdated()`](wix-pricing-plans-backend/events/onOrderUpdated) event handler runs when a cancellation is requested.",
                " The [`onOrderCanceled()`](wix-pricing-plans-backend/events/onOrderCanceled) event handler runs when the cancellation is completed." ],
            "links":
              [ "[cancelOrder( )](#cancelOrder)",
                "[onOrderUpdated( )](wix-pricing-plans-backend/events/onOrderUpdated)",
                "[onOrderCanceled( )](wix-pricing-plans-backend/events/onOrderCanceled)" ],
            "examples":
              [ { "title": "Start the cancellation process for the currently logged-in member's order",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export async function requestCurrentMemberOrderCancellation() {",
                      "  const id = '348927fd-1c48-48a1-8176-4e40be1b951d';",
                      "  const effectiveAt = 'IMMEDIATELY';",
                      "  return orders.requestCurrentMemberOrderCancellation(id, effectiveAt);",
                      "}",
                      "",
                      "// Returns a promise that resolves to void" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "resumeOrder",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "orderId",
              "type": "string",
              "doc": "ID of the order being resumed." },
            { "name": "options",
              "type": "wix-pricing-plans-backend.Options",
              "doc": "Options to use when resuming an order.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "Fulfilled - When the order is resumed." },
        "locations":
          [ { "lineno": 363,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Resumes a paused pricing plan order.",
            "description":
              [ "The `resumeOrder()` function returns a Promise that resolves when a paused order is successfully resumed. ",
                "",
                " For orders with recurring payments, `resumeOrder()` also restarts the payment schedule.",
                "",
                " Resuming an order causes the following changes: ",
                " + The order status changes to `\"ACTIVE\"`.",
                " + The `pausePeriods` array is updated. ",
                " + The `endDate` for the order is adjusted to include the pause period.",
                " + The `earliestEndDate` is adjusted. This property is used when extending or shortening the duration of the order's plan.",
                "",
                " The [`onOrderResumed()`](wix-pricing-plans-backend/events/onOrderResumed) and [`onOrderUpdated()`](wix-pricing-plans-backend/events/onOrderUpdated) event handlers run when an order is resumed.",
                "",
                " > **Note**: Only site visitors with the **Manage Pricing Plans** and **Manage Subscriptions** [permissions](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Froles-and-permissions/roles) ",
                " > can resume orders. You can override the permissions by setting the function's `suppressAuth` ",
                " > option to `true`." ],
            "links":
              [ "[pauseOrder( )](#pauseOrder)",
                "[onOrderResumed( )](wix-pricing-plans-backend/events/onOrderResumed)",
                "[onOrderUpdated( )](wix-pricing-plans-backend/events/onOrderUpdated)" ],
            "examples":
              [ { "title": "Resume a paused order",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export async function resumeOrder() {",
                      "  const id = '348927fd-1c48-48a1-8176-4e40be1b951d';",
                      "  return orders.resumeOrder(id);",
                      "}",
                      "",
                      "// Returns a promise that resolves to void" ],
                  "extra":
                    {  } },
                { "title": "Resume a paused order, bypassing permission checks",
                  "body":
                    [ "import { orders } from 'wix-pricing-plans-backend';",
                      "",
                      "export async function resumeOrder() {",
                      "  const id = '348927fd-1c48-48a1-8176-4e40be1b951d';",
                      "  const options = {",
                      "    suppressAuth: true",
                      "  };",
                      "  return orders.resumeOrder(id, options);",
                      "}",
                      "",
                      "// Returns a promise that resolves to void" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "callbacks": [],
  "messages":
    [ { "name": "Buyer",
        "locations":
          [ { "lineno": 34,
              "filename": "orders-shared.js" } ],
        "docs":
          { "summary": "Buyer details.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "memberId",
              "type": "string",
              "doc": "Member ID for the buyer." },
            { "name": "contactId",
              "type": "string",
              "doc": "Contact ID for the buyer." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "Cancellation",
        "locations":
          [ { "lineno": 43,
              "filename": "orders-shared.js" } ],
        "docs":
          { "summary": "Details about the cancellation of an order. Omitted if the order `status` isn't `\"CANCELED\"`.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "requestedDate",
              "type": "Date",
              "doc": "Date when cancellation was requested." },
            { "name": "cause",
              "type": "string",
              "doc": "The reason for the cancellation owner. \nOne of:\n + `\"OWNER_ACTION\"`. The site owner cancelled the order. \n + `\"MEMBER_ACTION\"`. The buyer initiated the cancellation.\n + `\"PAYMENT_FAILURE\"`. A payment transaction failed.\n + `\"PAYMENT_SETUP_FAILURE\"`. The buyer's payment details weren't set up correctly." },
            { "name": "effectiveAt",
              "type": "string",
              "doc": "Indicates when the cancellation takes effect. This is set when cancelling the order.\nOne of:\n + `\"IMMEDIATELY\"`. The cancellation occurs immediately and the buyer can't use the plan at this point.\n + `\"NEXT_PAYMENT_DATE\"`. The cancellation occurs at the next payment date. The buyer can continue to use the plan until that date." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "CurrentMemberFilterOptions",
        "locations":
          [ { "lineno": 410,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Fields to filter by when listing orders for the current member.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "planIds",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "Specific IDs of plans that were ordered/purchased by the current member.",
              "optional": true },
            { "name": "autoRenewCanceled",
              "type": "boolean",
              "doc": "Whether the auto-renewal of the current member's recurring orders was canceled.",
              "optional": true },
            { "name": "orderStatuses",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "Specific statuses for the current member's orders.\n + `\"DRAFT\"`. The order has been initiated but payment has not been processed yet. The plan is not yet available for use.\n + `\"PENDING\"`. Payment is being processed.  The plan is not yet available for use.\n + `\"ACTIVE\"`. The order has been processed and paid for.  The plan is available for use.\n + `\"PAUSED\"`. Use of the plan has been [paused](wix-pricing-plans-backend/orders/pauseorder), for example, if the buyer is away. The plan can be [resumed](wix-pricing-plans-backend/orders/resumeorder).\n + `\"ENDED\"`. The order has completed its duration and is no longer available for use.\n + `\"CANCELED\"`. The order has been [canceled](wix-pricing-plans-backend/orders/cancelorder).",
              "optional": true },
            { "name": "paymentStatuses",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "Specific payment statuses for the current member's orders.\n + `\"PAID\"`. The last payment was paid.\n + `\"REFUNDED\"`. The last payment was refunded.\n + `\"FAILED\"`. The last payment transaction did not complete.\n + `\"UNPAID\"`. The last payment was not paid.\n + `\"PENDING\"`. Awaiting payment. \n + `\"NOT_APPLICABLE\"`. No payment was necessary, such as for free plans or free trials.",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "FilterOptions",
        "locations":
          [ { "lineno": 184,
              "filename": "orders.js" } ],
        "docs":
          { "summary": "Fields to filter by when listing orders.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "buyerIds",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "Specific member IDs of buyers who ordered/purchased a pricing plan.",
              "optional": true },
            { "name": "planIds",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "Specific IDs of plans that were ordered/purchased.",
              "optional": true },
            { "name": "autoRenewCanceled",
              "type": "boolean",
              "doc": "Whether the auto-renewal of recurring orders was canceled.",
              "optional": true },
            { "name": "orderStatuses",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "Specific order statuses.\n + `\"DRAFT\"`. The order has been initiated but payment has not been processed yet. The plan is not yet available for use.\n + `\"PENDING\"`. Payment is being processed.  The plan is not yet available for use.\n + `\"ACTIVE\"`. The order has been processed and paid for.  The plan is available for use.\n + `\"PAUSED\"`. Use of the plan has been [paused](wix-pricing-plans-backend/orders/pauseorder), for example, if the buyer is away. The plan can be [resumed](wix-pricing-plans-backend/orders/resumeorder).\n + `\"ENDED\"`. The order has completed its duration and is no longer available for use.\n + `\"CANCELED\"`. The order has been [canceled](wix-pricing-plans-backend/orders/cancelorder).",
              "optional": true },
            { "name": "paymentStatuses",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "Specific payment statuses.\n + `\"PAID\"`. The last payment was paid.\n + `\"REFUNDED\"`. The last payment was refunded.\n + `\"FAILED\"`. The last payment transaction did not complete.\n + `\"UNPAID\"`. The last payment was not paid.\n + `\"PENDING\"`. Awaiting payment. \n + `\"NOT_APPLICABLE\"`. No payment was necessary, such as for free plans or free trials.",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "Order",
        "locations":
          [ { "lineno": 60,
              "filename": "orders-shared.js" } ],
        "docs":
          { "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "_id",
              "type": "string",
              "doc": "Order ID." },
            { "name": "planId",
              "type": "string",
              "doc": "ID of the plan that was purchased with this order." },
            { "name": "subscriptionId",
              "type": "string",
              "doc": "ID of the related Wix subscription. Every pricing plan order corresponds to a Wix subscription, including orders for single payment plans. You can see all orders from your site's [Subscriptions](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Fsubscriptions%3FreferralInfo%3Dvelo-docs) page in the Dashboard." },
            { "name": "wixPayOrderId",
              "type": "string",
              "doc": "ID of the associated Wix Pay order, created by the [`createOnlineOrder()`](wix-pricing-plans-backend/checkout/createonlineorder) function. Send this value as a parameter to the Wix Pay [`startPayment()`](wix-pay/startPayment) function to enable your buyer to pay for the order. `wixPayOrderId` is omitted if the order is free.",
              "optional": true },
            { "name": "buyer",
              "type": "wix-pricing-plans-backend.Orders.Buyer",
              "doc": "Buyer details." },
            { "name": "priceDetails",
              "type": "wix-pricing-plans-backend.Orders.PriceDetails",
              "doc": "Order pricing details for one payment cycle, payment schedule, and expiration." },
            { "name": "type",
              "type": "string",
              "doc": "How the order was processed. \nOne of:\n + `\"ONLINE\"`. The buyer purchased the plan using the site.\n + `\"OFFLINE\"`. The buyer made a manual, offline purchase without using the site." },
            { "name": "status",
              "type": "string",
              "doc": "Status of the order.\nOne of:\n + `\"DRAFT\"`. The order has been initiated but payment hasn't been processed yet. The plan isn't yet available for use.\n + `\"PENDING\"`. Payment is being processed. The plan isn't yet available for use.\n + `\"ACTIVE\"`. The order has been processed and paid for. The plan is available for use.\n + `\"PAUSED\"`. Use of the plan has been [paused](wix-pricing-plans-backend/orders/pauseorder), for example, if the buyer is away. The plan can be [resumed](wix-pricing-plans-backend/orders/resumeorder).\n + `\"ENDED\"`. The order has completed its duration and is no longer available for use.\n + `\"CANCELED\"`. The order has been [canceled](wix-pricing-plans-backend/orders/cancelorder)." },
            { "name": "autoRenewCanceled",
              "type": "boolean",
              "doc": "If true, next payment won't be charged at the next scheduled payment date. The order `status` will become `\"CANCELED\"` at the expiration date. Omitted for single payment orders.",
              "optional": true },
            { "name": "cancellation",
              "type": "wix-pricing-plans-backend.Orders.Cancellation",
              "doc": "Details about the cancellation of an order. Omitted if the order `status` isn't `\"CANCELED\"`.",
              "optional": true },
            { "name": "lastPaymentStatus",
              "type": "string",
              "doc": "Status of the last payment for the order. The site owner updates this manually for offline orders.\nOne of:\n + `\"PAID\"`. The last payment was paid.\n + `\"REFUNDED\"`. The last payment was refunded.\n + `\"FAILED\"`. The last payment transaction didn't complete.\n + `\"UNPAID\"`. The last payment wasn't paid.\n + `\"PENDING\"`. Awaiting payment. \n + `\"NOT_APPLICABLE\"`. No payment was necessary, such as for free plans or free trials." },
            { "name": "startDate",
              "type": "Date",
              "doc": "Date the plan for this order will become active." },
            { "name": "endDate",
              "type": "Date",
              "doc": "Date the plan for this order will expire. Omitted if the order is active until canceled.",
              "optional": true },
            { "name": "pausePeriods",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "wix-pricing-plans-backend.Orders.PausePeriod" ] },
              "doc": "List of periods during which this order is paused, if there are any." },
            { "name": "earliestEndDate",
              "type": "Date",
              "doc": "Earliest possible date that the plan for this order can end. This is calculated by adding all pause periods to the original end date. This date is used as a boundary for extending or shortening the duration of a plan. You can't set a plan to expire before this date. Omitted if the order is active until canceled.",
              "optional": true },
            { "name": "planName",
              "type": "string",
              "doc": "Name of the plan at the time of the order." },
            { "name": "planDescription",
              "type": "string",
              "doc": "Description of the plan at the time of the order." },
            { "name": "_createdDate",
              "type": "Date",
              "doc": "Date order was created. This is the date before initiating a payment or any other actions." },
            { "name": "_updatedDate",
              "type": "Date",
              "doc": "Date order was last updated, such as the date an order was paused, resumed, or canceled." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "OrderRecurrence",
        "locations":
          [ { "lineno": 15,
              "filename": "orders-shared.js" } ],
        "docs":
          { "summary": "The order has recurring payments.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "cycleDuration",
              "type": "wix-pricing-plans-backend.Duration",
              "doc": "Length of one payment cycle, for example, 1 month to have monthly payments. Multiply `cycleDuration`'s `count` by `cycleCount` to get the subscription duration. *Currently, only a value of `1` is supported for `cycleDuration`.*" },
            { "name": "cycleCount",
              "type": "number",
              "doc": "Number of cycles. Zero for unlimited plan orders and orders whose plans are active until canceled." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "PaginationOptions",
        "locations":
          [ { "lineno": 207,
              "filename": "orders.js" } ],
        "docs":
          { "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "limit",
              "type": "number",
              "doc": "Limit the number of orders returned. Defaults to `50`.",
              "optional": true },
            { "name": "skip",
              "type": "number",
              "doc": "Number of entries to skip.",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "PausePeriod",
        "locations":
          [ { "lineno": 101,
              "filename": "orders-shared.js" } ],
        "docs":
          { "summary": "Period during which the order of a plan is suspended.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "status",
              "type": "string",
              "doc": "Whether the pause period (suspension) is currently in effect. \nOne of:\n + `\"ACTIVE\"`. The plan for the order is suspended. The pause period is in progress.\n + `\"ENDED\"`. The plan for the order no longer suspended. The pause period has ended." },
            { "name": "pauseDate",
              "type": "Date",
              "doc": "Date defining the start of the pause period." },
            { "name": "resumeDate",
              "type": "Date",
              "doc": "When an order for a plan is resumed, the date the order of the plan resumed." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "PriceDetails",
        "locations":
          [ { "lineno": 113,
              "filename": "orders-shared.js" } ],
        "docs":
          { "summary": "Price details for the order.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "subtotal",
              "type": "string",
              "doc": "Price of the order, excluding tax. Specified as a monetary amount, such as `\"3.99\"`." },
            { "name": "tax",
              "type": "wix-pricing-plans-backend.Orders.Tax",
              "doc": "Tax applied for the plan. Omitted if no tax was applied.",
              "optional": true },
            { "name": "total",
              "type": "string",
              "doc": "Price after tax is applied. Specified as a monetary amount, such as `\"4.98\"`. If no tax was applied, this amount is the same as `subtotal`." },
            { "name": "planPrice",
              "type": "string",
              "doc": "Price of the plan when the order was created. This price is the amount for a single payment. For subscriptions, this is the amount to pay for each single payment cycle and the `planPrice` is required. Otherwise, the payment is for the entire plan." },
            { "name": "currency",
              "type": "string",
              "doc": "Currency code. Must be a valid [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217) currency code (for example, `\"USD\"`)." },
            { "name": "subscription",
              "type": "wix-pricing-plans-backend.Orders.OrderRecurrence",
              "doc": "Pricing model indicating that the order has recurring payments. This type of subscription isn't a \"Wix subscription,\" which encompasses various types of subscriptions, such as Wix Stores subscriptions, Wix invoice subscriptions, and *all* pricing plan models.",
              "optional": true },
            { "name": "singlePaymentForDuration",
              "type": "wix-pricing-plans-backend.Duration",
              "doc": "Pricing model indicating that the order is paid with a single payment per cycle and what the length of the cycle is. The cycle is the duration of the order's plan, not a payment cycle.",
              "optional": true },
            { "name": "singlePaymentUnlimited",
              "type": "boolean",
              "doc": "Pricing model indicating that the order of the plan is paid in one single payment and that the order is active until canceled.",
              "optional": true },
            { "name": "freeTrialDays",
              "type": "number",
              "doc": "Free trial period for the order in days. Available only for orders whose plans are recurring, meaning plans whose pricing model is `subscription`.",
              "optional": true } ],
        "extra":
          { "oneOfGroups":
              [ { "name": "pricingModel",
                  "members":
                    [ "singlePaymentForDuration",
                      "singlePaymentUnlimited",
                      "subscription" ] } ] },
        "labels": [] },
      { "name": "SortingOptions",
        "locations":
          [ { "lineno": 139,
              "filename": "orders-shared.js" } ],
        "docs":
          { "summary": "Sorting details.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "fieldName",
              "type": "string",
              "doc": "Name of the property to sort by. Defaults to `_dateCreated`.",
              "optional": true },
            { "name": "order",
              "type": "string",
              "doc": "Sort order. Defaults to `\"ASC\"`.\nOne of:\n + `\"ASC\"`. Ascending.\n + `\"DESC\"`. Descending.",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "Tax",
        "locations":
          [ { "lineno": 129,
              "filename": "orders-shared.js" } ],
        "docs":
          { "summary": "Tax applied to the order. If empty, no tax was applied.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "name",
              "type": "string",
              "doc": "Name of the tax, such as `VAT`." },
            { "name": "includedInPrice",
              "type": "boolean",
              "doc": "Whether the tax is included in the original price (`true`) or added at checkout (`false`)." },
            { "name": "rate",
              "type": "string",
              "doc": "Tax rate as a percentage, such as `\"7.00\"`." },
            { "name": "amount",
              "type": "string",
              "doc": "Total amount of the tax, specified as a monetary amount, such as `\"0.99\"`." } ],
        "extra":
          {  },
        "labels": [] } ],
  "extra":
    {  } }