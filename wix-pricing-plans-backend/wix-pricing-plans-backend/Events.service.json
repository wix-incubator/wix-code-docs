{ "name": "Events",
  "memberOf": "wix-pricing-plans-backend",
  "mixes": [],
  "labels":
    [ "new" ],
  "location":
    { "lineno": 1,
      "filename": "events.js" },
  "docs":
    { "summary": "Events fired by pricing plans created using the Pricing Plans API.",
      "description":
        [ "Wix Pricing Plans events are fired in you site's backend when certain events occur with plans created using the Pricing Plan API.",
          " You can write event handlers that react to these events. Event handler functions",
          " receive data that corresponds to the event that has occurred. Use event handlers",
          " to create custom responses to pricing plan events.",
          "",
          " Note that backend events don't work when previewing your site.",
          "",
          " To add a pricing plan event handler, add an **events.js** file to the **Backend** section",
          " of your site if one does not already exist. All event handler functions for your",
          " site are defined in this file.",
          "",
          " Event handler functions are defined using the following pattern:",
          "",
          " ```javascript",
          " export function <wixAppName>_<eventName>(event) { }",
          " ```",
          "",
          " For example, an event handler that handles pricing plan updates looks",
          " like this:",
          "",
          " ```javascript",
          " export function wixPricingPlans_onPlanUpdated(event) { }",
          " ```" ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "onPlanArchived",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "event",
              "type": "wix-pricing-plans-backend.Events.PlanArchivedEvent",
              "doc": "Information about the pricing plan that was archived." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 126,
              "filename": "events.js" } ],
        "docs":
          { "summary": "An event that fires when a pricing plan is archived.",
            "description":
              [ "The `onPlanArchived()` event handler runs when a pricing plan has been archived.",
                " The received `PlanArchivedEvent`",
                " object contains information about the pricing plan that was archived.",
                "",
                " > **Note:** Backend events don't work when previewing your site." ],
            "links": [],
            "examples":
              [ { "title": "An event fired when a pricing plan is archived",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "",
                      "export function wixPricingPlans_onPlanArchived(event) {",
                      "  let planId = event.plan.id;",
                      "}",
                      "",
                      "/* Full event object:",
                      " * {",
                      " * \"id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\",",
                      " * \"name\": \"Gold\",",
                      " * \"description\": \"For expert gamers\",",
                      " * \"perks\": {",
                      " *   \"values\": [",
                      " *     \"benefit\",",
                      " *     \"befet2\"",
                      " *   ]",
                      " *  },",
                      " *  \"pricing\": {",
                      " *   \"subscription\": {",
                      " *      \"cycleDuration\": {",
                      " *        \"count\": 1,",
                      " *        \"unit\": \"MONTH\"",
                      " *      },",
                      " *      \"cycleCount\": 2",
                      " *    },",
                      " *    \"price\": {",
                      " *      \"value\": \"100\",",
                      " *      \"currency\": \"USD\"",
                      " *    },",
                      " *    \"freeTrialDays\": 10",
                      " *  },",
                      " *  \"public\": true,",
                      " *  \"archived\": false,",
                      " *  \"primary\": false,",
                      " *  \"hasOrders\": false,",
                      " *  \"createdDate\": \"2020-12-24T11:23:48.308Z\",",
                      " *  \"updatedDate\": \"2020-12-24T11:39:45.523Z\",",
                      " *  \"slug\": \"gold\",",
                      " *  \"maxPurchasesPerBuyer\": 10,",
                      " *  \"allowFutureStartDate\": false,",
                      " *  \"buyerCanCancel\": true,",
                      " *  \"termsAndConditions\": \"No sharing please.\",",
                      " *  \"_id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\"",
                      " *",
                      " *  }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "onPlanCreated",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "event",
              "type": "wix-pricing-plans-backend.Events.PlanCreatedEvent",
              "doc": "Information about the pricing plan that was created." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 93,
              "filename": "events.js" } ],
        "docs":
          { "summary": "An event that fires when a pricing plan is created.",
            "description":
              [ "The `onPlanCreated()` event handler runs when a pricing plan has been created.",
                " The received `PlanCreatedEvent`",
                " object contains information about the pricing plan that was created.",
                "",
                " > **Note:** Backend events don't work when previewing your site." ],
            "links": [],
            "examples":
              [ { "title": "An event fired when a pricing plan is created",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "",
                      "export function wixPricingPlans_onPlanCreated(event) {",
                      "  let planId = event.plan._id;",
                      "  console.log(\"This is the main event! Plan created!\");",
                      "  console.log(event);",
                      "}",
                      "",
                      "/* XXX Full event object:",
                      "{",
                      "  \"id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\",",
                      "  \"name\": \"Gold\",",
                      "  \"description\": \"For expert gamers\",",
                      "  \"perks\": {",
                      "    \"values\": [",
                      "      \"benefit\",",
                      "      \"befet2\"",
                      "    ]",
                      "  },",
                      "  \"pricing\": {",
                      "    \"subscription\": {",
                      "      \"cycleDuration\": {",
                      "        \"count\": 1,",
                      "        \"unit\": \"MONTH\"",
                      "      },",
                      "      \"cycleCount\": 2",
                      "    },",
                      "    \"price\": {",
                      "      \"value\": \"100\",",
                      "      \"currency\": \"USD\"",
                      "    },",
                      "    \"freeTrialDays\": 10",
                      "  },",
                      "  \"public\": true,",
                      "  \"archived\": false,",
                      "  \"primary\": false,",
                      "  \"hasOrders\": false,",
                      "  \"createdDate\": \"2020-12-24T11:23:48.308Z\",",
                      "  \"updatedDate\": \"2020-12-24T11:39:45.523Z\",",
                      "  \"slug\": \"gold\",",
                      "  \"maxPurchasesPerBuyer\": 10,",
                      "  \"allowFutureStartDate\": false,",
                      "  \"buyerCanCancel\": true,",
                      "  \"termsAndConditions\": \"No sharing please.\",",
                      "  \"_id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\"",
                      "",
                      " *  }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "onPlanUpdated",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "event",
              "type": "wix-pricing-plans-backend.Events.PlanUpdatedEvent",
              "doc": "Information about the pricing plan that was updated." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 110,
              "filename": "events.js" } ],
        "docs":
          { "summary": "An event that fires when a pricing plan is changed.",
            "description":
              [ "The `onPlanUpdated()` event handler runs when a pricing plan has changed.",
                " The received `PlanUpdatedEvent`",
                " object contains information about the pricing plan that was updated.",
                "",
                " > **Note:** Backend events don't work when previewing your site." ],
            "links": [],
            "examples":
              [ { "title": "An event fired when a pricing plan is changed",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "",
                      "export function wixPricingPlans_onPlanUpdated(event) {",
                      "  let planId = event.plan.id;",
                      "}",
                      "",
                      "/* XXX Full event object:",
                      "{",
                      "  \"id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\",",
                      "  \"name\": \"Gold\",",
                      "  \"description\": \"For expert gamers\",",
                      "  \"perks\": {",
                      "    \"values\": [",
                      "      \"benefit\",",
                      "      \"befet2\"",
                      "    ]",
                      "  },",
                      "  \"pricing\": {",
                      "    \"subscription\": {",
                      "      \"cycleDuration\": {",
                      "        \"count\": 1,",
                      "        \"unit\": \"MONTH\"",
                      "      },",
                      "      \"cycleCount\": 2",
                      "    },",
                      "    \"price\": {",
                      "      \"value\": \"100\",",
                      "      \"currency\": \"USD\"",
                      "    },",
                      "    \"freeTrialDays\": 10",
                      "  },",
                      "  \"public\": true,",
                      "  \"archived\": false,",
                      "  \"primary\": false,",
                      "  \"hasOrders\": false,",
                      "  \"createdDate\": \"2020-12-24T11:23:48.308Z\",",
                      "  \"updatedDate\": \"2020-12-24T11:39:45.523Z\",",
                      "  \"slug\": \"gold\",",
                      "  \"maxPurchasesPerBuyer\": 10,",
                      "  \"allowFutureStartDate\": false,",
                      "  \"buyerCanCancel\": true,",
                      "  \"termsAndConditions\": \"No sharing please.\",",
                      "  \"_id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\"",
                      "",
                      " *  }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "callbacks": [],
  "messages":
    [ { "name": "PlanArchivedEvent",
        "locations":
          [ { "lineno": 72,
              "filename": "events.js" } ],
        "docs":
          { "summary": "Information about the pricing plan that was archived.",
            "links":
              [ "[onPlanArchived()](#onPlanUArchived)" ],
            "examples":
              [ { "title": "An event when a pricing plan is archived",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "",
                      "export function wixPricingPlans_onPlanArchived(event) {",
                      "  let planId = event.plan.id;",
                      "}",
                      "",
                      "/* Full event object:",
                      " * {",
                      " * \"id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\",",
                      " * \"name\": \"Gold\",",
                      " * \"description\": \"For expert gamers\",",
                      " * \"perks\": {",
                      " *   \"values\": [",
                      " *     \"benefit\",",
                      " *     \"befet2\"",
                      " *   ]",
                      " *  },",
                      " *  \"pricing\": {",
                      " *   \"subscription\": {",
                      " *      \"cycleDuration\": {",
                      " *        \"count\": 1,",
                      " *        \"unit\": \"MONTH\"",
                      " *      },",
                      " *      \"cycleCount\": 2",
                      " *    },",
                      " *    \"price\": {",
                      " *      \"value\": \"100\",",
                      " *      \"currency\": \"USD\"",
                      " *    },",
                      " *    \"freeTrialDays\": 10",
                      " *  },",
                      " *  \"public\": true,",
                      " *  \"archived\": false,",
                      " *  \"primary\": false,",
                      " *  \"hasOrders\": false,",
                      " *  \"createdDate\": \"2020-12-24T11:23:48.308Z\",",
                      " *  \"updatedDate\": \"2020-12-24T11:39:45.523Z\",",
                      " *  \"slug\": \"gold\",",
                      " *  \"maxPurchasesPerBuyer\": 10,",
                      " *  \"allowFutureStartDate\": false,",
                      " *  \"buyerCanCancel\": true,",
                      " *  \"termsAndConditions\": \"No sharing please.\",",
                      " *  \"_id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\"",
                      " *",
                      " *  }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "id",
              "type": "string",
              "doc": "The ID of the the pricing plan." },
            { "name": "name",
              "type": "string",
              "doc": "Pricing plan name." },
            { "name": "description",
              "type": "string",
              "doc": "Pricing plan description." },
            { "name": "public",
              "type": "string",
              "doc": "Whether the pricing plan is public. If false, the plan is hidden and site members and visitors cannot see the plan on the site." },
            { "name": "perks",
              "type": "wix-pricing-plans-backend.StringList_2983087161",
              "doc": "What is included with this plan (e.g., 1 weekly entrance to a specific class)." },
            { "name": "createdDate",
              "type": "Date",
              "doc": "The date the pricing plan was created." },
            { "name": "updatedDate",
              "type": "Date",
              "doc": "The date the pricing plan was updated." },
            { "name": "pricing",
              "type": "wix-pricing-plans-backend.Pricing_13027256073",
              "doc": "Plan price, payment schedule, and expiration." },
            { "name": "allowFutureStartDate",
              "type": "boolean",
              "doc": "Whether the buyer can start the plan at a later date. Defaults to false.",
              "optional": true },
            { "name": "buyerCanCancel",
              "type": "boolean",
              "doc": "Whether the buyer is allowed to cancel their plan. Defaults to false.",
              "optional": true },
            { "name": "termsAndConditions",
              "type": "string",
              "doc": "Any terms and conditions that apply to the plan. This information will be displayed during checkout.",
              "optional": true },
            { "name": "slug",
              "type": "string",
              "doc": "The pricing plan's unique URL as used in a dynamic page." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "PlanCreatedEvent",
        "locations":
          [ { "lineno": 30,
              "filename": "events.js" } ],
        "docs":
          { "summary": "Information about the pricing plan that was created.",
            "links":
              [ "[onPlanCreated()](#onPlanCreated)" ],
            "examples":
              [ { "title": "An event when a new pricing plan is created",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "",
                      "export function wixPricingPlans_onPlanCreated(event) {",
                      "  let planId = event.plan._id;",
                      "  console.log(\"This is the main event! Plan created!\");",
                      "  console.log(event);",
                      "}",
                      "",
                      "/* XXX Full event object:",
                      "{",
                      "  \"id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\",",
                      "  \"name\": \"Gold\",",
                      "  \"description\": \"For expert gamers\",",
                      "  \"perks\": {",
                      "    \"values\": [",
                      "      \"benefit\",",
                      "      \"befet2\"",
                      "    ]",
                      "  },",
                      "  \"pricing\": {",
                      "    \"subscription\": {",
                      "      \"cycleDuration\": {",
                      "        \"count\": 1,",
                      "        \"unit\": \"MONTH\"",
                      "      },",
                      "      \"cycleCount\": 2",
                      "    },",
                      "    \"price\": {",
                      "      \"value\": \"100\",",
                      "      \"currency\": \"USD\"",
                      "    },",
                      "    \"freeTrialDays\": 10",
                      "  },",
                      "  \"public\": true,",
                      "  \"archived\": false,",
                      "  \"primary\": false,",
                      "  \"hasOrders\": false,",
                      "  \"createdDate\": \"2020-12-24T11:23:48.308Z\",",
                      "  \"updatedDate\": \"2020-12-24T11:39:45.523Z\",",
                      "  \"slug\": \"gold\",",
                      "  \"maxPurchasesPerBuyer\": 10,",
                      "  \"allowFutureStartDate\": false,",
                      "  \"buyerCanCancel\": true,",
                      "  \"termsAndConditions\": \"No sharing please.\",",
                      "  \"_id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\"",
                      "",
                      " *  }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "id",
              "type": "string",
              "doc": "The ID of the the pricing plan, auto-generated when a plan is created. The ID is unique across all pricing plans on your site." },
            { "name": "name",
              "type": "string",
              "doc": "Pricing plan name." },
            { "name": "description",
              "type": "string",
              "doc": "Pricing plan description." },
            { "name": "public",
              "type": "string",
              "doc": "Whether the pricing plan is public. If false, the plan is hidden and site members and visitors cannot see the plan on the site." },
            { "name": "perks",
              "type": "wix-pricing-plans-backend.StringList_2983087161",
              "doc": "What is included with this plan (e.g., 1 weekly entrance to a specific class)." },
            { "name": "createdDate",
              "type": "Date",
              "doc": "The date the pricing plan was created." },
            { "name": "updatedDate",
              "type": "Date",
              "doc": "The date the pricing plan was updated." },
            { "name": "pricing",
              "type": "wix-pricing-plans-backend.Pricing_13027256073",
              "doc": "Plan price, payment schedule, and expiration." },
            { "name": "allowFutureStartDate",
              "type": "boolean",
              "doc": "Whether the buyer can start the plan at a later date. Defaults to false.",
              "optional": true },
            { "name": "buyerCanCancel",
              "type": "boolean",
              "doc": "Whether the buyer is allowed to cancel their plan. Defaults to false.",
              "optional": true },
            { "name": "termsAndConditions",
              "type": "string",
              "doc": "Any terms and conditions that apply to the plan. This information will be displayed during checkout.",
              "optional": true },
            { "name": "slug",
              "type": "string",
              "doc": "The pricing plan's unique URL as used in a dynamic page." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "PlanUpdatedEvent",
        "locations":
          [ { "lineno": 51,
              "filename": "events.js" } ],
        "docs":
          { "summary": "Information about the pricing plan that was updated.",
            "links":
              [ "[onPlanUpdated()](#onPlanUpdated)" ],
            "examples":
              [ { "title": "An event when a pricing plan is updated",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "",
                      "export function wixPricingPlans_onPlanUpdated(event) {",
                      "  let planId = event.plan.id;",
                      "}",
                      "",
                      "/* XXX Full event object:",
                      "{",
                      "  \"id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\",",
                      "  \"name\": \"Gold\",",
                      "  \"description\": \"For expert gamers\",",
                      "  \"perks\": {",
                      "    \"values\": [",
                      "      \"benefit\",",
                      "      \"befet2\"",
                      "    ]",
                      "  },",
                      "  \"pricing\": {",
                      "    \"subscription\": {",
                      "      \"cycleDuration\": {",
                      "        \"count\": 1,",
                      "        \"unit\": \"MONTH\"",
                      "      },",
                      "      \"cycleCount\": 2",
                      "    },",
                      "    \"price\": {",
                      "      \"value\": \"100\",",
                      "      \"currency\": \"USD\"",
                      "    },",
                      "    \"freeTrialDays\": 10",
                      "  },",
                      "  \"public\": true,",
                      "  \"archived\": false,",
                      "  \"primary\": false,",
                      "  \"hasOrders\": false,",
                      "  \"createdDate\": \"2020-12-24T11:23:48.308Z\",",
                      "  \"updatedDate\": \"2020-12-24T11:39:45.523Z\",",
                      "  \"slug\": \"gold\",",
                      "  \"maxPurchasesPerBuyer\": 10,",
                      "  \"allowFutureStartDate\": false,",
                      "  \"buyerCanCancel\": true,",
                      "  \"termsAndConditions\": \"No sharing please.\",",
                      "  \"_id\": \"695e4a5a-f20c-496d-8040-adc3a46f9926\"",
                      "",
                      " *  }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "id",
              "type": "string",
              "doc": "The ID of the the pricing plan." },
            { "name": "name",
              "type": "string",
              "doc": "Pricing plan name." },
            { "name": "description",
              "type": "string",
              "doc": "Pricing plan description." },
            { "name": "public",
              "type": "string",
              "doc": "Whether the pricing plan is public. If false, the plan is hidden and site members and visitors cannot see the plan on the site." },
            { "name": "perks",
              "type": "wix-pricing-plans-backend.StringList_2983087161",
              "doc": "What is included with this plan (e.g., 1 weekly entrance to a specific class)." },
            { "name": "createdDate",
              "type": "Date",
              "doc": "The date the pricing plan was created." },
            { "name": "updatedDate",
              "type": "Date",
              "doc": "The date the pricing plan was updated." },
            { "name": "pricing",
              "type": "wix-pricing-plans-backend.Pricing_13027256073",
              "doc": "Plan price, payment schedule, and expiration." },
            { "name": "allowFutureStartDate",
              "type": "boolean",
              "doc": "Whether the buyer can start the plan at a later date. Defaults to false.",
              "optional": true },
            { "name": "buyerCanCancel",
              "type": "boolean",
              "doc": "Whether the buyer is allowed to cancel their plan. Defaults to false.",
              "optional": true },
            { "name": "termsAndConditions",
              "type": "string",
              "doc": "Any terms and conditions that apply to the plan. This information will be displayed during checkout.",
              "optional": true },
            { "name": "slug",
              "type": "string",
              "doc": "The pricing plan's unique URL as used in a dynamic page." } ],
        "extra":
          {  },
        "labels": [] } ],
  "extra":
    {  } }