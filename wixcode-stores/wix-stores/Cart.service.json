{ "name": "Cart",
  "memberOf": "wix-stores",
  "mixes": [],
  "labels":
    [ "changed" ],
  "location":
    { "lineno": 18,
      "filename": "stores-index.js" },
  "docs":
    { "summary": "The wix-stores.Cart module contains functionality for working with your\n site's cart from client-side code.",
      "description":
        [ "To use the Wix Stores Cart API, import `{ cart }` from the `wix-stores` module:",
          "",
          "   ```javascript",
          "   import { cart } from 'wix-stores';",
          "   ```" ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "addProducts",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "products",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "wix-stores.Cart.AddToCartItem" ] },
              "doc": "One or more products to be added to the cart." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-stores.CartObj" ] },
            "doc": "Fulfilled - The updated cart with added products." },
        "locations":
          [ { "lineno": 322,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "Adds one or more products to the cart.",
            "description":
              [ "The `addProducts()` function returns a Promise that is resolved when the",
                " specified products are added to the cart.",
                "",
                " Use the `quantity` property of each `AddToCartItem` object that is",
                " passed to the products parameter to add one or more products to the cart at one time.",
                "",
                " Use the `options` property of each `AddToCartItem` object that is",
                " passed to the products parameter to specify the product options to choose when adding",
                " the product to the cart. For example, if a product comes in different sizes, you can",
                " specify the size that should be added to the cart. If the product you are adding to the",
                " cart has options, you must specify which options should be chosen.",
                "",
                " You can see a product's option information in the `productOptions` field in the **Stores/Products** collection.",
                "",
                " You can use [`product.getOptionsAvailability()`](https://www.wix.com/velo/reference/wix-stores/product/getoptionsavailability)",
                " to determine if an item with specific options is available for purchase.",
                "",
                "> **Notes:**",
                "+ If you [create a product](https://www.wix.com/velo/reference/wix-stores-backend/createproduct) immediately before adding it to the cart, we suggest [setting a timeout](https://developer.mozilla.org/en-US/docs/Web/API/setTimeout) for `\"1000\"` milliseconds (1 second) before calling `cart.addProducts()`. While this slows down the operation slightly, it also ensures proper retrieval of the newly created product before being added to the cart.",
                "+ This function replaces the deprecated [`$w.cartIcon.addToCart()`]($w/carticon/addtocart) and [`$w.cartIcon.addProductsToCart()`]($w/carticon/addproductstocart). The deprecated functions will continue to work, but they will not receive updates. To keep any existing code compatible with future changes, see each function's [migration instructions]($w/carticon/addtocart#migration-instructions)." ],
            "links": [],
            "examples":
              [ { "title": "Add products to the cart",
                  "body":
                    [ "import { cart } from 'wix-stores';",
                      "",
                      "const products = [",
                      "  {",
                      "    \"productId\": \"0873ed58-f88d-77d1-4566-afd4c50d253e\",",
                      "    \"quantity\": 3",
                      "  },",
                      "  {",
                      "    \"productId\": \"91f7ac8b-2baa-289c-aa50-6d64764f35d3\",",
                      "    \"quantity\": 1,",
                      "    \"options\": {",
                      "      \"choices\": {",
                      "        \"Weight\": \"250g\",",
                      "        \"Ground for\": \"Filter\"",
                      "      }",
                      "    }",
                      "  },",
                      "  {",
                      "    \"productId\": \"5376f9ec-b92e-efa9-e4a1-f4f480aa0d3a\",",
                      "    \"quantity\": 1,",
                      "    \"options\": {",
                      "      \"choices\": {",
                      "        \"Weight\": \"500g\",",
                      "        \"Ground for\": \"Stovetop\"",
                      "      },",
                      "      \"customTextFields\": [{",
                      "        \"title\": \"Custom package sticker\",",
                      "        \"value\": \"Enjoy your coffee!\"",
                      "      }]",
                      "    }",
                      "  }",
                      "]",
                      "",
                      "cart.addProducts(products)",
                      "  .then((updatedCart) => {",
                      "    // Products added to cart",
                      "    const cartId = updatedCart._id;",
                      "    const cartLineItems = updatedCart.lineItems;",
                      "  })",
                      "  .catch((error) => {",
                      "    // Products not added to cart",
                      "    console.error(error);",
                      "  });",
                      "",
                      "",
                      "/* Example of returned updatedCart object:",
                      " *",
                      " *  {",
                      " *    \"_id\": \"5d54aa6f-f653-4bed-8c34-7f1373f88c89\",",
                      " *    \"status\": \"INCOMPLETE\",",
                      " *    \"billingAddress\": {",
                      " *      \"firstName\": \"Jane\",",
                      " *      \"lastName\": \"Doe\",",
                      " *      \"email\": \"\",",
                      " *      \"phone\": \"+1234567890\",",
                      " *      \"company\": \"undefined\",",
                      " *      \"vatId\": \"undefined\",",
                      " *      \"address\": \"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      " *    },",
                      " *    \"appliedCoupon\": \"null\",",
                      " *    \"buyerInfo\": {",
                      " *      \"email\": \"\",",
                      " *      \"firstName\": \"Jane\",",
                      " *      \"identityType\": \"ADMIN\",",
                      " *      \"lastName\": \"Doe\",",
                      " *      \"phone\": \"+1234567890\"",
                      " *    },",
                      " *    \"buyerNote\": \"undefined\",",
                      " *    \"currency\": {",
                      " *      \"symbol\": \"$\",",
                      " *      \"code\": \"USD\"",
                      " *    },",
                      " *    \"lineItems\": [",
                      " *      {",
                      " *        \"id\": 16,",
                      " *        \"productId\": \"0873ed58-f88d-77d1-4566-afd4c50d253e\",",
                      " *        \"name\": \"Digital product\",",
                      " *        \"quantity\": 3,",
                      " *        \"lineItemType\": \"DIGITAL\",",
                      " *        \"customTextFields\": [],",
                      " *        \"options\": [],",
                      " *        \"price\": 20,",
                      " *        \"totalPrice\": 60,",
                      " *        \"mediaItem\": \"null\",",
                      " *        \"weight\": 0",
                      " *      },",
                      " *      {",
                      " *        \"id\": 17,",
                      " *        \"productId\": \"91f7ac8b-2baa-289c-aa50-6d64764f35d3\",",
                      " *        \"name\": \"Colombian Arabica\",",
                      " *        \"quantity\": 1,",
                      " *        \"weight\": 0.25,",
                      " *        \"sku\": \"10003\",",
                      " *        \"lineItemType\": \"PHYSICAL\",",
                      " *        \"customTextFields\": [],",
                      " *        \"mediaItem\": {",
                      " *          \"src\": \"wix:image://v1/nsplsh_5033504669385448625573~mv2_d_6000_3376_s_4_2.jpg/file.jpg#originWidth=6000&originHeight=3376\",",
                      " *          \"type\": \"IMAGE\"",
                      " *        },",
                      " *        \"options\": [",
                      " *          {",
                      " *            \"option\": \"Weight\",",
                      " *            \"selection\": \"250g\"",
                      " *          },",
                      " *          {",
                      " *            \"option\": \"Ground for\",",
                      " *            \"selection\": \"Filter\"",
                      " *          }",
                      " *        ],",
                      " *        \"price\": 35,",
                      " *        \"totalPrice\": 35",
                      " *      },",
                      " *      {",
                      " *        \"id\": 18,",
                      " *        \"productId\": \"5376f9ec-b92e-efa9-e4a1-f4f480aa0d3a\",",
                      " *        \"name\": \"Indonesian Blend\",",
                      " *        \"quantity\": 1,",
                      " *        \"lineItemType\": \"PHYSICAL\",",
                      " *        \"customTextFields\": [",
                      " *          {",
                      " *            \"title\": \"Custom package sticker\",",
                      " *            \"value\": \"Enjoy your coffee!\"",
                      " *          }",
                      " *        ],",
                      " *        \"mediaItem\": {",
                      " *          \"src\": \"wix:image://v1/nsplsh_316b6449475f3235386255~mv2_d_2977_3951_s_4_2.jpg/file.jpg#originWidth=2977&originHeight=3951\",",
                      " *          \"type\": \"IMAGE\"",
                      " *        },",
                      " *        \"options\": [",
                      " *          {",
                      " *            \"option\": \"Weight\",",
                      " *            \"selection\": \"500g\"",
                      " *          },",
                      " *          {",
                      " *            \"option\": \"Ground for\",",
                      " *            \"selection\": \"Stovetop\"",
                      " *          }",
                      " *        ],",
                      " *        \"price\": 35,",
                      " *        \"totalPrice\": 35,",
                      " *        \"weight\": 0",
                      " *      }",
                      " *    ],",
                      " *    \"shippingInfo\": {",
                      " *      \"shippingAddress\": {",
                      " *        \"firstName\": \"Jane\",",
                      " *        \"lastName\": \"Doe\",",
                      " *        \"email\": \"\",",
                      " *        \"phone\": \"+1234567890\",",
                      " *        \"company\": \"undefined\",",
                      " *        \"vatId\": \"undefined\",",
                      " *        \"address\": \"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      " *      }",
                      " *    },",
                      " *    \"totals\": {",
                      " *      \"discount\": 0,",
                      " *      \"quantity\": 5,",
                      " *      \"shipping\": 0,",
                      " *      \"subtotal\": 160,",
                      " *      \"tax\": 0,",
                      " *      \"total\": 160,",
                      " *      \"weight\": 0.75",
                      " *    },",
                      " *    \"weightUnit\": \"KG\"",
                      " *  }",
                      " *",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "applyCoupon",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "couponCode",
              "type": "string",
              "doc": "The code of the coupon to be applied to the cart." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-stores.CartObj" ] },
            "doc": "Fulfilled - The updated cart." },
        "locations":
          [ { "lineno": 420,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "Adds and applies a coupon to the cart.",
            "description":
              [ "The `applyCoupon()` function returns a Promise that resolves to the current",
                " site visitor's cart when the specified coupon has been applied.",
                "",
                " The cart can only hold one coupon. If a coupon is already applied to the cart, passing a different `couponCode` to `applyCoupon()` will replace the existing one.",
                "",
                "> **Note:** When [editing a site as a contributor](https://support.wix.com/en/article/velo-working-with-contributors), `applyCoupon()` will only work when viewing the live site." ],
            "links": [],
            "examples":
              [ { "title": "Apply coupon code \"SummerSale\" to the cart",
                  "body":
                    [ "import { cart } from 'wix-stores';",
                      "",
                      "const couponCode = \"SummerSale\";",
                      "",
                      "cart.applyCoupon(couponCode)",
                      "  .then((updatedCart) => {",
                      "    const couponDiscount = updatedCart.appliedCoupon.discountValue;",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });",
                      "",
                      "/* Example of returned updatedCart object:",
                      "*",
                      "* {",
                      "*   \"_id\": \"b36eb035-635a-450e-b74d-acf86ee4dfcc\",",
                      "*   \"appliedCoupon\": {",
                      "*     \"couponId\": \"e81e9c48-f954-4044-ba64-ccfe5c103c8f\",",
                      "*     \"name\": \"Summer Sale\",",
                      "*     \"code\": \"SummerSale\",",
                      "*     \"discountValue\": \"$10.00\",",
                      "*     \"couponType\": \"MoneyOff\"",
                      "*   },",
                      "*   \"billingAddress\": {",
                      "*     \"firstName\": \"John\",",
                      "*     \"lastName\": \"Doe\",",
                      "*     \"email\":\"john.doe@somedomain.com\",",
                      "*     \"phone\":\"5555555\",",
                      "*     \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      "*   },",
                      "*   \"buyerNote\": \"This is a note from the buyer.\",",
                      "*   \"buyerInfo\":{",
                      "*     \"firstName\": \"John\",",
                      "*     \"lastName\": \"Doe\",",
                      "*     \"email\": \"john.doe@somedomain.com\",",
                      "*     \"phone\": \"5555555555\",",
                      "*     \"identityType\": \"CONTACT\"",
                      "*   },",
                      "*   \"status\": \"INCOMPLETE\",",
                      "*   \"currency\": {",
                      "*      \"code\": \"USD\",",
                      "*      \"symbol\": \"$\"",
                      "*   },",
                      "*   \"shippingInfo\": {",
                      "*      \"deliveryOption\": \"Free Shipping\",",
                      "*      \"shippingAddress\": {",
                      "*        \"firstName\": \"John\",",
                      "*        \"lastName\": \"Doe\",",
                      "*        \"email\":\"john.doe@somedomain.com\",",
                      "*        \"phone\":\"5555555\",",
                      "*        \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      "*      },",
                      "*      \"pickupDetails\":null",
                      "*   },",
                      "*   \"lineItems\":[",
                      "*     {",
                      "*       \"quantity\": 1,",
                      "*       \"price\": 120,",
                      "*       \"name\": \"A product\",",
                      "*       \"productId\": \"a668ef33-f5b8-6569-d04c-1d123be68441\",",
                      "*       \"totalPrice\": 120,",
                      "*       \"lineItemType\": \"PHYSICAL\",",
                      "*       \"customTextFields\": [",
                      "*         \"title\": \"Custom Field\",",
                      "*         \"value\": \"Custom value\"",
                      "*       ],",
                      "*       \"mediaItem\": {",
                      "*         \"src\": \"wix:image://v1/a9ff3b_ed3b544c319b4fad9c222c791a997832.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      "*         \"type\": \"IMAGE\"",
                      "*       },",
                      "*       \"sku\": \"21554345656\",",
                      "*       \"options\": [ ],",
                      "*       \"weight\": 3,",
                      "*       \"id\": 1",
                      "*     },",
                      "*     {",
                      "*       \"quantity\": 1,",
                      "*       \"price\": 25,",
                      "*       \"name\": \"Another product\",",
                      "*       \"productId\": \"1a2d7e83-4bef-31d5-09e1-3326ee271c09\",",
                      "*       \"totalPrice\": 25,",
                      "*       \"lineItemType\": \"PHYSICAL\",",
                      "*       \"mediaItem\": {",
                      "*         \"src\": \"wix:image://v1/a9ff3b_c6158b4d41784ae8b08337a331e1de7f.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      "*         \"type\": \"IMAGE\"",
                      "*       },",
                      "*       \"sku\": \"217537123517253\",",
                      "*       \"options\": [",
                      "*         {",
                      "*           \"option\": \"Size\",",
                      "*           \"selection\": \"Medium\"",
                      "*         },",
                      "*         {",
                      "*           \"option\": \"Color\",",
                      "*           \"selection\": \"Black\"",
                      "*         }",
                      "*       ],",
                      "*       \"weight\": 2,",
                      "*       \"id\": 2",
                      "*     }",
                      "*   ],",
                      "*   \"totals\": {",
                      "*      \"discount\": 10,",
                      "*      \"quantity\": 2,",
                      "*      \"shipping\": 0,",
                      "*      \"subtotal\": 145,",
                      "*      \"tax\": 0,",
                      "*      \"total\": 135,",
                      "*      \"weight\": 5",
                      "*   },",
                      "*   \"weightUnit\": \"LB\"",
                      "* }",
                      "*/" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "getCurrentCart",
        "labels": [],
        "nameParams": [],
        "params": [],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-stores.CartObj" ] },
            "doc": "Fulfilled - The retrieved cart." },
        "locations":
          [ { "lineno": 241,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "Gets the current site visitor's cart.",
            "description":
              [ "The `getCurrentCart()` function returns a Promise that resolves to the current",
                " site visitor's cart.",
                "",
                "> **Notes:**",
                "> + This function replaces the deprecated `wixStores.getCurrentCart()`. The deprecated function will continue to work, but it will not receive updates. To keep any existing code compatible with future changes, see the [migration instructions](wix-stores/getcurrentcart#migration-instructions).",
                "> + When [editing a site as a contributor](https://support.wix.com/en/article/velo-working-with-contributors), `getCurrentCart()` will only work when viewing the live site." ],
            "links": [],
            "examples":
              [ { "title": "Get the current site visitor's cart",
                  "body":
                    [ "import { cart } from 'wix-stores';",
                      "",
                      "cart.getCurrentCart()",
                      "  .then((currentCart) => {",
                      "    const cartId = currentCart._id;",
                      "    const cartLineItems = currentCart.lineItems;",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });",
                      "",
                      "",
                      "/* Example of returned currentCart object:",
                      "*",
                      "* {",
                      "*   \"_id\": \"b36eb035-635a-450e-b74d-acf86ee4dfcc\",",
                      "*   \"appliedCoupon\": {",
                      "*     \"couponId\": \"e81e9c48-f954-4044-ba64-ccfe5c103c8f\",",
                      "*     \"name\": \"Summer Sale\",",
                      "*     \"code\": \"SummerSale\",",
                      "*     \"discountValue\": \"$10.00\",",
                      "*     \"couponType\": \"MoneyOff\"",
                      "*   },",
                      "*   \"billingAddress\": {",
                      "*     \"firstName\": \"John\",",
                      "*     \"lastName\": \"Doe\",",
                      "*     \"email\":\"john.doe@somedomain.com\",",
                      "*     \"phone\":\"5555555\",",
                      "*     \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      "*   },",
                      "*   \"buyerNote\": \"This is a note from the buyer.\",",
                      "*   \"buyerInfo\":{",
                      "*     \"firstName\": \"John\",",
                      "*     \"lastName\": \"Doe\",",
                      "*     \"email\": \"john.doe@somedomain.com\",",
                      "*     \"phone\": \"5555555555\",",
                      "*     \"identityType\": \"CONTACT\"",
                      "*   },",
                      "*   \"status\": \"INCOMPLETE\",",
                      "*   \"currency\": {",
                      "*      \"code\": \"USD\",",
                      "*      \"symbol\": \"$\"",
                      "*   },",
                      "*   \"shippingInfo\": {",
                      "*      \"deliveryOption\": \"Free Shipping\",",
                      "*      \"shippingAddress\": {",
                      "*        \"firstName\": \"John\",",
                      "*        \"lastName\": \"Doe\",",
                      "*        \"email\":\"john.doe@somedomain.com\",",
                      "*        \"phone\":\"5555555\",",
                      "*        \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      "*      },",
                      "*      \"pickupDetails\":null",
                      "*   },",
                      "*   \"lineItems\":[",
                      "*     {",
                      "*       \"quantity\": 1,",
                      "*       \"price\": 120,",
                      "*       \"name\": \"A product\",",
                      "*       \"productId\": \"a668ef33-f5b8-6569-d04c-1d123be68441\",",
                      "*       \"totalPrice\": 120,",
                      "*       \"lineItemType\": \"PHYSICAL\",",
                      "*       \"customTextFields\": [",
                      "*         \"title\": \"Custom Field\",",
                      "*         \"value\": \"Custom value\"",
                      "*       ],",
                      "*       \"mediaItem\": {",
                      "*         \"src\": \"wix:image://v1/a9ff3b_ed3b544c319b4fad9c222c791a997832.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      "*         \"type\": \"IMAGE\"",
                      "*       },",
                      "*       \"sku\": \"21554345656\",",
                      "*       \"options\": [ ],",
                      "*       \"weight\": 3,",
                      "*       \"id\": 1",
                      "*     },",
                      "*     {",
                      "*       \"quantity\": 1,",
                      "*       \"price\": 25,",
                      "*       \"name\": \"Another product\",",
                      "*       \"productId\": \"1a2d7e83-4bef-31d5-09e1-3326ee271c09\",",
                      "*       \"totalPrice\": 25,",
                      "*       \"lineItemType\": \"PHYSICAL\",",
                      "*       \"mediaItem\": {",
                      "*         \"src\": \"wix:image://v1/a9ff3b_c6158b4d41784ae8b08337a331e1de7f.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      "*         \"type\": \"IMAGE\"",
                      "*       },",
                      "*       \"sku\": \"217537123517253\",",
                      "*       \"options\": [",
                      "*         {",
                      "*           \"option\": \"Size\",",
                      "*           \"selection\": \"Medium\"",
                      "*         },",
                      "*         {",
                      "*           \"option\": \"Color\",",
                      "*           \"selection\": \"Black\"",
                      "*         }",
                      "*       ],",
                      "*       \"weight\": 2,",
                      "*       \"id\": 2",
                      "*     }",
                      "*   ],",
                      "*   \"totals\": {",
                      "*      \"discount\": 0,",
                      "*      \"quantity\": 2,",
                      "*      \"shipping\": 0,",
                      "*      \"subtotal\": 145,",
                      "*      \"tax\": 0,",
                      "*      \"total\": 145,",
                      "*      \"weight\": 5",
                      "*   },",
                      "*   \"weightUnit\": \"LB\"",
                      "* }",
                      "*/" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "hideMiniCart",
        "labels": [],
        "nameParams": [],
        "params": [],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 390,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "Hides the Mini Cart.",
            "description":
              [ "The `hideMiniCart()` function hides the Mini Cart.",
                "Learn more about the [Mini Cart](https://support.wix.com/en/article/wix-stores-adding-and-setting-up-the-mini-cart).",
                "",
                "> **Note:** This API will fail when viewing the site on mobile because there is no Mini Cart on the mobile site." ],
            "links": [],
            "examples":
              [ { "title": "Show and hide the Mini Cart",
                  "body":
                    [ "import { cart } from 'wix-stores';",
                      "import { formFactor } from 'wix-window';",
                      "",
                      "const products = [{",
                      "  \"productId\": \"0873ed58-f88d-77d1-4566-afd4c50d253e\",",
                      "  \"quantity\": 2",
                      "}];",
                      "",
                      "cart.addProducts(products)",
                      "  .then(() => {",
                      "    // Only show the Mini Cart if the site is not being viewed on mobile",
                      "    if (formFactor !== \"Mobile\") {",
                      "      cart.showMiniCart();",
                      "      // After displaying the Mini Cart for 3 seconds, hide the Mini Cart",
                      "      setTimeout(() => cart.hideMiniCart(), 3000);",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });" ],
                  "extra":
                    { "description": "Add products to the cart, then show the Mini Cart. After 3 seconds, hide the Mini Cart." } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "onChange",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "handler",
              "type": "wix-stores.CartChangedHandler",
              "doc": "The name of the function or the function expression to run when a cart changes." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 181,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "An event handler that is triggered when items are added or removed from a cart.",
            "description":
              [ "The `onChange()` function is a client-side event handler invoked every time the cart changes. It takes a callback function which receives the new `Cart` object as a parameter.",
                "",
                "> **Notes:**",
                "> + This function replaces the deprecated `wixStores.onCartChange()`. The deprecated function will continue to work, but it will not receive updates. To keep any existing code compatible with future changes, see the [migration instructions](wix-stores/oncartchanged#migration-instructions).",
                "> + Use `onChange()` in the global site code file (masterPage.js). This ensures the event is triggered when a change to the cart is made on any page. Learn more about [global (site) code](https://support.wix.com/en/article/velo-working-with-the-velo-sidebar#global-site).",
                "> + The `onChange()` function can only be used once a page has loaded. Therefore, you must use it in code that is contained in or is called from the [onReady()]($w.html#onReady) event handler or any element event handler.",
                "> + When [editing a site as a contributor](https://support.wix.com/en/article/velo-working-with-contributors), `onChange()` will only work when viewing the live site." ],
            "links": [],
            "examples":
              [ { "title": "An event when a cart is changed",
                  "body":
                    [ "/************************************",
                      " * Global (Site) code (masterPage.js) *",
                      " ************************************/",
                      "",
                      "import { cart } from 'wix-stores';",
                      "",
                      "$w.onReady(function () {",
                      "  cart.onChange((changedCart) => {",
                      "    const cartId = changedCart._id;",
                      "    const cartLineItems = changedCart.lineItems;",
                      "  });",
                      "});",
                      "",
                      "",
                      "/* Example of returned changedCart object:",
                      " *",
                      " * {",
                      " *   \"_id\": \"b36eb035-635a-450e-b74d-acf86ee4dfcc\",",
                      " *   \"appliedCoupon\": {",
                      " *     \"couponId\": \"e81e9c48-f954-4044-ba64-ccfe5c103c8f\",",
                      " *     \"name\": \"Summer Sale\",",
                      " *     \"code\": \"SummerSale\",",
                      " *     \"discountValue\": \"$10.00\",",
                      " *     \"couponType\": \"MoneyOff\"",
                      " *   },",
                      " *   \"billingAddress\": {",
                      " *     \"firstName\": \"John\",",
                      " *     \"lastName\": \"Doe\",",
                      " *     \"email\":\"john.doe@somedomain.com\",",
                      " *     \"phone\":\"5555555\",",
                      " *     \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      " *   },",
                      " *   \"buyerNote\": \"This is a note from the buyer.\",",
                      " *   \"buyerInfo\":{",
                      " *     \"firstName\": \"John\",",
                      " *     \"lastName\": \"Doe\",",
                      " *     \"email\": \"john.doe@somedomain.com\",",
                      " *     \"phone\": \"5555555555\",",
                      " *     \"identityType\": \"CONTACT\"",
                      " *   },",
                      " *   \"status\": \"INCOMPLETE\",",
                      " *   \"currency\": {",
                      " *      \"code\": \"USD\",",
                      " *      \"symbol\": \"$\"",
                      " *   },",
                      " *   \"shippingInfo\": {",
                      " *      \"deliveryOption\": \"Free Shipping\",",
                      " *      \"shippingAddress\": {",
                      " *        \"firstName\": \"John\",",
                      " *        \"lastName\": \"Doe\",",
                      " *        \"email\":\"john.doe@somedomain.com\",",
                      " *        \"phone\":\"5555555\",",
                      " *        \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      " *      },",
                      " *      \"pickupDetails\":null",
                      " *   },",
                      " *   \"lineItems\":[",
                      " *     {",
                      " *       \"quantity\": 1,",
                      " *       \"price\": 120,",
                      " *       \"name\": \"A product\",",
                      " *       \"productId\": \"a668ef33-f5b8-6569-d04c-1d123be68441\",",
                      " *       \"totalPrice\": 120,",
                      " *       \"lineItemType\": \"PHYSICAL\",",
                      " *       \"customTextFields\": [",
                      " *         \"title\": \"Custom Field\",",
                      " *         \"value\": \"Custom value\"",
                      " *       ],",
                      " *       \"mediaItem\": {",
                      " *         \"src\": \"wix:image://v1/a9ff3b_ed3b544c319b4fad9c222c791a997832.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      " *         \"type\": \"IMAGE\"",
                      " *       },",
                      " *       \"sku\": \"21554345656\",",
                      " *       \"options\": [ ],",
                      " *       \"weight\": 3,",
                      " *       \"id\": 1",
                      " *     },",
                      " *     {",
                      " *       \"quantity\": 1,",
                      " *       \"price\": 25,",
                      " *       \"name\": \"Another product\",",
                      " *       \"productId\": \"1a2d7e83-4bef-31d5-09e1-3326ee271c09\",",
                      " *       \"totalPrice\": 25,",
                      " *       \"lineItemType\": \"PHYSICAL\",",
                      " *       \"mediaItem\": {",
                      " *         \"src\": \"wix:image://v1/a9ff3b_c6158b4d41784ae8b08337a331e1de7f.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      " *         \"type\": \"IMAGE\"",
                      " *       },",
                      " *       \"sku\": \"217537123517253\",",
                      " *       \"options\": [",
                      " *         {",
                      " *           \"option\": \"Size\",",
                      " *           \"selection\": \"Medium\"",
                      " *         },",
                      " *         {",
                      " *           \"option\": \"Color\",",
                      " *           \"selection\": \"Black\"",
                      " *         }",
                      " *       ],",
                      " *       \"weight\": 2,",
                      " *       \"id\": 2",
                      " *     }",
                      " *   ],",
                      " *   \"totals\": {",
                      " *      \"discount\": 0,",
                      " *      \"quantity\": 2,",
                      " *      \"shipping\": 0,",
                      " *      \"subtotal\": 145,",
                      " *      \"tax\": 0,",
                      " *      \"total\": 145,",
                      " *      \"weight\": 5",
                      " *   },",
                      " *   \"weightUnit\": \"LB\"",
                      " * }",
                      " *",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "removeCoupon",
        "labels": [],
        "nameParams": [],
        "params": [],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-stores.CartObj" ] },
            "doc": "Fulfilled - The updated cart." },
        "locations":
          [ { "lineno": 438,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "Removes the coupon currently applied to the cart.",
            "description":
              [ "The `removeCoupon()` function returns a Promise that resolves to the current",
                " site visitor's cart when the currently applied coupon has been removed.",
                "",
                "> **Note:** When [editing a site as a contributor](https://support.wix.com/en/article/velo-working-with-contributors), `removeCoupon()` will only work when viewing the live site." ],
            "links": [],
            "examples":
              [ { "title": "Remove coupon from the cart",
                  "body":
                    [ "import { cart } from 'wix-stores';",
                      "",
                      "cart.removeCoupon()",
                      "  .then((updatedCart) => {",
                      "    const cartId = updatedCart._id;",
                      "    const cartLineItems = updatedCart.lineItems;",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });",
                      "",
                      "",
                      "/* Example of returned updatedCart object:",
                      " *",
                      " * {",
                      " *   \"_id\": \"b36eb035-635a-450e-b74d-acf86ee4dfcc\",",
                      " *   \"appliedCoupon\": \"null\",",
                      " *   \"billingAddress\": {",
                      " *     \"firstName\": \"John\",",
                      " *     \"lastName\": \"Doe\",",
                      " *     \"email\":\"john.doe@somedomain.com\",",
                      " *     \"phone\":\"5555555\",",
                      " *     \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      " *   },",
                      " *   \"buyerNote\": \"This is a note from the buyer.\",",
                      " *   \"buyerInfo\":{",
                      " *     \"firstName\": \"John\",",
                      " *     \"lastName\": \"Doe\",",
                      " *     \"email\": \"john.doe@somedomain.com\",",
                      " *     \"phone\": \"5555555555\",",
                      " *     \"identityType\": \"CONTACT\"",
                      " *   },",
                      " *   \"status\": \"INCOMPLETE\",",
                      " *   \"currency\": {",
                      " *      \"code\": \"USD\",",
                      " *      \"symbol\": \"$\"",
                      " *   },",
                      " *   \"shippingInfo\": {",
                      " *      \"deliveryOption\": \"Free Shipping\",",
                      " *      \"shippingAddress\": {",
                      " *        \"firstName\": \"John\",",
                      " *        \"lastName\": \"Doe\",",
                      " *        \"email\":\"john.doe@somedomain.com\",",
                      " *        \"phone\":\"5555555\",",
                      " *        \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      " *      },",
                      " *      \"pickupDetails\":null",
                      " *   },",
                      " *   \"lineItems\":[",
                      " *     {",
                      " *       \"quantity\": 1,",
                      " *       \"price\": 120,",
                      " *       \"name\": \"A product\",",
                      " *       \"productId\": \"a668ef33-f5b8-6569-d04c-1d123be68441\",",
                      " *       \"totalPrice\": 120,",
                      " *       \"lineItemType\": \"PHYSICAL\",",
                      " *       \"customTextFields\": [",
                      " *         \"title\": \"Custom Field\",",
                      " *         \"value\": \"Custom value\"",
                      " *       ],",
                      " *       \"mediaItem\": {",
                      " *         \"src\": \"wix:image://v1/a9ff3b_ed3b544c319b4fad9c222c791a997832.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      " *         \"type\": \"IMAGE\"",
                      " *       },",
                      " *       \"sku\": \"21554345656\",",
                      " *       \"options\": [ ],",
                      " *       \"weight\": 3,",
                      " *       \"id\": 1",
                      " *     },",
                      " *     {",
                      " *       \"quantity\": 1,",
                      " *       \"price\": 25,",
                      " *       \"name\": \"Another product\",",
                      " *       \"productId\": \"1a2d7e83-4bef-31d5-09e1-3326ee271c09\",",
                      " *       \"totalPrice\": 25,",
                      " *       \"lineItemType\": \"PHYSICAL\",",
                      " *       \"mediaItem\": {",
                      " *         \"src\": \"wix:image://v1/a9ff3b_c6158b4d41784ae8b08337a331e1de7f.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      " *         \"type\": \"IMAGE\"",
                      " *       },",
                      " *       \"sku\": \"217537123517253\",",
                      " *       \"options\": [",
                      " *         {",
                      " *           \"option\": \"Size\",",
                      " *           \"selection\": \"Medium\"",
                      " *         },",
                      " *         {",
                      " *           \"option\": \"Color\",",
                      " *           \"selection\": \"Black\"",
                      " *         }",
                      " *       ],",
                      " *       \"weight\": 2,",
                      " *       \"id\": 2",
                      " *     }",
                      " *   ],",
                      " *   \"totals\": {",
                      " *      \"discount\": 0,",
                      " *      \"quantity\": 2,",
                      " *      \"shipping\": 0,",
                      " *      \"subtotal\": 145,",
                      " *      \"tax\": 0,",
                      " *      \"total\": 145,",
                      " *      \"weight\": 5",
                      " *   },",
                      " *   \"weightUnit\": \"LB\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "removeProduct",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "cartLineItemId",
              "type": "number",
              "doc": "ID of the cart line item to remove." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-stores.CartObj" ] },
            "doc": "Fulfilled - The updated cart." },
        "locations":
          [ { "lineno": 300,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "Removes a specified product from the cart.",
            "description":
              [ "The `removeProduct()` function returns a Promise that resolves to the",
                " updated cart after the product is removed.",
                " Every line item in a cart has an ID. Pass this to `removeProduct()` to remove that line item/product from the cart.",
                "",
                "> **Notes:**",
                "> + This function replaces the deprecated `wixStores.removeProductFromCart()`. The deprecated function will continue to work, but it will not receive updates. To keep any existing code compatible with future changes, see the [migration instructions](wix-stores/removeproductfromcart#migration-instructions).",
                "> + `removeProduct()` does not decrement the line item's quantity, it removes the line item/product altogether.",
                "> + When [editing a site as a contributor](https://support.wix.com/en/article/velo-working-with-contributors), `removeProduct()` will only work when viewing the live site." ],
            "links": [],
            "examples":
              [ { "title": "Remove item with `id: 3` from cart",
                  "body":
                    [ "import { cart } from 'wix-stores';",
                      "",
                      "const cartLineItemId = 3;",
                      "",
                      "cart.removeProduct(cartLineItemId)",
                      "  .then((updatedCart) => {",
                      "    // Product successfully removed",
                      "    const cartLineItems = updatedCart.lineItems;",
                      "  })",
                      "  .catch((error) => {",
                      "    // Product not removed",
                      "    console.error(error);",
                      "  });",
                      "",
                      "",
                      "/* Example of returned updatedCart:",
                      " *",
                      " * {",
                      " *   \"_id\": \"b36eb035-635a-450e-b74d-acf86ee4dfcc\",",
                      " *   \"appliedCoupon\": {",
                      " *     \"couponId\": \"e81e9c48-f954-4044-ba64-ccfe5c103c8f\",",
                      " *     \"name\": \"Summer Sale\",",
                      " *     \"code\": \"SummerSale\",",
                      " *     \"discountValue\": \"$10.00\",",
                      " *     \"couponType\": \"MoneyOff\"",
                      " *   },",
                      " *   \"billingAddress\": {",
                      " *     \"firstName\": \"John\",",
                      " *     \"lastName\": \"Doe\",",
                      " *     \"email\":\"john.doe@somedomain.com\",",
                      " *     \"phone\":\"5555555\",",
                      " *     \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      " *   },",
                      " *   \"buyerNote\": \"This is a note from the buyer.\",",
                      " *   \"buyerInfo\":{",
                      " *     \"firstName\": \"John\",",
                      " *     \"lastName\": \"Doe\",",
                      " *     \"email\": \"john.doe@somedomain.com\",",
                      " *     \"phone\": \"5555555555\",",
                      " *     \"identityType\": \"CONTACT\"",
                      " *   },",
                      " *   \"status\": \"INCOMPLETE\",",
                      " *   \"currency\": {",
                      " *      \"code\": \"USD\",",
                      " *      \"symbol\": \"$\"",
                      " *   },",
                      " *   \"shippingInfo\": {",
                      " *      \"deliveryOption\": \"Free Shipping\",",
                      " *      \"shippingAddress\": {",
                      " *        \"firstName\": \"John\",",
                      " *        \"lastName\": \"Doe\",",
                      " *        \"email\":\"john.doe@somedomain.com\",",
                      " *        \"phone\":\"5555555\",",
                      " *        \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      " *      },",
                      " *      \"pickupDetails\":null",
                      " *   },",
                      " *   \"lineItems\":[",
                      " *     {",
                      " *       \"quantity\": 1,",
                      " *       \"price\": 120,",
                      " *       \"name\": \"A product\",",
                      " *       \"productId\": \"a668ef33-f5b8-6569-d04c-1d123be68441\",",
                      " *       \"totalPrice\": 120,",
                      " *       \"lineItemType\": \"PHYSICAL\",",
                      " *       \"customTextFields\": [",
                      " *         \"title\": \"Custom Field\",",
                      " *         \"value\": \"Custom value\"",
                      " *       ],",
                      " *       \"mediaItem\": {",
                      " *         \"src\": \"wix:image://v1/a9ff3b_ed3b544c319b4fad9c222c791a997832.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      " *         \"type\": \"IMAGE\"",
                      " *       },",
                      " *       \"sku\": \"21554345656\",",
                      " *       \"options\": [ ],",
                      " *       \"weight\": 3,",
                      " *       \"id\": 1",
                      " *     },",
                      " *     {",
                      " *       \"quantity\": 1,",
                      " *       \"price\": 25,",
                      " *       \"name\": \"Another product\",",
                      " *       \"productId\": \"1a2d7e83-4bef-31d5-09e1-3326ee271c09\",",
                      " *       \"totalPrice\": 25,",
                      " *       \"lineItemType\": \"PHYSICAL\",",
                      " *       \"mediaItem\": {",
                      " *         \"src\": \"wix:image://v1/a9ff3b_c6158b4d41784ae8b08337a331e1de7f.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      " *         \"type\": \"IMAGE\"",
                      " *       },",
                      " *       \"sku\": \"217537123517253\",",
                      " *       \"options\": [",
                      " *         {",
                      " *           \"option\": \"Size\",",
                      " *           \"selection\": \"Medium\"",
                      " *         },",
                      " *         {",
                      " *           \"option\": \"Color\",",
                      " *           \"selection\": \"Black\"",
                      " *         }",
                      " *       ],",
                      " *       \"weight\": 2,",
                      " *       \"id\": 2",
                      " *     }",
                      " *   ],",
                      " *   \"totals\": {",
                      " *      \"discount\": 0,",
                      " *      \"quantity\": 2,",
                      " *      \"shipping\": 0,",
                      " *      \"subtotal\": 145,",
                      " *      \"tax\": 0,",
                      " *      \"total\": 145,",
                      " *      \"weight\": 5",
                      " *   },",
                      " *   \"weightUnit\": \"LB\"",
                      " * }",
                      " *",
                      " */" ],
                  "extra":
                    {  } },
                { "title": "Remove item by `productId`",
                  "body":
                    [ "import { cart } from 'wix-stores';",
                      "",
                      "const productIdToRemove = \"3fb6a3c8-988b-8755-04bd-5c59ae0b18ea\";",
                      "",
                      "cart.getCurrentCart()",
                      "  .then((currentCart) => {",
                      "",
                      "    // Find the cart item by productId",
                      "    const itemToRemove = currentCart.lineItems.find(lineItem => lineItem.productId === productIdToRemove);",
                      "",
                      "    // If the item is found, remove it from the cart",
                      "    if (itemToRemove) {",
                      "      cart.removeProduct(itemToRemove.id)",
                      "        .then((updatedCart) => {",
                      "          // Product successfully removed",
                      "          const cartLineItems = updatedCart.lineItems;",
                      "        })",
                      "        .catch((error) => {",
                      "          // Product not removed",
                      "          console.error(error);",
                      "        });",
                      "    } else {",
                      "      console.log(\"Item not found by productId\")",
                      "    }",
                      "  });",
                      "",
                      "",
                      "/* Example of returned updatedCart object:",
                      " *",
                      " * {",
                      " *   \"_id\": \"b36eb035-635a-450e-b74d-acf86ee4dfcc\",",
                      " *   \"appliedCoupon\": {",
                      " *     \"couponId\": \"e81e9c48-f954-4044-ba64-ccfe5c103c8f\",",
                      " *     \"name\": \"Summer Sale\",",
                      " *     \"code\": \"SummerSale\",",
                      " *     \"discountValue\": \"$10.00\",",
                      " *     \"couponType\": \"MoneyOff\"",
                      " *   },",
                      " *   \"billingAddress\": {",
                      " *     \"firstName\": \"John\",",
                      " *     \"lastName\": \"Doe\",",
                      " *     \"email\":\"john.doe@somedomain.com\",",
                      " *     \"phone\":\"5555555\",",
                      " *     \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      " *   },",
                      " *   \"buyerNote\": \"This is a note from the buyer.\",",
                      " *   \"buyerInfo\":{",
                      " *     \"firstName\": \"John\",",
                      " *     \"lastName\": \"Doe\",",
                      " *     \"email\": \"john.doe@somedomain.com\",",
                      " *     \"phone\": \"5555555555\",",
                      " *     \"identityType\": \"CONTACT\"",
                      " *   },",
                      " *   \"status\": \"INCOMPLETE\",",
                      " *   \"currency\": {",
                      " *      \"code\": \"USD\",",
                      " *      \"symbol\": \"$\"",
                      " *   },",
                      " *   \"shippingInfo\": {",
                      " *      \"deliveryOption\": \"Free Shipping\",",
                      " *      \"shippingAddress\": {",
                      " *        \"firstName\": \"John\",",
                      " *        \"lastName\": \"Doe\",",
                      " *        \"email\":\"john.doe@somedomain.com\",",
                      " *        \"phone\":\"5555555\",",
                      " *        \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      " *      },",
                      " *      \"pickupDetails\":null",
                      " *   },",
                      " *   \"lineItems\":[",
                      " *     {",
                      " *       \"quantity\": 1,",
                      " *       \"price\": 120,",
                      " *       \"name\": \"A product\",",
                      " *       \"productId\": \"a668ef33-f5b8-6569-d04c-1d123be68441\",",
                      " *       \"totalPrice\": 120,",
                      " *       \"lineItemType\": \"PHYSICAL\",",
                      " *       \"customTextFields\": [",
                      " *         \"title\": \"Custom Field\",",
                      " *         \"value\": \"Custom value\"",
                      " *       ],",
                      " *       \"mediaItem\": {",
                      " *         \"src\": \"wix:image://v1/a9ff3b_ed3b544c319b4fad9c222c791a997832.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      " *         \"type\": \"IMAGE\"",
                      " *       },",
                      " *       \"sku\": \"21554345656\",",
                      " *       \"options\": [ ],",
                      " *       \"weight\": 3,",
                      " *       \"id\": 1",
                      " *     },",
                      " *     {",
                      " *       \"quantity\": 1,",
                      " *       \"price\": 25,",
                      " *       \"name\": \"Another product\",",
                      " *       \"productId\": \"1a2d7e83-4bef-31d5-09e1-3326ee271c09\",",
                      " *       \"totalPrice\": 25,",
                      " *       \"lineItemType\": \"PHYSICAL\",",
                      " *       \"mediaItem\": {",
                      " *         \"src\": \"wix:image://v1/a9ff3b_c6158b4d41784ae8b08337a331e1de7f.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      " *         \"type\": \"IMAGE\"",
                      " *       },",
                      " *       \"sku\": \"217537123517253\",",
                      " *       \"options\": [",
                      " *         {",
                      " *           \"option\": \"Size\",",
                      " *           \"selection\": \"Medium\"",
                      " *         },",
                      " *         {",
                      " *           \"option\": \"Color\",",
                      " *           \"selection\": \"Black\"",
                      " *         }",
                      " *       ],",
                      " *       \"weight\": 2,",
                      " *       \"id\": 2",
                      " *     }",
                      " *   ],",
                      " *   \"totals\": {",
                      " *      \"discount\": 0,",
                      " *      \"quantity\": 2,",
                      " *      \"shipping\": 0,",
                      " *      \"subtotal\": 145,",
                      " *      \"tax\": 0,",
                      " *      \"total\": 145,",
                      " *      \"weight\": 5",
                      " *   },",
                      " *   \"weightUnit\": \"LB\"",
                      " * }",
                      " *",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "showMiniCart",
        "labels": [],
        "nameParams": [],
        "params": [],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 379,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "Shows the Mini Cart.",
            "description":
              [ "The `showMiniCart()` function displays the Mini Cart.",
                "Learn more about the [Mini Cart](https://support.wix.com/en/article/wix-stores-adding-and-setting-up-the-mini-cart).",
                "> **Note:** This API will fail when viewing the site on mobile because there is no Mini Cart on the mobile site." ],
            "links": [],
            "examples":
              [ { "title": "Add products to the cart, then show the Mini Cart",
                  "body":
                    [ "import { cart } from 'wix-stores';",
                      "import { formFactor } from 'wix-window';",
                      "",
                      "const products = [{",
                      "  \"productId\": \"0873ed58-f88d-77d1-4566-afd4c50d253e\",",
                      "  \"quantity\": 2",
                      "}];",
                      "",
                      "cart.addProducts(products)",
                      "  .then(() => {",
                      "    // Only show the Mini Cart if the site is not being viewed on mobile",
                      "    if (formFactor !== \"Mobile\") {",
                      "      cart.showMiniCart();",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "toCart",
        "labels":
          [ "removed" ],
        "nameParams": [],
        "params": [],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "Fulfilled - When the browser is directed to the site visitor's cart." },
        "locations":
          [ { "lineno": 1,
              "filename": "navigate.js" } ],
        "docs":
          { "summary": "Directs the browser to navigate to the site visitor's cart.",
            "description":
              [ "The `toCart()` function navigates the browser to the site visitor's cart." ],
            "links": [],
            "examples":
              [ { "title": "Get the current site visitor's cart",
                  "body":
                    [ "import { cart } from 'wix-stores';",
                      "",
                      "cart.getCurrentCart()",
                      "  .then((currentCart) => {",
                      "    const cartId = currentCart._id;",
                      "    const cartLineItems = currentCart.lineItems;",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });",
                      "",
                      "",
                      "/* Example of returned currentCart object:",
                      "*",
                      "* {",
                      "*   \"_id\": \"b36eb035-635a-450e-b74d-acf86ee4dfcc\",",
                      "*   \"appliedCoupon\": {",
                      "*     \"couponId\": \"e81e9c48-f954-4044-ba64-ccfe5c103c8f\",",
                      "*     \"name\": \"Summer Sale\",",
                      "*     \"code\": \"SummerSale\",",
                      "*     \"discountValue\": \"$10.00\",",
                      "*     \"couponType\": \"MoneyOff\"",
                      "*   },",
                      "*   \"billingAddress\": {",
                      "*     \"firstName\": \"John\",",
                      "*     \"lastName\": \"Doe\",",
                      "*     \"email\":\"john.doe@somedomain.com\",",
                      "*     \"phone\":\"5555555\",",
                      "*     \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      "*   },",
                      "*   \"buyerNote\": \"This is a note from the buyer.\",",
                      "*   \"buyerInfo\":{",
                      "*     \"firstName\": \"John\",",
                      "*     \"lastName\": \"Doe\",",
                      "*     \"email\": \"john.doe@somedomain.com\",",
                      "*     \"phone\": \"5555555555\",",
                      "*     \"identityType\": \"CONTACT\"",
                      "*   },",
                      "*   \"status\": \"INCOMPLETE\",",
                      "*   \"currency\": {",
                      "*      \"code\": \"USD\",",
                      "*      \"symbol\": \"$\"",
                      "*   },",
                      "*   \"shippingInfo\": {",
                      "*      \"deliveryOption\": \"Free Shipping\",",
                      "*      \"shippingAddress\": {",
                      "*        \"firstName\": \"John\",",
                      "*        \"lastName\": \"Doe\",",
                      "*        \"email\":\"john.doe@somedomain.com\",",
                      "*        \"phone\":\"5555555\",",
                      "*        \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      "*      },",
                      "*      \"pickupDetails\":null",
                      "*   },",
                      "*   \"lineItems\":[",
                      "*     {",
                      "*       \"quantity\": 1,",
                      "*       \"price\": 120,",
                      "*       \"name\": \"A product\",",
                      "*       \"productId\": \"a668ef33-f5b8-6569-d04c-1d123be68441\",",
                      "*       \"totalPrice\": 120,",
                      "*       \"lineItemType\": \"PHYSICAL\",",
                      "*       \"customTextFields\": [",
                      "*         \"title\": \"Custom Field\",",
                      "*         \"value\": \"Custom value\"",
                      "*       ],",
                      "*       \"mediaItem\": {",
                      "*         \"src\": \"wix:image://v1/a9ff3b_ed3b544c319b4fad9c222c791a997832.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      "*         \"type\": \"IMAGE\"",
                      "*       },",
                      "*       \"sku\": \"21554345656\",",
                      "*       \"options\": [ ],",
                      "*       \"weight\": 3,",
                      "*       \"id\": 1",
                      "*     },",
                      "*     {",
                      "*       \"quantity\": 1,",
                      "*       \"price\": 25,",
                      "*       \"name\": \"Another product\",",
                      "*       \"productId\": \"1a2d7e83-4bef-31d5-09e1-3326ee271c09\",",
                      "*       \"totalPrice\": 25,",
                      "*       \"lineItemType\": \"PHYSICAL\",",
                      "*       \"mediaItem\": {",
                      "*         \"src\": \"wix:image://v1/a9ff3b_c6158b4d41784ae8b08337a331e1de7f.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      "*         \"type\": \"IMAGE\"",
                      "*       },",
                      "*       \"sku\": \"217537123517253\",",
                      "*       \"options\": [",
                      "*         {",
                      "*           \"option\": \"Size\",",
                      "*           \"selection\": \"Medium\"",
                      "*         },",
                      "*         {",
                      "*           \"option\": \"Color\",",
                      "*           \"selection\": \"Black\"",
                      "*         }",
                      "*       ],",
                      "*       \"weight\": 2,",
                      "*       \"id\": 2",
                      "*     }",
                      "*   ],",
                      "*   \"totals\": {",
                      "*      \"discount\": 0,",
                      "*      \"quantity\": 2,",
                      "*      \"shipping\": 0,",
                      "*      \"subtotal\": 145,",
                      "*      \"tax\": 0,",
                      "*      \"total\": 145,",
                      "*      \"weight\": 5",
                      "*   },",
                      "*   \"weightUnit\": \"LB\"",
                      "* }",
                      "*/" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "updateLineItemQuantity",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "cartLineItemId",
              "type": "number",
              "doc": "ID of the cart line item to update." },
            { "name": "quantity",
              "type": "number",
              "doc": "Line item's new quantity." } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-stores.CartObj" ] },
            "doc": "Fulfilled - The updated cart." },
        "locations":
          [ { "lineno": 403,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "Updates the quantity of a specified line item in the cart.",
            "description":
              [ "The `updateLineItemQuantity()` function returns a Promise that resolves to the current",
                " site visitor's cart when the specified line item's quantity has been updated.",
                "",
                "> **Note:** When [editing a site as a contributor](https://support.wix.com/en/article/velo-working-with-contributors), `updateLineItemQuantity()` will only work when viewing the live site." ],
            "links": [],
            "examples":
              [ { "title": "Update the quantity of a cart's line item",
                  "body":
                    [ "import { cart } from 'wix-stores';",
                      "",
                      "const cartLineItemId = 2;",
                      "const quantity = 10;",
                      "",
                      "cart.updateLineItemQuantity(cartLineItemId, quantity)",
                      "  .then((updatedCart) => {",
                      "    // Cart line item's quantity updated",
                      "    const cartId = updatedCart._id;",
                      "    const updatedLineItems = updatedCart.lineItems;",
                      "  })",
                      "  .catch((error) => {",
                      "    // Cart line item's quantity not updated",
                      "    console.log(error);",
                      "  })",
                      "",
                      "",
                      "/* Example of returned updatedCart object:",
                      "*",
                      "* {",
                      "*   \"_id\": \"b36eb035-635a-450e-b74d-acf86ee4dfcc\",",
                      "*   \"appliedCoupon\": {",
                      "*     \"couponId\": \"e81e9c48-f954-4044-ba64-ccfe5c103c8f\",",
                      "*     \"name\": \"Summer Sale\",",
                      "*     \"code\": \"SummerSale\",",
                      "*     \"discountValue\": \"$10.00\",",
                      "*     \"couponType\": \"MoneyOff\"",
                      "*   },",
                      "*   \"billingAddress\": {",
                      "*     \"firstName\": \"John\",",
                      "*     \"lastName\": \"Doe\",",
                      "*     \"email\":\"john.doe@somedomain.com\",",
                      "*     \"phone\":\"5555555\",",
                      "*     \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      "*   },",
                      "*   \"buyerNote\": \"This is a note from the buyer.\",",
                      "*   \"buyerInfo\":{",
                      "*     \"firstName\": \"John\",",
                      "*     \"lastName\": \"Doe\",",
                      "*     \"email\": \"john.doe@somedomain.com\",",
                      "*     \"phone\": \"5555555555\",",
                      "*     \"identityType\": \"CONTACT\"",
                      "*   },",
                      "*   \"status\": \"INCOMPLETE\",",
                      "*   \"currency\": {",
                      "*      \"code\": \"USD\",",
                      "*      \"symbol\": \"$\"",
                      "*   },",
                      "*   \"shippingInfo\": {",
                      "*      \"deliveryOption\": \"Free Shipping\",",
                      "*      \"shippingAddress\": {",
                      "*        \"firstName\": \"John\",",
                      "*        \"lastName\": \"Doe\",",
                      "*        \"email\":\"john.doe@somedomain.com\",",
                      "*        \"phone\":\"5555555\",",
                      "*        \"address\":\"235 West 23rd Street\\nNew York, New York 10011\\nUnited States\"",
                      "*      },",
                      "*      \"pickupDetails\":null",
                      "*   },",
                      "*   \"lineItems\":[",
                      "*     {",
                      "*       \"quantity\": 1,",
                      "*       \"price\": 120,",
                      "*       \"name\": \"A product\",",
                      "*       \"productId\": \"a668ef33-f5b8-6569-d04c-1d123be68441\",",
                      "*       \"totalPrice\": 120,",
                      "*       \"lineItemType\": \"PHYSICAL\",",
                      "*       \"customTextFields\": [",
                      "*         \"title\": \"Custom Field\",",
                      "*         \"value\": \"Custom value\"",
                      "*       ],",
                      "*       \"mediaItem\": {",
                      "*         \"src\": \"wix:image://v1/a9ff3b_ed3b544c319b4fad9c222c791a997832.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      "*         \"type\": \"IMAGE\"",
                      "*       },",
                      "*       \"sku\": \"21554345656\",",
                      "*       \"options\": [ ],",
                      "*       \"weight\": 3,",
                      "*       \"id\": 1",
                      "*     },",
                      "*     {",
                      "*       \"quantity\": 10,",
                      "*       \"price\": 25,",
                      "*       \"name\": \"Another product\",",
                      "*       \"productId\": \"1a2d7e83-4bef-31d5-09e1-3326ee271c09\",",
                      "*       \"totalPrice\": 25,",
                      "*       \"lineItemType\": \"PHYSICAL\",",
                      "*       \"mediaItem\": {",
                      "*         \"src\": \"wix:image://v1/a9ff3b_c6158b4d41784ae8b08337a331e1de7f.jpg/file.jpg#originWidth=1000&originHeight=1000\",",
                      "*         \"type\": \"IMAGE\"",
                      "*       },",
                      "*       \"sku\": \"217537123517253\",",
                      "*       \"options\": [",
                      "*         {",
                      "*           \"option\": \"Size\",",
                      "*           \"selection\": \"Medium\"",
                      "*         },",
                      "*         {",
                      "*           \"option\": \"Color\",",
                      "*           \"selection\": \"Black\"",
                      "*         }",
                      "*       ],",
                      "*       \"weight\": 2,",
                      "*       \"id\": 2",
                      "*     }",
                      "*   ],",
                      "*   \"totals\": {",
                      "*      \"discount\": 0,",
                      "*      \"quantity\": 2,",
                      "*      \"shipping\": 0,",
                      "*      \"subtotal\": 145,",
                      "*      \"tax\": 0,",
                      "*      \"total\": 145,",
                      "*      \"weight\": 5",
                      "*   },",
                      "*   \"weightUnit\": \"LB\"",
                      "* }",
                      "*/" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "callbacks": [],
  "messages":
    [ { "name": "AddToCartItem",
        "locations":
          [ { "lineno": 354,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "An object used when adding one or more products to the cart.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "productId",
              "type": "string",
              "doc": "ID of the product to add to the cart." },
            { "name": "quantity",
              "type": "number",
              "doc": "Number of product units to add to the cart." },
            { "name": "options",
              "type": "wix-stores.Cart.AddToCartOptions",
              "doc": "Specific product options to add to the cart.\n If the product you're adding has options, you must specify which options to add.",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "AddToCartOptions",
        "locations":
          [ { "lineno": 363,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "An object used when adding a product to the cart with options.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "choices",
              "type": "Object",
              "doc": "Product options to use when adding the\n product to the cart. The object contains key:value pairs where the key is the option name and the value is the chosen option value.",
              "optional": true },
            { "name": "customTextFields",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "wix-stores.Cart.CustomTextField" ] },
              "doc": "Custom text fields to use when adding the product to the cart.",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "CustomTextField",
        "locations":
          [ { "lineno": 371,
              "filename": "carts.js" } ],
        "docs":
          { "summary": "An object used to pass a custom text field when adding a product to\n the cart with options.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "title",
              "type": "string",
              "doc": "Custom text field title." },
            { "name": "value",
              "type": "string",
              "doc": "Custom text field value." } ],
        "extra":
          {  },
        "labels": [] } ],
  "extra":
    {  } }