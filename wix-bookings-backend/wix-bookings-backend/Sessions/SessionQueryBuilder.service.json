{ "name": "SessionQueryBuilder",
  "memberOf": "wix-bookings-backend.Sessions",
  "mixes": [],
  "labels": [],
  "location":
    { "lineno": 1,
      "filename": "SessionQueryBuilder.js" },
  "docs":
    { "summary": "Contains functionality for refining a session query.",
      "description":
        [ "The `SessionQueryBuilder` functions enable you to run, filter, and control",
          " which results a query returns.",
          "",
          " Typically, you build a query using the session query function,",
          " refine the query by chaining `SessionQueryBuilder` functions, and then execute the",
          " query by chaining the [`find()`](wix-bookings-backend.sessions/sessionquerybuilder/find) function.",
          "",
          "> **Note:** Only users with **[Bookings Admin](https://support.wix.com/en/article/roles-permissions-overview#bookings-admin)** permissions can view participant information in a session query. You can override the permissions by setting the `suppressAuth` options to `true` in the [`find()`](wix-bookings-backend.sessions/sessionquerybuilder/find) function.",
          "",
          " All queries must include the following `SessionQueryBuilder` functions:",
          " + [ge](wix-bookings-backend.sessions/sessionquerybuilder/ge)(\"end.timestamp\", \"\\<timestamp value\\>\")",
          " + [lt](wix-bookings-backend.sessions/sessionquerybuilder/lt)(\"start.timestamp\", \"\\<timestamp value\\>\")",
          "",
          " For example, the following code queries all sessions between the",
          " specified start and end dates, and logs the first 5 results to the console.",
          "",
          " ```javascript",
          " import { sessions } from 'wix-bookings-backend';",
          "",
          " sessions.querySessions()",
          "   .ge(\"end.timestamp\", \"2021-01-01T00:00:00.000Z\")",
          "   .lt(\"start.timestamp\", \"2021-05-01T00:00:00.000Z\")",
          "   .limit(5)",
          "   .find()",
          "   .then( (results) => {",
          "     console.log(results.items);",
          "   } );",
          " ```" ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "eq",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "propertyName",
              "type": "string",
              "doc": "The property whose value will be compared with `value`.\n\nSupported properties:\n+ `type`\n+ `tags`\n+ `scheduleId`" },
            { "name": "value",
              "type": "*",
              "doc": "The value to match against." } ],
        "ret":
          { "type": "wix-bookings-backend.Sessions.SessionQueryBuilder",
            "doc": "A `SessionQueryBuilder` object representing the refined query." },
        "locations":
          [ { "lineno": 121,
              "filename": "SessionQueryBuilder.js" } ],
        "docs":
          { "summary": "Refines a query to match items whose specified property value equals the specified value.",
            "description":
              [ "The `eq()` function refines a `SessionQueryBuilder` to only",
                " match items where the value of the specified property equals the specified `value`.",
                "",
                " It only matches values of the same type. For example, a number value stored",
                " as a String type does not match the same number stored as a Number type.",
                "",
                " Matching strings with `eq()` is case sensitive, so `\"text\"` is not equal to `\"Text\"`." ],
            "links": [],
            "examples":
              [ { "title": "Add an equals filter to a query",
                  "body":
                    [ "let query = sessions.querySessions().eq(\"scheduleId\", \"9299760d-8a4a-4f89-b348-1fc611f4be17\")" ],
                  "extra":
                    {  } },
                { "title": "Create a query, add an equals filter, and run it",
                  "body":
                    [ "import { sessions } from \"wix-bookings-backend\";",
                      "",
                      "// ...",
                      "",
                      "sessions.querySessions()",
                      "  .eq(\"scheduleId\", \"9299760d-8a4a-4f89-b348-1fc611f4be17\")",
                      "  .ge(\"end.timestamp\",\"2020-01-01T08:00:00.000Z\")",
                      "  .lt(\"start.timestamp\",\"2021-06-01T08:00:00.000Z\")",
                      "  .find({suppressAuth:true})",
                      "  .then((results) => {",
                      "    if (results.items.length > 0) {",
                      "      const items = results.items;",
                      "      const firstItem = items[0];",
                      "      const totalCount = results.totalCount;",
                      "      const pageSize = results.pageSize;",
                      "      const currentPage = results.currentPage;",
                      "      const totalPages = results.totalPages;",
                      "      const hasNext = results.hasNext();",
                      "      const hasPrev = results.hasPrev();",
                      "      const length = results.length;",
                      "      const query = results.query;",
                      "    } else {",
                      "      // handle case where no matching items found",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "find",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "options",
              "type": "wix-bookings-backend.Sessions.SessionQueryBuilder.QueryOptions",
              "doc": "Options to use when performing a query.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-bookings-backend.Sessions.SessionQueryResult" ] },
            "doc": "Fulfilled - A Promise that resolves to the results of the query.\nRejected - Error that caused the query to fail." },
        "locations":
          [ { "lineno": 392,
              "filename": "SessionQueryBuilder.js" } ],
        "docs":
          { "summary": "Returns the bookings that match the query.",
            "description":
              [ "The `find()` function returns a Promise that resolves to the results found",
                " by the query and some information about the results. The Promise is",
                " rejected if `find()` is called with incorrect permissions or if any of the",
                " functions used to refine the query are invalid.",
                "",
                " > **Note:** Only users with **[Bookings Admin](https://support.wix.com/en/article/roles-permissions-overview#bookings-admin)** permissions can view participant information in a session query. You can override the permissions by setting the `suppressAuth` options to `true`." ],
            "links": [],
            "examples":
              [ { "title": "Perform a find on a query",
                  "body":
                    [ "import { sessions } from \"wix-bookings-backend\";",
                      "",
                      "// ...",
                      "",
                      "sessions.querySessions()",
                      "  .ge(\"end.timestamp\", \"2021-01-01T00:00:00.000Z\")",
                      "  .lt(\"start.timestamp\", \"2021-05-01T00:00:00.000Z\")",
                      "  .find()",
                      "  .then((results) => {",
                      "    if (results.items.length > 0) {",
                      "      const items = results.items;",
                      "      const firstItem = items[0];",
                      "      const totalCount = results.totalCount;",
                      "      const pageSize = results.pageSize;",
                      "      const currentPage = results.currentPage;",
                      "      const totalPages = results.totalPages;",
                      "      const hasNext = results.hasNext();",
                      "      const hasPrev = results.hasPrev();",
                      "      const length = results.length;",
                      "      const query = results.query;",
                      "    } else {",
                      "      // handle case where no matching items found",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });" ],
                  "extra":
                    {  } },
                { "title": "Perform a find on a query using options",
                  "body":
                    [ "import { sessions } from \"wix-bookings-backend\";",
                      "",
                      "// ...",
                      "const options = {",
                      "  \"suppressAuth\": true",
                      "};",
                      "",
                      "sessions.querySessions()",
                      "  .ge(\"end.timestamp\", \"2021-01-01T00:00:00.000Z\")",
                      "  .lt(\"start.timestamp\", \"2021-05-01T00:00:00.000Z\")",
                      "  .find(options)",
                      "  .then((results) => {",
                      "    if (results.items.length > 0) {",
                      "      const items = results.items;",
                      "      const firstItem = items[0];",
                      "      const totalCount = results.totalCount;",
                      "      const pageSize = results.pageSize;",
                      "      const currentPage = results.currentPage;",
                      "      const totalPages = results.totalPages;",
                      "      const hasNext = results.hasNext();",
                      "      const hasPrev = results.hasPrev();",
                      "      const length = results.length;",
                      "      const query = results.query;",
                      "    } else {",
                      "      // handle case where no matching items found",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "ge",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "propertyName",
              "type": "string",
              "doc": "The property whose value will be compared with `value`.\n\nSupported properties:\n+ `start.timestamp`" },
            { "name": "value",
              "type": "Date",
              "doc": "The value to match against." } ],
        "ret":
          { "type": "wix-bookings-backend.Sessions.SessionQueryBuilder",
            "doc": "A `SessionQueryBuilder` object representing the refined query." },
        "locations":
          [ { "lineno": 166,
              "filename": "SessionQueryBuilder.js" } ],
        "docs":
          { "summary": "Refines a query to match items whose specified property value is greater than or equal to the specified value.",
            "description":
              [ "The `ge()` function refines a `SessionQueryBuilder` to only",
                " match items where the value of the specified property is greater than or",
                " equal to the specified `value`." ],
            "links": [],
            "examples":
              [ { "title": "Add a greater than or equals filter to a query",
                  "body":
                    [ "let query = sessions.querySessions().ge(\"startTime\", \"2020-04-27T10:00:00.000Z\");" ],
                  "extra":
                    {  } },
                { "title": "Create a query, add a greater than or equals filter, and run it",
                  "body":
                    [ "import { sessions } from \"wix-bookings-backend\";",
                      "",
                      "// ...",
                      "",
                      "sessions.querySessions()",
                      "  .ge(\"end.timestamp\", \"2021-01-01T00:00:00.000Z\")",
                      "  .lt(\"start.timestamp\", \"2021-05-01T00:00:00.000Z\")",
                      "  .find()",
                      "  .then((results) => {",
                      "    if (results.items.length > 0) {",
                      "      const items = results.items;",
                      "      const firstItem = items[0];",
                      "      const totalCount = results.totalCount;",
                      "      const pageSize = results.pageSize;",
                      "      const currentPage = results.currentPage;",
                      "      const totalPages = results.totalPages;",
                      "      const hasNext = results.hasNext();",
                      "      const hasPrev = results.hasPrev();",
                      "      const length = results.length;",
                      "      const query = results.query;",
                      "    } else {",
                      "      // handle case where no matching items found",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "hasSome",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "propertyName",
              "type": "string",
              "doc": "The property whose values will be compared with `value`.\n\nSupported properties:\n+ `sessionId`\n+ `type`\n+ `tags`" },
            { "name": "value",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "The values to match against." } ],
        "ret":
          { "type": "wix-bookings-backend.Sessions.SessionQueryBuilder",
            "doc": "A `SessionQueryBuilder` object representing the refined query." },
        "locations":
          [ { "lineno": 270,
              "filename": "SessionQueryBuilder.js" } ],
        "docs":
          { "summary": "Refines a query to match items whose specified property contains any of the specified `value` parameters.",
            "description":
              [ "The `hasSome()` function refines a `SessionQueryBuilder` to only match items where the value of the specified property equals any of the specified values in the array.",
                "",
                " Matching strings with `hasSome()` is case sensitive, so `\"text\"` is not equal to `\"Text\"`.",
                "",
                "You can specify a list of values to match by providing comma-separated String types as the `value` parameters. You can also specify a list of these values by including them in an array and providing the array as the `value`." ],
            "links": [],
            "examples":
              [ { "title": "Add a hasSome filter to a query",
                  "body":
                    [ "let query = sessions.querySessions().hasSome(\"tags\", [\"GROUP\", \"Blocked\"]);" ],
                  "extra":
                    {  } },
                { "title": "Create a query, add a hasSome filter, and run it",
                  "body":
                    [ "import { sessions } from \"wix-bookings-backend\";",
                      "",
                      "// ...",
                      "",
                      "sessions.querySessions()",
                      "  .hasSome(\"tags\",[\"GROUP\", \"Blocked\"])",
                      "  .ge(\"end.timestamp\", \"2021-01-01T00:00:00.000Z\")",
                      "  .lt(\"start.timestamp\", \"2021-05-01T00:00:00.000Z\")",
                      "  .find()",
                      "  .then((results) => {",
                      "    if (results.items.length > 0) {",
                      "      const items = results.items;",
                      "      const firstItem = items[0];",
                      "      const totalCount = results.totalCount;",
                      "      const pageSize = results.pageSize;",
                      "      const currentPage = results.currentPage;",
                      "      const totalPages = results.totalPages;",
                      "      const hasNext = results.hasNext();",
                      "      const hasPrev = results.hasPrev();",
                      "      const length = results.length;",
                      "      const query = results.query;",
                      "    } else {",
                      "      // handle case where no matching items found",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "limit",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "limit",
              "type": "number",
              "doc": "The number of items to return, which is also the [`pageSize`](wix-bookings-backend.sessions/sessionqueryresult/pageSize) of the results object." } ],
        "ret":
          { "type": "wix-bookings-backend.Sessions.SessionQueryBuilder",
            "doc": "A `SessionQueryBuilder` object representing the refined query." },
        "locations":
          [ { "lineno": 353,
              "filename": "SessionQueryBuilder.js" } ],
        "docs":
          { "summary": "Limits the number of items the query returns.",
            "description":
              [ "The `limit()` function defines the number of results a query returns in each",
                " page. Only one page of results is retrieved at a time. The [`next()`](wix-bookings-backend.sessions/sessionqueryresult/next)",
                " and [`prev()`](wix-bookings-backend.sessions/sessionqueryresult/prev) functions are used to",
                " navigate the pages of a query result.",
                "",
                " By default, `limit` is set to `50`.",
                "",
                " The maximum value that `limit()` can accept is `1000`." ],
            "links": [],
            "examples":
              [ { "title": "Add a limit to a query",
                  "body":
                    [ "let query = sessions.querySessions().limit(10);" ],
                  "extra":
                    {  } },
                { "title": "Create a query, add a limit, and run it",
                  "body":
                    [ "import { sessions } from \"wix-bookings-backend\";",
                      "",
                      "// ...",
                      "",
                      "sessions.querySessions()",
                      "  .ge(\"end.timestamp\", \"2021-01-01T00:00:00.000Z\")",
                      "  .lt(\"start.timestamp\", \"2021-05-01T00:00:00.000Z\")",
                      "  .limit(10)",
                      "  .find()",
                      "  .then((results) => {",
                      "    if (results.items.length > 0) {",
                      "      const items = results.items;",
                      "      const firstItem = items[0];",
                      "      const totalCount = results.totalCount;",
                      "      const pageSize = results.pageSize;",
                      "      const currentPage = results.currentPage;",
                      "      const totalPages = results.totalPages;",
                      "      const hasNext = results.hasNext();",
                      "      const hasPrev = results.hasPrev();",
                      "      const length = results.length;",
                      "      const query = results.query;",
                      "    } else {",
                      "      // handle case where no matching items found",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "lt",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "propertyName",
              "type": "string",
              "doc": "The property whose value will be compared with `value`.\n\nSupported properties:\n+ `end.timestamp`" },
            { "name": "value",
              "type": "Date",
              "doc": "The value to match against." } ],
        "ret":
          { "type": "wix-bookings-backend.Sessions.SessionQueryBuilder",
            "doc": "A `SessionQueryBuilder` object representing the refined  query." },
        "locations":
          [ { "lineno": 252,
              "filename": "SessionQueryBuilder.js" } ],
        "docs":
          { "summary": "Refines a query to match items whose specified property value is less than the specified value.",
            "description":
              [ "The `lt()` function refines a `SessionQueryBuilder` to only match",
                " items where the value of the specified property is less than the specified `value`." ],
            "links": [],
            "examples":
              [ { "title": "Add a less than filter to a query",
                  "body":
                    [ "let query = sessions.querySessions().lt(\"start.timestamp\", \"2021-04-27T10:00:00.000Z\");" ],
                  "extra":
                    {  } },
                { "title": "Create a query, add a less than filter, and run it",
                  "body":
                    [ "import { sessions } from \"wix-bookings-backend\";",
                      "",
                      "// ...",
                      "",
                      "sessions.querySessions()",
                      "  .ge(\"end.timestamp\", \"2021-01-01T00:00:00.000Z\")",
                      "  .lt(\"start.timestamp\", \"2021-05-01T00:00:00.000Z\")",
                      "  .find()",
                      "  .then((results) => {",
                      "    if (results.items.length > 0) {",
                      "      const items = results.items;",
                      "      const firstItem = items[0];",
                      "      const totalCount = results.totalCount;",
                      "      const pageSize = results.pageSize;",
                      "      const currentPage = results.currentPage;",
                      "      const totalPages = results.totalPages;",
                      "      const hasNext = results.hasNext();",
                      "      const hasPrev = results.hasPrev();",
                      "      const length = results.length;",
                      "      const query = results.query;",
                      "    } else {",
                      "      // handle case where no matching items found",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "ne",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "propertyName",
              "type": "string",
              "doc": "The property whose value will be compared with `value`.\nSupported properties:\n+ `recurrence`" },
            { "name": "value",
              "type": "*",
              "doc": "The value to match against." } ],
        "ret":
          { "type": "wix-bookings-backend.Sessions.SessionQueryBuilder",
            "doc": "A `SessionQueryBuilder` object representing the refine query." },
        "locations":
          [ { "lineno": 146,
              "filename": "SessionQueryBuilder.js" } ],
        "docs":
          { "summary": "Refines a query to match items whose specified property value does not equal the specified value.",
            "description":
              [ "The `ne()` function refines a `SessionQueryBuilder` to only",
                " match items where the value of the specified property does not equal the specified `value`.",
                "",
                " The `ne()` function only supports the `recurrence` property for `null` values. ",
                " Use `.ne(\"recurrence\",null)` to query recurring sessions together with `.eq(\"sessionId\", \"<value>\")`." ],
            "links": [],
            "examples":
              [ { "title": "Add a not equals filter to a query",
                  "body":
                    [ "import { sessions } from \"wix-bookings-backend\";",
                      "",
                      "// ...",
                      "",
                      "sessions.querySessions()",
                      "  .ne(\"recurrence\", null)",
                      "  .eq(\"scheduleId\", \"9299760d-8a4a-4f89-b348-1fc611f4be17\")",
                      "  .ge(\"end.timestamp\",\"2020-01-01T08:00:00.000Z\")",
                      "  .lt(\"start.timestamp\",\"2021-06-01T08:00:00.000Z\")",
                      "  .find({suppressAuth:true})",
                      "  .then((results) => {",
                      "    if (results.items.length > 0) {",
                      "      const items = results.items;",
                      "      const firstItem = items[0];",
                      "      const totalCount = results.totalCount;",
                      "      const pageSize = results.pageSize;",
                      "      const currentPage = results.currentPage;",
                      "      const totalPages = results.totalPages;",
                      "      const hasNext = results.hasNext();",
                      "      const hasPrev = results.hasPrev();",
                      "      const length = results.length;",
                      "      const query = results.query;",
                      "    } else {",
                      "      // handle case where no matching items found",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "skip",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "skip",
              "type": "number",
              "doc": "The number of items to skip in the query results before returning the results." } ],
        "ret":
          { "type": "wix-bookings-backend.Sessions.SessionQueryBuilder",
            "doc": "A `SessionQueryBuilder` object representing the refined query." },
        "locations":
          [ { "lineno": 373,
              "filename": "SessionQueryBuilder.js" } ],
        "docs":
          { "summary": "Sets the number of items to skip before returning query results.",
            "description":
              [ "The `skip()` function defines the number of results to skip in the query",
                " results before returning new query results.",
                "",
                " For example, if you query a collection and 50 items match your query, but",
                " you set `skip` to 10, the results returned will skip the first 10 items",
                " that match and return the 11th through 50th items.",
                "",
                " By default, `skip` is set to 0." ],
            "links": [],
            "examples":
              [ { "title": "Add a skip to a query",
                  "body":
                    [ "let query = sessions.querySessions().skip(10);" ],
                  "extra":
                    {  } },
                { "title": "Create a query, add a skip, and run it",
                  "body":
                    [ "import { sessions } from \"wix-bookings-backend\";",
                      "",
                      "// ...",
                      "",
                      "sessions.querySessions()",
                      "  .ge(\"end.timestamp\", \"2021-01-01T00:00:00.000Z\")",
                      "  .lt(\"start.timestamp\", \"2021-05-01T00:00:00.000Z\")",
                      "  .skip(10)",
                      "  .find()",
                      "  .then((results) => {",
                      "    if (results.items.length > 0) {",
                      "      const items = results.items;",
                      "      const firstItem = items[0];",
                      "      const totalCount = results.totalCount;",
                      "      const pageSize = results.pageSize;",
                      "      const currentPage = results.currentPage;",
                      "      const totalPages = results.totalPages;",
                      "      const hasNext = results.hasNext();",
                      "      const hasPrev = results.hasPrev();",
                      "      const length = results.length;",
                      "      const query = results.query;",
                      "    } else {",
                      "      // handle case where no matching items found",
                      "    }",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  });" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "callbacks": [],
  "messages":
    [ { "name": "QueryOptions",
        "locations":
          [ { "lineno": 107,
              "filename": "SessionQueryBuilder.js" } ],
        "docs":
          { "summary": "Options to use when performing a query.",
            "description":
              [ "The `options` parameter is an optional parameter that can be used when",
                " calling the query [`find()`](wix-bookings-backend.sessions/sessionquerybuilder/find) functions. To use `options`, pass it a `QueryOptions`",
                " object with the following key:value pair:",
                "",
                " + `\"suppressAuth\"`: `true`/`false`" ],
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "suppressAuth",
              "type": "boolean",
              "doc": "When `true`, prevents permission checks from running for the `find()` operation. Defaults to `false`.",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] } ],
  "extra":
    {  } }