{ "name": "availability",
  "memberOf": "wix-bookings-backend",
  "mixes": [],
  "labels":
    [ "changed" ],
  "location":
    { "lineno": 17,
      "filename": "index.js" },
  "docs":
    { "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "isAvailable",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "isAvailableRequest",
              "type": "wix-bookings-backend.availability.IsAvailableRequest" } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-bookings-backend.availability.IsAvailableResponse" ] },
            "doc": "" },
        "locations":
          [ { "lineno": 50,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "Returns the current availability of a requested entity.",
            "description":
              [ "Based on the requested entity, validate there is enough spots left.",
                "When invoking on a locked session, availability is False.",
                "",
                "> **Permissions**",
                "> This endpoint requires the Read Bookings - Public Data permission scope." ],
            "links": [],
            "examples":
              [ { "title": "basic usage",
                  "body":
                    [ "import { availability } from 'wix-bookings-backend';",
                      "",
                      "export function isAvailable(request) {",
                      "  return availability.isAvailable(request)",
                      "    .then((response) => {",
                      "      console.log(response);",
                      "    })",
                      "    .catch((error) => {",
                      "      console.log(error);",
                      "    });",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "customLabels":
              [ { "id": "maturity-preview" } ] } },
      { "name": "lock",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "lockRequest",
              "type": "wix-bookings-backend.availability.LockRequest" } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-bookings-backend.availability.LockResponse" ] },
            "doc": "" },
        "locations":
          [ { "lineno": 66,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "Lock a session for bookings.",
            "description":
              [ "When invoking this API with a sessionId, it returns a key that will enable to book the given session.",
                "Once the session is locked -",
                "Only the holder of the right key will be able to Book or Checkout.",
                "Calling IsAvailable returns as not available.",
                "Invoking Bookings.Book, Bookings.Checkout APIs without the right key will fail.",
                "",
                "> **Permissions**",
                "> This endpoint requires the Manage Bookings permission scope." ],
            "links": [],
            "examples":
              [ { "title": "basic usage",
                  "body":
                    [ "import { availability } from 'wix-bookings-backend';",
                      "",
                      "export function lock(request) {",
                      "  return availability.lock(request)",
                      "    .then((response) => {",
                      "      console.log(response);",
                      "    })",
                      "    .catch((error) => {",
                      "      console.log(error);",
                      "    });",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "customLabels":
              [ { "id": "maturity-preview" } ] } },
      { "name": "unlock",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "unlockRequest",
              "type": "wix-bookings-backend.availability.UnlockRequest" } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "void" ] },
            "doc": "" },
        "locations":
          [ { "lineno": 85,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "Unlock a locked session for bookings.",
            "description":
              [ "When invoking this API with a sessionId and its key, the session will be available for bookings.",
                "",
                "> **Permissions**",
                "> This endpoint requires the Manage Bookings permission scope." ],
            "links": [],
            "examples":
              [ { "title": "basic usage",
                  "body":
                    [ "import { availability } from 'wix-bookings-backend';",
                      "",
                      "export function unlock(request) {",
                      "  return availability.unlock(request)",
                      "    .then((response) => {",
                      "      console.log(response);",
                      "    })",
                      "    .catch((error) => {",
                      "      console.log(error);",
                      "    });",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "customLabels":
              [ { "id": "maturity-preview" } ] } } ],
  "callbacks": [],
  "messages":
    [ { "name": "IsAvailableRequest",
        "locations":
          [ { "lineno": 1,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "partySize",
              "type": "number",
              "doc": "Number of spots to query availability for." },
            { "name": "bookingId",
              "type": "string",
              "doc": "If the booking is already confirmed, returns available will be true.\n Otherwise, will check availability according to the schedule type of the booking (create_session, session_id or schedule_id)",
              "optional": true },
            { "name": "scheduleId",
              "type": "string",
              "doc": "Check if schedule with the given ID is available for booking",
              "optional": true },
            { "name": "sessionId",
              "type": "string",
              "doc": "Check if session with the given ID is available for booking",
              "optional": true },
            { "name": "session",
              "type": "wix-bookings-backend.availability.IsAvailableRequest_Slot",
              "doc": "Check if a time slot is available in a specified schedule.",
              "optional": true } ],
        "extra":
          { "notes":
              [ "This object must contain a value for exactly one of the properties: 'bookingId', 'scheduleId', 'sessionId', 'session'" ] },
        "labels": [] },
      { "name": "IsAvailableRequest_Slot",
        "locations":
          [ { "lineno": 13,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "summary": "Check if a time slot is available in a specified schedule.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "scheduleId",
              "type": "string",
              "doc": "the ID of the schedule to which the slot belongs to.",
              "optional": true },
            { "name": "start",
              "type": "Date",
              "doc": "Slot's start time.",
              "optional": true },
            { "name": "end",
              "type": "Date",
              "doc": "Slot's end time.",
              "optional": true },
            { "name": "requiredScheduleIds",
              "type":
                { "name": "Array",
                  "typeParams":
                    [ "string" ] },
              "doc": "The affected schedules on which the availability will be checked. It is enough to have it available on one of the schedules from this list.",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "IsAvailableResponse",
        "locations":
          [ { "lineno": 23,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "available",
              "type": "boolean",
              "doc": "whether or not the requested entity is available for booking of the specified party size",
              "optional": true },
            { "name": "capacity",
              "type": "number",
              "doc": "The maximum number of participants that can be added to the session.",
              "optional": true },
            { "name": "totalNumberOfParticipants",
              "type": "number",
              "doc": "The current number of registered participants on this session",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "LockRequest",
        "locations":
          [ { "lineno": 31,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "sessionId",
              "type": "string",
              "doc": "session ID to lock" } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "LockResponse",
        "locations":
          [ { "lineno": 37,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "key",
              "type": "string",
              "doc": "locked session key",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "UnlockRequest",
        "locations":
          [ { "lineno": 43,
              "filename": "com.wix.bookings.availability.api.v1.Availability.js" } ],
        "docs":
          { "links": [],
            "examples": [],
            "extra":
              {  } },
        "members":
          [ { "name": "sessionId",
              "type": "string",
              "doc": "locked session ID to unlock" },
            { "name": "key",
              "type": "string",
              "doc": "locked session key" } ],
        "extra":
          {  },
        "labels": [] } ],
  "extra":
    {  } }