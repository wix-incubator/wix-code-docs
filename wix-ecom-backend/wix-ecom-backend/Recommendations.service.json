{
  "name": "Recommendations",
  "memberOf": "wix-ecom-backend",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-ecom-backend-recommendation",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "getRecommendation",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.GetRecommendationOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-ecom-backend.Recommendations.GetRecommendationResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Returns recommended items. If algorithm type is `RELATED_ITEMS` then `items` field is required in request.",
        "description": [],
        "examples": [
          {
            "title": "getRecommendation example",
            "body": [
              "",
              "    function getRecommendation() {",
              "",
              "  }",
              "",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false
    },
    {
      "name": "listAvailableAlgorithms",
      "params": [],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-ecom-backend.Recommendations.ListAvailableAlgorithmsResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Returns recommendation algorithms which can used on this site.",
        "description": [],
        "examples": [
          {
            "title": "listAvailableAlgorithms example",
            "body": [
              "",
              "    function listAvailableAlgorithms() {",
              "",
              "  }",
              "",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false
    }
  ],
  "messages": [
    {
      "name": "Algorithm",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "algorithm id defined by provider"
        },
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "app id as defined in dev center for algorithm provider"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AlgorithmConfig",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Algorithm id which will be sent in requests. It must be unique per provider."
        },
        {
          "name": "additionalInfo",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "This field can be used when `description ` field is not enough to describe algorithm and you want to have separate section with additional info. It can be used to not overload user with too much information on main page. Depending on frontend implementation it can be displayed as tooltip or as additional section which is collapsed by default."
        },
        {
          "name": "algorithmType",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "`RELATED_ITEMS` - algorithm provides recommendations based on some other items interested for user/user of user. For example once one item added to cart algorithm can suggest other items frequently bought together with given one.\n`GLOBAL` - algorithm provides generic recommendations for given site. For example, best sellers items or new arrivals"
        },
        {
          "name": "description",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Description of algorithm which will be shown to user in list of algorithms available for site. This value is not translatable. It should describe how algorithm works, if it has any limitations regarding site content, number of items, site traffic and so on."
        },
        {
          "name": "name",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Name which will be shown to user in list of algorithms available for site. For example \"Best sellers\", \"Frequently watched together\". This value is not translatable."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AlgorithmInfo",
      "members": [
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "app id as defined in dev center for algorithm provider"
        },
        {
          "name": "catalogAppIds",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "app ids of catalogs for which algorithm can be applied"
        },
        {
          "name": "config",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.AlgorithmConfig"
            }
          ],
          "doc": "Algorithm's config with data which can be used to display algorithm or get recommendations by it."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CatalogReference",
      "members": [
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the catalog app. For example, the Wix Stores `appId`, or the 3rd-party `appId`."
        },
        {
          "name": "catalogItemId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the item within its Wix or 3rd-party catalog. For example, `productId` for Wix Stores or `eventId` for Wix Events."
        },
        {
          "name": "options",
          "optional": true,
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": "Additional info in key:value form. For example, `{\"options\":{\"Size\": \"M\", \"Color\": \"Red\"}}` or `{\"variantId\": \"<VARIANT_ID>\"}`."
        }
      ],
      "docs": {
        "description": [
          "Used for grouping line items and is sent on add to cart"
        ]
      }
    },
    {
      "name": "GetRecommendationOptions",
      "members": [
        {
          "name": "algorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "List of algorithms to find recommended items. Sorted by priority.\nItems found by first algorithm will be returned in response only if number of items greater than `minimum_recommended_items`. Otherwise number of items returned by second algorithm will be checked and so on until one of algorithms returns required number of items.\nIf last algorithm will return not enough items then nothing will be returned in response."
        },
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "items for which related items will be found"
        },
        {
          "name": "minimumRecommendedItems",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "how many items should be returned by algorithm, if less or equal number of items returned then fallback algorithm (next in list) will be used."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetRecommendationRequest",
      "members": [
        {
          "name": "algorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "List of algorithms to find recommended items. Sorted by priority.\nItems found by first algorithm will be returned in response only if number of items greater than `minimum_recommended_items`. Otherwise number of items returned by second algorithm will be checked and so on until one of algorithms returns required number of items.\nIf last algorithm will return not enough items then nothing will be returned in response."
        },
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "items for which related items will be found"
        },
        {
          "name": "minimumRecommendedItems",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "how many items should be returned by algorithm, if less or equal number of items returned then fallback algorithm (next in list) will be used."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetRecommendationResponse",
      "members": [
        {
          "name": "recommendation",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.Recommendation"
            }
          ],
          "doc": "Related items recommendation. None if any requested algorithms didn't return enough items for response according to request settings."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ItemAppIdNotSupportedByProvider",
      "members": [
        {
          "name": "algorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "Algorithms which don't support requested items."
        },
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "Items with appId not supported by provider. Supported appIds can be found in provider config in dev center."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListAvailableAlgorithmsRequest",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListAvailableAlgorithmsResponse",
      "members": [
        {
          "name": "availableAlgorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.AlgorithmInfo"
                  }
                ]
              }
            }
          ],
          "doc": "Algorithms available on current site. Depends on installed app. Algorithm will be returned if both algorithm provider and supported catalog app are installed on site."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Recommendation",
      "members": [
        {
          "name": "algorithm",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
            }
          ],
          "doc": "algorithm that was used to define recommendation"
        },
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "recommended items"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "RecommendationAlgorithmNotSupported",
      "members": [
        {
          "name": "unsupportedAlgorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "Algorithms not supported by provider."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
