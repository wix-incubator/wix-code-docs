{
  "name": "Recommendations",
  "memberOf": "wix-ecom-backend",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-ecom-backend-recommendation",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "getRecommendation",
      "params": [
        {
          "name": "algorithms",
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "A list of algorithms run in sequence according to their position in the array.\n\nItems recommended by the first algorithm will be returned in the response only if the number of items is greater than `minimum_recommended_items`.\nOtherwise, the number of items found by the second algorithm will be checked, and so on, until one of the algorithms recommends the required number of items.\nIf the last algorithm does not recommend enough items, nothing will be returned.",
          "required": true
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.GetRecommendationOptions"
            }
          ],
          "doc": "Get recommendation options.\n",
          "required": false
        }
      ],
      "requiredFields": [
        "algorithms",
        "algorithms._id",
        "algorithms.appId",
        "options.items.appId",
        "options.items.catalogItemId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-ecom-backend.Recommendations.GetRecommendationResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Returns a recommendation object containing a list of items to recommend to the customer.",
        "description": [
          "The items are selected by one of the specified recommendation algorithms.\nInstalled apps that implement the RecommendationsProvider SPI are called sequentially — at most once — with all provided algorithms that contain a matching `app_id`.\nAlgorithms are run in the order they are provided.\nWhen an algorithm returns enough recommended items (configured by `minimum_recommended_items`) they are returned in the response and no further apps are called.\n\n>**Note:** If the algorithm type is `RELATED_ITEMS`, the `items` field is required in the request."
        ],
        "examples": [
          {
            "title": "getRecommendation example",
            "body": [
              "import { recommendations } from 'wix-ecom-backend';",
              "  ",
              " async function getRecommendation(algorithms, options) {",
              "   try {",
              "     const result = await recommendations.getRecommendation(algorithms, options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "getRecommendation"
    },
    {
      "name": "listAvailableAlgorithms",
      "params": [],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-ecom-backend.Recommendations.ListAvailableAlgorithmsResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Returns a list of recommendation algorithms that can be used on your Wix site or project. These algorithms can be used with [Get Recommendation](#getrecommendation) to supply item recommendations to the customer.",
        "description": [
          "Information about each algorithm is stored in the Dev Center as a Component of the app that provides it.\nEach Component specifies which catalogs its algorithm may be applied to using a list of `catalog_app_ids`.\nThese are the IDs of Wix or 3rd party apps that implement the Catalog SPI.\nAlgorithms provided by installed apps are only returned if at least one supported app implementing the Catalog SPI is also installed.\n(In other words, if another installed app has an `app_id` listed in `catalog_app_ids`.)"
        ],
        "examples": [
          {
            "title": "listAvailableAlgorithms example",
            "body": [
              "import { recommendations } from 'wix-ecom-backend';",
              "  ",
              " async function listAvailableAlgorithms() {",
              "   try {",
              "     const result = await recommendations.listAvailableAlgorithms();",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "listAvailableAlgorithms"
    }
  ],
  "messages": [
    {
      "name": "Algorithm",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Algorithm ID defined by the provider."
        },
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "App ID as defined in the Dev Center for the algorithm provider."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AlgorithmConfig",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Algorithm ID. This must be unique for a specific app but does not have to be unique among all apps on the site or in the project."
        },
        {
          "name": "additionalInfo",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "A supplemental `description`. It can be used to help break up and organize information. You can, for example, display this information as a tooltip or as an additional section that is collapsed by default."
        },
        {
          "name": "algorithmType",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "`RELATED_ITEMS` - This type of algorithm provides recommendations based on one or more other provided items. For example, when an item is added to a cart, the algorithm can suggest other items frequently bought together with that item.\n`GLOBAL` - This type of algorithm provides general recommendations based on site or project statistics. For example, bestsellers or new arrivals."
        },
        {
          "name": "description",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Algorithm description. This describes how the algorithm works and if it has any limitations regarding site content, number of items in the catalog, site traffic, and so on. This value is not translatable."
        },
        {
          "name": "name",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Algorithm name. This value is not translatable."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "AlgorithmInfo",
      "members": [
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The app ID as defined in the Developers Center for the algorithm provider."
        },
        {
          "name": "catalogAppIds",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "App IDs of catalogs to which the algorithm can be applied."
        },
        {
          "name": "config",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.AlgorithmConfig"
            }
          ],
          "doc": "How the algorithm is configured."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CatalogReference",
      "members": [
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the catalog app. For items from Wix apps, the following values always apply:\n+ Wix Stores: `\"215238eb-22a5-4c36-9e7b-e7c08025e04e\"`\n+ Wix Bookings: `\"13d21c63-b5ec-5912-8397-c3a5ddb27a97\"`"
        },
        {
          "name": "catalogItemId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the item within its Wix or 3rd-party catalog. For example, `productId` for Wix Stores or `bookingId` for Wix Bookings."
        },
        {
          "name": "options",
          "optional": true,
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": "Additional info in key:value form. For example, to specify Wix Stores product options or variants:\n+ `{\"options\": {\"options\": {\"Size\": \"M\", \"Color\": \"Red\"}}}`\n+ `{\"options\": {\"variantId\": \"<VARIANT_ID>\"}}`"
        }
      ],
      "docs": {
        "description": [
          "Used for grouping line items and is sent on add to cart"
        ]
      }
    },
    {
      "name": "GetRecommendationOptions",
      "members": [
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "The set of items used by algorithms with the `RELATED_ITEMS` `algorithmType` to determine related item recommendations."
        },
        {
          "name": "minimumRecommendedItems",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "The minimum number of items that must be recommended by the algorithm for those items to be returned in the response.\n\nMax: `100`\n"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetRecommendationRequest",
      "members": [
        {
          "name": "algorithms",
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "A list of algorithms run in sequence according to their position in the array.\n\nItems recommended by the first algorithm will be returned in the response only if the number of items is greater than `minimum_recommended_items`.\nOtherwise, the number of items found by the second algorithm will be checked, and so on, until one of the algorithms recommends the required number of items.\nIf the last algorithm does not recommend enough items, nothing will be returned.\n"
        },
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "The set of items used by algorithms with the `RELATED_ITEMS` `algorithmType` to determine related item recommendations."
        },
        {
          "name": "minimumRecommendedItems",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "The minimum number of items that must be recommended by the algorithm for those items to be returned in the response.\n\nMax: `100`\n"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetRecommendationResponse",
      "members": [
        {
          "name": "recommendation",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.Recommendation"
            }
          ],
          "doc": "An object containing a list of items recommended by 1 of the specified algorithms. The recommendation is empty if none of the specified algorithms recommended enough items."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ItemAppIdNotSupportedByProvider",
      "members": [
        {
          "name": "algorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "Algorithms that don't support the requested items."
        },
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "Items with an App ID not supported by the provider. Supported App IDs can be found in the provider config in the Dev Center."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListAvailableAlgorithmsRequest",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListAvailableAlgorithmsResponse",
      "members": [
        {
          "name": "availableAlgorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.AlgorithmInfo"
                  }
                ]
              }
            }
          ],
          "doc": "Algorithms available for use on your Wix site or project.\n\nThis list contains algorithms provided by installed apps for which at least one supported app implementing the Catalog SPI is also installed.\n(That is, an app with an `app_id` listed in `catalog_app_ids`.)\n"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Recommendation",
      "members": [
        {
          "name": "algorithm",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
            }
          ],
          "doc": "The algorithm used to provide the recommendation."
        },
        {
          "name": "items",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.CatalogReference"
                  }
                ]
              }
            }
          ],
          "doc": "Recommended items."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "RecommendationAlgorithmNotSupported",
      "members": [
        {
          "name": "unsupportedAlgorithms",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.Recommendations.Algorithm"
                  }
                ]
              }
            }
          ],
          "doc": "Algorithms not supported by the provider."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
