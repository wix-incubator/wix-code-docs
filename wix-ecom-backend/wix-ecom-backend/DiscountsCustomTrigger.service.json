{
  "name": "DiscountsCustomTrigger",
  "memberOf": "wix-ecom-backend",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-ecom-backend-custom_trigger",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "getEligibleTriggers",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-ecom-backend.DiscountsCustomTrigger.GetEligibleTriggersOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-ecom-backend.DiscountsCustomTrigger.GetEligibleTriggersResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Get the items that are included in some given custom triggers",
        "description": [],
        "examples": [
          {
            "title": "getEligibleTriggers example",
            "body": [
              "import { discountsCustomTrigger } from 'wix-ecom-backend';",
              "  ",
              " async function getEligibleTriggers(options) {",
              "   try {",
              "     const result = await discountsCustomTrigger.getEligibleTriggers(options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "getEligibleTriggers"
    },
    {
      "name": "listTriggers",
      "params": [],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-ecom-backend.DiscountsCustomTrigger.ListTriggersResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "List all custom triggers that are available on a given site",
        "description": [
          "This function is not a universal function and runs only on the backend."
        ],
        "examples": [
          {
            "title": "listTriggers example",
            "body": [
              "import { discountsCustomTrigger } from 'wix-ecom-backend';",
              "  ",
              " async function listTriggers() {",
              "   try {",
              "     const result = await discountsCustomTrigger.listTriggers();",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "listTriggers"
    }
  ],
  "messages": [
    {
      "name": "CatalogReference",
      "members": [
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the app providing the catalog. For items from Wix apps, the following values always apply:\n+ Wix Stores: `\"215238eb-22a5-4c36-9e7b-e7c08025e04e\"`\n+ Wix Bookings: `\"13d21c63-b5ec-5912-8397-c3a5ddb27a97\"`"
        },
        {
          "name": "catalogItemId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the item within its Wix or 3rd-party catalog. For example, `productId` for Wix Stores or `bookingId` for Wix Bookings."
        },
        {
          "name": "options",
          "optional": true,
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": "Additional info in key:value pairs. For example, to specify Wix Stores product options or variants:\n+ `{\"options\": {\"options\": {\"Size\": \"M\", \"Color\": \"Red\"}}}`\n+ `{\"options\": {\"variantId\": \"<VARIANT_ID>\"}}`"
        }
      ],
      "docs": {
        "description": [
          "Used for grouping line items and is sent on add to cart"
        ]
      }
    },
    {
      "name": "CustomTrigger",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique ID of the trigger"
        },
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "App ID of the trigger provider"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "EligibleTrigger",
      "members": [
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The id of the application implements this custom trigger"
        },
        {
          "name": "customTriggerId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The ID of the custom trigger"
        },
        {
          "name": "identifier",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique identifier that was assigned in `TriggerToFilterBy.identifier` to distinguish between custom triggers"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetEligibleTriggersOptions",
      "members": [
        {
          "name": "lineItems",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.DiscountsCustomTrigger.LineItem"
                  }
                ]
              }
            }
          ],
          "doc": "List of line items to check the custom triggers on"
        },
        {
          "name": "triggers",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.DiscountsCustomTrigger.TriggerToFilterBy"
                  }
                ]
              }
            }
          ],
          "doc": "List of custom triggers to check 'is eligible' on"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetEligibleTriggersRequest",
      "members": [
        {
          "name": "lineItems",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.DiscountsCustomTrigger.LineItem"
                  }
                ]
              }
            }
          ],
          "doc": "List of line items to check the custom triggers on"
        },
        {
          "name": "triggers",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.DiscountsCustomTrigger.TriggerToFilterBy"
                  }
                ]
              }
            }
          ],
          "doc": "List of custom triggers to check 'is eligible' on"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetEligibleTriggersResponse",
      "members": [
        {
          "name": "eligibleTriggers",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.DiscountsCustomTrigger.EligibleTrigger"
                  }
                ]
              }
            }
          ],
          "doc": "A List of eligible custom triggers"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "LineItem",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Line item ID."
        },
        {
          "name": "catalogReference",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-ecom-backend.DiscountsCustomTrigger.CatalogReference"
            }
          ],
          "doc": "Catalog and item reference. Holds IDs for the item and the catalog it came from, as well as further optional info.\nThis field is empty in the case of a custom line item."
        },
        {
          "name": "price",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Price of a single item."
        },
        {
          "name": "quantity",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Item quantity in this line item."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListTriggersRequest",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListTriggersResponse",
      "members": [
        {
          "name": "triggers",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-ecom-backend.DiscountsCustomTrigger.ListTriggersResponseCustomTrigger"
                  }
                ]
              }
            }
          ],
          "doc": "A list of all custom triggers"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListTriggersResponseCustomTrigger",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique ID of the custom trigger"
        },
        {
          "name": "appId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "App ID of the custom trigger provider"
        },
        {
          "name": "name",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Custom Trigger display name"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "TriggerToFilterBy",
      "members": [
        {
          "name": "customTrigger",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-ecom-backend.DiscountsCustomTrigger.CustomTrigger"
            }
          ],
          "doc": "Custom trigger"
        },
        {
          "name": "identifier",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique identifier that will return in `EligibleTrigger.identifier` to distinguish between scopes"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
