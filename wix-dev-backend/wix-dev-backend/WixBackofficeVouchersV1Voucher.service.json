{
  "name": "WixBackofficeVouchersV1Voucher",
  "memberOf": "wix-dev-backend",
  "mixes": [],
  "callbacks": [],
  "messages": [
    {
      "name": "ApplicationError",
      "members": [
        {
          "name": "code",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        },
        {
          "name": "data",
          "type": [
            {
              "nativeType": "null"
            },
            {
              "complexType": {
                "nativeType": "Record",
                "typeParams": [
                  {
                    "nativeType": "string"
                  },
                  {
                    "nativeType": "any"
                  }
                ]
              }
            }
          ],
          "doc": ""
        },
        {
          "name": "description",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "BoNote",
      "members": [
        {
          "name": "_createdDate",
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Date when the note was created"
        },
        {
          "name": "_id",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "id of the note"
        },
        {
          "name": "_updatedDate",
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Date when the note was last updated"
        },
        {
          "name": "attachedToAccountId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Account to which the note was attached"
        },
        {
          "name": "createdBy",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "BO operator or system email"
        },
        {
          "name": "text",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Text (message) inside the note"
        }
      ],
      "docs": {
        "description": [
          "Note attached to the Wix user's account in Backoffice"
        ]
      }
    },
    {
      "name": "BulkActionMetadata",
      "members": [
        {
          "name": "totalFailures",
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "For how many items the requested action was not successful"
        },
        {
          "name": "totalSuccesses",
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "For how many items the requested action was successful"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "BulkAllocateVouchersOptions",
      "members": [
        {
          "name": "vouchers",
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.VoucherToAllocate"
                  }
                ]
              }
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "BulkAllocateVouchersRequest",
      "members": [
        {
          "name": "accountId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Account id in Wix to allocate vouchers in"
        },
        {
          "name": "vouchers",
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.VoucherToAllocate"
                  }
                ]
              }
            }
          ],
          "doc": "List of vouchers to be allocated in the account"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "BulkAllocateVouchersResponse",
      "members": [
        {
          "name": "attachedNote",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.BoNote"
            }
          ],
          "doc": "A Note created and attached to the account upon successful voucher allocation.\nIf empty then adding a note failed."
        },
        {
          "name": "bulkActionMetadata",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.BulkActionMetadata"
            }
          ],
          "doc": "Bulk action matadata"
        },
        {
          "name": "results",
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.BulkVoucherResult"
                  }
                ]
              }
            }
          ],
          "doc": "Results of bulk allocate vouchers operation"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "BulkVoucherResult",
      "members": [
        {
          "name": "item",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.VoucherToAllocate"
            }
          ],
          "doc": "Voucher that we tried to allocate"
        },
        {
          "name": "itemMetadata",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.ItemMetadata"
            }
          ],
          "doc": "Result metadata"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CatalogProductShortInfo",
      "members": [
        {
          "name": "premiumId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique identifier of a plan, same as package_id & premium_id in Premium"
        },
        {
          "name": "productName",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Name of the product, ex. Basic, Professional, Unlimited, Local Plus"
        },
        {
          "name": "productTypeName",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Name of the product type, ex. Ascend, Partner Package, Business Phone Number etc"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ItemMetadata",
      "members": [
        {
          "name": "error",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.ApplicationError"
            }
          ],
          "doc": "In case of failure, details about the error"
        },
        {
          "name": "originalIndex",
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "The index of the item within the request array to allow the caller to correlate the request and response items"
        },
        {
          "name": "success",
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether the action requested was successful for this item. When this value is false, error should be populated"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListVouchersErrorField",
      "members": [],
      "enum": [
        "DOMAIN_NAME",
        "ORIGINATING_PLAN",
        "UNKNOWN_LIST_VOUCHERS_ERROR_FIELD"
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListVouchersOptions",
      "members": [
        {
          "name": "filter",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.VouchersFilter"
            }
          ],
          "doc": ""
        },
        {
          "name": "paging",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.Paging"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListVouchersRequest",
      "members": [
        {
          "name": "accountId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Account id in Wix"
        },
        {
          "name": "filter",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.VouchersFilter"
            }
          ],
          "doc": "Vouchers filter"
        },
        {
          "name": "paging",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.Paging"
            }
          ],
          "doc": "Offset based paging"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListVouchersResponse",
      "members": [
        {
          "name": "errorFields",
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.ListVouchersErrorField"
                  }
                ]
              }
            }
          ],
          "doc": "The list of fields that are empty in the response due to errors on our side"
        },
        {
          "name": "pagingMetadata",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.OffsetPagingMetadata"
            }
          ],
          "doc": "Offset based paging"
        },
        {
          "name": "vouchers",
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.Voucher"
                  }
                ]
              }
            }
          ],
          "doc": "List of vouchers in the account"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "OffsetPagingMetadata",
      "members": [
        {
          "name": "total",
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Total number of existing items"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "OriginatingPlan",
      "members": [
        {
          "name": "billingServiceId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Billing service id of the purchase. Currently either `sbs_service_id` or `license_id`"
        },
        {
          "name": "catalogProductInfo",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.CatalogProductShortInfo"
            }
          ],
          "doc": "Details when `plan_type == CATALOG_PRODUCT`"
        },
        {
          "name": "connectedSite",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.SiteShortInfo"
            }
          ],
          "doc": "Site the asset is currently connected to. Can be empty."
        },
        {
          "name": "planType",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.PlanType"
            }
          ],
          "doc": "Type of plan in Premium (premium plan/catalog product)"
        },
        {
          "name": "premiumPlanInfo",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.PremiumPlanShortInfo"
            }
          ],
          "doc": "Details when `plan_type == PREMIUM_PLAN`"
        },
        {
          "name": "providerType",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.ProviderType"
            }
          ],
          "doc": "Which billing system in Premium manages the plan"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Paging",
      "members": [
        {
          "name": "limit",
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "The number of items to load"
        },
        {
          "name": "offset",
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "The number of items to skip in the current sort order"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "PlanType",
      "members": [],
      "enum": [
        "CATALOG_PRODUCT",
        "PREMIUM_PLAN",
        "UNKNOWN_PLAN_TYPE"
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "PremiumPlanShortInfo",
      "members": [
        {
          "name": "premiumId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique identifier of a plan, same as package_id & premium_id in Premium"
        },
        {
          "name": "productName",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Plan name, ex. Connect Domain, Combo, Unlimited, Unlimited + Wix Bookings, VIP etc"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ProviderType",
      "members": [],
      "enum": [
        "BASS",
        "LICENSER",
        "SBS",
        "UNKNOWN_PROVIDER_TYPE"
      ],
      "docs": {
        "description": [
          "Which Premium system manages the plan"
        ]
      }
    },
    {
      "name": "PurchasedPremiumAsset",
      "members": [
        {
          "name": "billingServiceId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Service id in of the purchased premium asset. Currently only SBS billing system is supported."
        },
        {
          "name": "domainName",
          "type": [
            {
              "nativeType": "null"
            },
            {
              "nativeType": "string"
            }
          ],
          "doc": "Domain name of the purchased domain, will be null if the voucher was not used yet or voucher type is not `DOMAIN_COUPON`"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "SiteShortInfo",
      "members": [
        {
          "name": "displayName",
          "type": [
            {
              "nativeType": "null"
            },
            {
              "nativeType": "string"
            }
          ],
          "doc": "The name that appears in the user's dashboard, value is taken from site properties"
        },
        {
          "name": "metaSiteId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Id of meta site"
        },
        {
          "name": "metaSiteName",
          "type": [
            {
              "nativeType": "null"
            },
            {
              "nativeType": "string"
            }
          ],
          "doc": "The name that is part of a free site url and is unique within the account"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Voucher",
      "members": [
        {
          "name": "_id",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Id of the voucher"
        },
        {
          "name": "_updatedDate",
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Date the voucher was last updated"
        },
        {
          "name": "availableDate",
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Some vouchers are not available immediately, will be null if voucher is already claimed"
        },
        {
          "name": "couponCode",
          "type": [
            {
              "nativeType": "null"
            },
            {
              "nativeType": "string"
            }
          ],
          "doc": "The code to use when redeeming the voucher"
        },
        {
          "name": "expirationDate",
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Date the voucher will expire. Will be null if voucher does not expire"
        },
        {
          "name": "originatingPlan",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.OriginatingPlan"
            }
          ],
          "doc": "Plan in Premium for which the voucher was allocated"
        },
        {
          "name": "purchasedAsset",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.PurchasedPremiumAsset"
            }
          ],
          "doc": "Premium Asset purchased using the voucher. Will be empty if the voucher was not used yet"
        },
        {
          "name": "status",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.VoucherStatus"
            }
          ],
          "doc": "Status of the voucher"
        },
        {
          "name": "voucherType",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.VoucherType"
            }
          ],
          "doc": "Type of the voucher"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "VoucherAllocationType",
      "members": [],
      "enum": [
        "BING_ADVERTISING",
        "DOMAIN_COUPON",
        "GOOGLE_ADS_ADVERTISING",
        "UBERALL",
        "UNKNOWN_VOUCHER_ALLOCATION_TYPE",
        "YANDEX_ADVERTISING"
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "VoucherStatus",
      "members": [],
      "enum": [
        "AVAILABLE_TO_CLAIM",
        "CLAIMED",
        "EXPIRED",
        "PENDING_AVAILABILITY",
        "UNKNOWN_VOUCHER_STATUS",
        "USED"
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "VoucherToAllocate",
      "members": [
        {
          "name": "premiumId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Unique identifier of a plan, same as package_id & premium_id in Premium"
        },
        {
          "name": "voucherType",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.VoucherAllocationType"
            }
          ],
          "doc": "Voucher type to allocate"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "VoucherType",
      "members": [],
      "enum": [
        "BING_ADVERTISING",
        "DOMAIN_COUPON",
        "GMAIL",
        "GOOGLE_ADS_ADVERTISING",
        "LOCAL_LISTING",
        "TPA_COUPON",
        "UBERALL",
        "UNKNOWN_VOUCHER_TYPE",
        "USER_VOUCHER",
        "VIP_UNLIMITED_20_YEARS",
        "YANDEX_ADVERTISING"
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "VouchersFilter",
      "members": [
        {
          "name": "originatingServiceId",
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "nativeType": "string"
                  }
                ]
              }
            }
          ],
          "doc": "Billing service id of the premium asset for which the voucher was allocated.\nCurrently it's either `sbs_service_id` or `license_id` depending on the billing provider type."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ],
  "extra": {},
  "clientId": "wix-dev-backend-voucher",
  "docs": {
    "description": [
      "",
      "    Introduction auto-generated by metro-service",
      "  "
    ],
    "examples": []
  },
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "bulkAllocateVouchers",
      "params": [
        {
          "name": "accountId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Account id in Wix to allocate vouchers in"
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.BulkAllocateVouchersOptions"
            }
          ],
          "doc": null
        }
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.BulkAllocateVouchersResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "description": [
          "Allocates up to 5 vouchers in the given account.\nAdds 1 note for the whole operation if at least 1 voucher was successfully allocated.\nRequires having `USER_MANAGER_NG_ALLOCATE_VOUCHERS` or `USER_MANAGER_NG_ALLOCATE_VOUCHERS_LIMITED` permissions for all vouchers +\nextra `USER_MANAGER_NG_UBERALL_VOUCHER_ADD` permission for allocating `UBERALL` vouchers.\nIf permission is missing for at least 1 voucher type, `PERMISSION_DENIED` error will be returned and no vouchers will be allocated."
        ]
      }
    },
    {
      "name": "listVouchers",
      "params": [
        {
          "name": "accountId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Account id in Wix"
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.ListVouchersOptions"
            }
          ],
          "doc": null
        }
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-dev-backend.WixBackofficeVouchersV1Voucher.ListVouchersResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "description": [
          "Returns vouchers in the account"
        ]
      }
    }
  ]
}
