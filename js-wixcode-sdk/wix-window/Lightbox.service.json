{ "name": "Lightbox",
  "memberOf": "wix-window",
  "mixes": [],
  "labels":
    [ "changed" ],
  "location":
    { "lineno": 357,
      "filename": "window.js" },
  "docs":
    { "summary": "A [lightbox](https://support.wix.com/en/article/about-lightboxes) pops up on your site to grab your visitor's attention.",
      "description":
        [ "To use the Lightbox API, import `wixWindow` from the `wix-window` module:",
          "",
          "   ```javascript",
          "   import wixWindow from 'wix-window';",
          "   ```",
          "",
          "The APIs in `wix-window.Lightbox` can only be used in front-end code." ],
      "links": [],
      "examples":
        [ { "title": "Set the lightbox to close after 6 seconds",
            "body":
              [ "import wixWindow from 'wix-window';",
                "",
                "let popup = wixWindow.lightbox;",
                "",
                "$w.onReady(function () {",
                "\tsetTimeout(function(){ ",
                "\t\tpopup.close();",
                "\t}, 6000);",
                "});" ],
            "extra":
              {  } } ],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "close",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "data",
              "type": "Object",
              "doc": "The data to pass back to [`openLightbox()`](wix-window.html#openLightbox) function.",
              "optional": true } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 61,
              "filename": "window.js" } ],
        "docs":
          { "summary": "Closes the lightbox.",
            "description":
              [ "The `close()` function closes the lightbox and returns the given data to the",
                " [`openLightbox()`](wix-window.html#openLightbox) function that was used to",
                " open the lightbox.",
                "",
                " To pass data back to the page that opened the lightbox, you must close the",
                " lightbox programmatically using the `close()` function. If the lightbox is",
                " closed by the site visitor clicking the 'X' icon, close button, or lightbox",
                " overlay, data will not be passed back the the page that opened the lightbox.",
                " Therefore, if you want to make sure data is passed back to the page that",
                " opened the lightbox, [disable all of the methods mentioned above](https://support.wix.com/en/article/wix-editor-adding-and-setting-up-a-lightbox#step-4-choose-how-visitors-close-the-lightbox) and create your own method for closing",
                " the lightbox programmatically. For example, you can add a button with an `onClick` event",
                " handler that calls the `close()` function." ],
            "links": [],
            "examples":
              [ { "title": "Close the lightbox",
                  "body":
                    [ "import wixWindow from 'wix-window';",
                      "",
                      "// ...",
                      "",
                      "wixWindow.lightbox.close();" ],
                  "extra":
                    {  } },
                { "title": "Close the lightbox and pass back data to the opening function",
                  "body":
                    [ "import wixWindow from 'wix-window';",
                      "",
                      "// ...",
                      "",
                      "wixWindow.lightbox.close(dataObj);" ],
                  "extra":
                    {  } },
                { "title": "A scenario where information is passed between a page and a lightbox",
                  "body":
                    [ "/*************",
                      " * Page Code *",
                      " *************/",
                      "",
                      "import wixWindow from 'wix-window';",
                      "",
                      "export function openButton_click(event) {",
                      "  wixWindow.openLightbox(\"MyLightBox\", {",
                      "    \"pageSend1\": $w('#pageSend1').value,",
                      "    \"pageSend2\": $w('#pageSend2').value",
                      "  })",
                      "  .then( (data) => {",
                      "    $w('#pageReceive1').text = data.lightBoxSend1;",
                      "    $w('#pageReceive2').text = data.lightBoxSend2;",
                      "  } );",
                      "}",
                      "",
                      "/*****************",
                      " * Lightbox Code *",
                      " *****************/",
                      "",
                      "import wixWindow from 'wix-window';",
                      "",
                      "$w.onReady( function () {",
                      "  let received = wixWindow.lightbox.getContext();",
                      "  $w('#lightBoxReceive1').text = received.pageSend1;",
                      "  $w('#lightBoxReceive2').text = received.pageSend2;",
                      "} );",
                      "",
                      "export function closeButton_click(event) {",
                      "  wixWindow.lightbox.close( {",
                      "    \"lightBoxSend1\": $w('#lightBoxSend1').value,",
                      "    \"lightBoxSend2\": $w('#lightBoxSend2').value",
                      "  } );",
                      "}",
                      "" ],
                  "extra":
                    { "description": "This example demonstrates how to pass data from a page to a lightbox that\n it opens and from the lightbox back to the page as it closes.\n\n It assumes that the page has:\n\n + An open button that is used to open the lightbox.\n + Two text inputs where information that is to be passed to the lightbox is entered.\n + Two text elements where information that is passed from the lightbox is displayed.\n\n\n It assumes that the lightbox has:\n\n + A close button that is used to close the lightbox.\n + Two text inputs where information that is to be passed to the page is entered.\n + Two text elements where information that is passed from the page is displayed." } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "getContext",
        "labels": [],
        "nameParams": [],
        "params": [],
        "ret":
          { "type": "Object",
            "doc": "The data object that was passed to the lightbox." },
        "locations":
          [ { "lineno": 20,
              "filename": "window.js" } ],
        "docs":
          { "summary": "Returns the data object that was passed to a lightbox.",
            "description":
              [ "The `getContext()` function returns the data object passed when the lightbox",
                " was opened using the [`openLightbox()`](wix-window.html#openLightbox) function,",
                " if any data was passed. If the lightbox was opened another way,",
                " `getContext()` returns `undefined`.",
                "",
                " To pass data to the lightbox that is opened, you must open the lightbox",
                " programmatically using the [`openLightbox()`](wix-window.html#openLightbox)",
                " function. If the lightbox is opened automatically when the page loads or",
                " by a link from a page element, data will not be passed to the lightbox.",
                " Therefore, if you want to pass data to the lightbox, make sure",
                " **Automatically display lightbox on pages** is [set](https://support.wix.com/en/article/setting-which-page-your-lightbox-appears-on) to **No** in the",
                " **Lightbox Settings** panel in the Editor and don't set any element's link",
                " to open the lightbox. Instead, create your own method for opening",
                " the lightbox programmatically. For example, you can add a button with an `onClick` event",
                " handler that calls the [`openLightbox()`](wix-window.html#openLightbox) function." ],
            "links": [],
            "examples":
              [ { "title": "Get the data that was passed to the lightbox",
                  "body":
                    [ "import wixWindow from 'wix-window';",
                      "",
                      "// ...",
                      "",
                      "let receivedData = wixWindow.lightbox.getContext();" ],
                  "extra":
                    {  } },
                { "title": "A scenario where information is passed between a page and a lightbox",
                  "body":
                    [ "/*************",
                      " * Page Code *",
                      " *************/",
                      "",
                      "import wixWindow from 'wix-window';",
                      "",
                      "export function openButton_click(event) {",
                      "  wixWindow.openLightbox(\"MyLightBox\", {",
                      "    \"pageSend1\": $w('#pageSend1').value,",
                      "    \"pageSend2\": $w('#pageSend2').value",
                      "  })",
                      "  .then( (data) => {",
                      "    $w('#pageReceive1').text = data.lightBoxSend1;",
                      "    $w('#pageReceive2').text = data.lightBoxSend2;",
                      "  } );",
                      "}",
                      "",
                      "/*****************",
                      " * Lightbox Code *",
                      " *****************/",
                      "",
                      "import wixWindow from 'wix-window';",
                      "",
                      "$w.onReady( function () {",
                      "  let received = wixWindow.lightbox.getContext();",
                      "  $w('#lightBoxReceive1').text = received.pageSend1;",
                      "  $w('#lightBoxReceive2').text = received.pageSend2;",
                      "} );",
                      "",
                      "export function closeButton_click(event) {",
                      "  wixWindow.lightbox.close( {",
                      "    \"lightBoxSend1\": $w('#lightBoxSend1').value,",
                      "    \"lightBoxSend2\": $w('#lightBoxSend2').value",
                      "  } );",
                      "}",
                      "" ],
                  "extra":
                    { "description": "This example demonstrates how to pass data from a page to a lightbox that\n it opens and from the lightbox back to the page as it closes.\n\n It assumes that the page has:\n\n + An open button that is used to open the lightbox.\n + Two text inputs where information that is to be passed to the lightbox is entered.\n + Two text elements where information that is passed from the lightbox is displayed.\n\n\n It assumes that the lightbox has:\n\n + A close button that is used to close the lightbox.\n + Two text inputs where information that is to be passed to the page is entered.\n + Two text elements where information that is passed from the page is displayed." } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "callbacks": [],
  "messages": [],
  "extra":
    {  },
  "relatedContent":
    [ { "icon": "example",
        "text": "Product Reviews",
        "url": "https://www.wix.com/velo/example/product-reviews" },
      { "icon": "example",
        "text": "Stories",
        "url": "https://www.wix.com/velo/example/stories" },
      { "icon": "article",
        "text": "Processing Payments",
        "url": "https://support.wix.com/en/article/velo-tutorial-processing-payments" } ],
  "FAQs":
    [ { "title": "How do I pass data between a page and a lightbox?",
        "markdown": "When you open a lightbox using the [`openLightbox()`](https://www.wix.com/code/reference/wix-window.html#openLightbox) function, you can pass an object containing data to be used in the lightbox. In the lightbox's code, you call the [`getContext()`](https://www.wix.com/code/reference/wix-window.lightbox.html#getContext) function to retrieve the data sent by the [`openLightbox()`](https://www.wix.com/code/reference/wix-window.html#openLightbox) function. \n\nWhen you close the lightbox using the [`close()`](https://www.wix.com/code/reference/wix-window.lightbox.html#close) function, you can pass an object containing data to be used by the page that opened the lightbox. This data is retrieved from the resolution of the Promise returned by the [`openLightbox()`](https://www.wix.com/code/reference/wix-window.html#openLightbox) function." },
      { "title": "When I open a lightbox using 'openLightbox()', my 'getContext()' function returns 'undefined'. Why?",
        "markdown": "The [`getContext()`](https://www.wix.com/code/reference/wix-window.lightbox.html#getContext) function only returns a data object passed if the lightbox was opened programmatically using [`openLightbox()`](https://www.wix.com/code/reference/wix-window.html#openLightbox). If the lightbox opened automatically when the page loaded or via a link from a page element, data will not be passed to the lightbox.\n\nMake sure **Automatically display lightbox on pages** is set to **No** in the [Lightbox Settings panel](https://support.wix.com/en/article/setting-which-page-your-lightbox-appears-on) in the Editor and don't set any element's link to open the lightbox. Instead, create your own method for opening the lightbox programmatically. For example, you can add a button with an [`onClick()`](https://www.wix.com/code/reference/$w.ClickableMixin.html#onClick) event handler that calls the [`openLightbox()`](https://www.wix.com/code/reference/wix-window.html#openLightbox) function." },
      { "title": "How do I close a lightbox?",
        "markdown": "Although you can open a lightbox using the top-level wix-window API with the [`openLightbox()`](https://www.wix.com/code/reference/wix-window.html#openLightbox) function, there is no top-level wix-window function for closing lightboxes. That's because once the lightbox is open, control is moved away from the page that opened the lightbox to the lightbox itself. Therefore, to close the lightbox, you have to call the [`wix-window.lightbox.close()`](https://www.wix.com/code/reference/wix-window.lightbox.html#close) function from within the lightbox's code." } ] }