{ "name": "wix-location",
  "mixes": [],
  "labels": [],
  "location":
    { "lineno": 12,
      "filename": "location.es6" },
  "docs":
    { "summary": "The wix-location module contains functionality for getting information\n about the URL of the current page and for navigating to other pages.",
      "description":
        [ "To use the location module, import wixLocation from the wix-location module:",
          "",
          "   ```javascript",
          "   import wixLocation from 'wix-location';",
          "   ```",
          "",
          " The APIs in `wix-location` can only be used in front-end code and only after",
          " the page is ready.",
          "",
          "",
          " The URL is broken into:",
          " + [`baseUrl`](wix-location/baseurl)",
          " + [`prefix`](wix-location/prefix), for routers and dynamic pages only.",
          " + [`path`](wix-location/path)",
          " + [`query`](wix-location/query)",
          "",
          "#### Premium Sites",
          "",
          "For premium sites, the URL of the incoming call has the following format:",
          "**`https://www.domain.com/myPrefix/myPath?myQuery=myValue`**",
          "",
          "+ **baseUrl**: &nbsp;&nbsp;&nbsp;&nbsp;`https://www.domain.com`",
          "+ **prefix**: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`myPrefix`",
          "+ **path**:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `myPath`",
          "+ **query**: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`myQuery=myValue`",
          "",
          "**Example**: ",
          "**`https://domain.com/animals/mammals/elephant?species=african-elephant`**",
          "+ **baseUrl**: &nbsp;&nbsp;&nbsp;&nbsp;`https://domain.com/`",
          "+ **prefix**: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`animals`. Only for routers and dynamic pages. ",
          "+ **path**:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `mammals/elephant`",
          "+ **query**: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`species=african-elephant`",
          "",
          "#### Free Sites",
          "",
          "For free sites, the URL of the incoming call has the following format:",
          "**`https://www.domain.com/mySite/myPrefix/myPath?myQuery=myValue`**",
          "",
          "+ **baseUrl**: &nbsp;&nbsp;&nbsp;&nbsp;`https://www.domain.com/mySite`",
          "+ **prefix**: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`myPrefix`",
          "+ **path**:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `myPath`",
          "+ **query**: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`myQuery=myValue`",
          "",
          "**Example**: ",
          "**`https://user.wix-sites.com/zoo/animals/mammals/elephant?species=african-elephant`**",
          "+ **baseUrl**: &nbsp;&nbsp;&nbsp;&nbsp;`https://user.wix-sites.com/zoo`",
          "+ **prefix**: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`animals`. Only for routers and dynamic pages. ",
          "+ **path**:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; `mammals/elephant`",
          "+ **query**: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`species=african-elephant`" ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties":
    [ { "name": "baseUrl",
        "labels": [],
        "get": true,
        "set": false,
        "type": "string",
        "locations":
          [ { "lineno": 297,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Gets the base URL of the current page.",
            "description":
              [ "Premium sites:",
                " ![Premium site baseUrl](images/url_premium_baseUrl.png \"Premium site baseUrl\")",
                "",
                " Free sites:",
                " ![Free site baseUrl](images/url_free_baseUrl.png \"Free site baseUrl\")",
                "",
                " If the site is not yet published, the function returns null." ],
            "links":
              [ "[url](#url)" ],
            "examples":
              [ { "title": "Get the base URL of the current page",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "let baseUrl = wixLocation.baseUrl;",
                      "// Premium site: \"https://domain.com/\"",
                      "// Free site: \"https://user.wix-sites.com/zoo/\"" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "path",
        "labels": [],
        "get": true,
        "set": false,
        "type":
          { "name": "Array",
            "typeParams":
              [ "string" ] },
        "locations":
          [ { "lineno": 165,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Gets the path of the current page's URL.",
            "description":
              [ "Premium sites:",
                " ![Premium site path](images/url_premium_path.png \"Premium site path\")",
                "",
                " Free sites:",
                " ![Free site path](images/url_free_path.png \"Free site path\")" ],
            "links": [],
            "examples":
              [ { "title": "Get the path of the current page's URL",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "let path = wixLocation.path; // [\"mammals\", \"elephant\"]" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "prefix",
        "labels": [],
        "get": true,
        "set": false,
        "type": "string",
        "locations":
          [ { "lineno": 137,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Gets the prefix of a dynamic page's or router page's URL.",
            "description":
              [ "Only dynamic pages and router pages have a prefix. The value of the",
                " `prefix` property for other page types is always `undefined`.",
                "",
                " Premium sites:",
                " ![Premium site prefix](images/url_premium_prefix.png \"Premium site prefix\")",
                "",
                " Free sites:",
                " ![Free site prefix](images/url_free_prefix.png \"Free site prefix\")",
                "",
                " To learn more about dynamic page prefixes, see [About URL Prefixes and Page Grouping of Dynamic Pages](https://support.wix.com/en/article/about-url-prefixes-and-page-grouping-of-dynamic-pages).",
                "",
                " To learn more about router page prefixes, see [About Routers](https://support.wix.com/en/article/about-routers#url-prefix)." ],
            "links": [],
            "examples":
              [ { "title": "Get the prefix of the current page's URL",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "let prefix = wixLocation.prefix; // \"animals\"" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "protocol",
        "labels": [],
        "get": true,
        "set": false,
        "type": "string",
        "locations":
          [ { "lineno": 117,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Gets the protocol of the current page's URL.",
            "description":
              [ "Premium sites:",
                " ![Premium site protocol](images/url_premium_protocol.png \"Premium site protocol\")",
                "",
                " Free sites:",
                " ![Free site protocol](images/url_free_protocol.png \"Free site protocol\")" ],
            "links": [],
            "examples":
              [ { "title": "Get the protocol of the current page's URL",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "let protocol = wixLocation.protocol; // \"https\"" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "query",
        "labels": [],
        "get": true,
        "set": false,
        "type": "Object",
        "locations":
          [ { "lineno": 185,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Gets an object that represents the query segment of the current page's URL.",
            "description":
              [ "Premium sites:",
                " ![Premium site query](images/url_premium_query.png \"Premium site query\")",
                "",
                " Free sites:",
                " ![Free site query](images/url_free_query.png \"Free site query\")" ],
            "links": [],
            "examples":
              [ { "title": "Get the query of the current page's URL",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "let query = wixLocation.query; // {\"species\": \"african-elephant\"}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "queryParams",
        "labels": [],
        "get": true,
        "set": false,
        "type": "wix-location.QueryParams",
        "locations":
          [ { "lineno": 210,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Gets an object used to manage the query segment of the current page's URL.",
            "links": [],
            "examples":
              [ { "title": "Add query parameters to the URL",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.queryParams.add({",
                      "  \"key2\": \"value2new\",",
                      "  \"key3\": \"value3\"",
                      "});",
                      "",
                      "// URL before addition:",
                      "// www.mysite.com/page?key1=value1&key2=value2",
                      "",
                      "// URL will look like:",
                      "// www.mysite.com/page?key1=value1&key2=value2new&key3=value3" ],
                  "extra":
                    {  } },
                { "title": "Remove query parameters from the URL",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.queryParams.remove([\"key1\"]);",
                      "",
                      "// URL before removal:",
                      "// www.mysite.com/page?key1=value1&key2=value2",
                      "",
                      "// URL after removal:",
                      "// www.mysite.com/page?key2=value2" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "url",
        "labels": [],
        "get": true,
        "set": false,
        "type": "string",
        "locations":
          [ { "lineno": 74,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Gets the full URL of the current page.",
            "description":
              [ "Premium sites:",
                " ![Premium site URL](images/url_premium_url.png \"Premium site URL\")",
                "",
                " Free sites:",
                " ![Free site URL](images/url_free_url.png \"Free site URL\")",
                "",
                " If the site is not yet published, the function returns null." ],
            "links":
              [ "[baseUrl](#baseUrl)" ],
            "examples":
              [ { "title": "Get the full URL of the current page",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "let url = wixLocation.url;",
                      "// Premium site: \"https://domain.com/animals/mammals/elephant?species=african-elephant#desc\"",
                      "// Free site: \"https://user.wix-sites.com/zoo/animals/mammals/elephant?species=african-elephant#desc\"" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "operations":
    [ { "name": "onChange",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "handler",
              "type": "wix-location.LocationChangeHandler",
              "doc": "The name of the function or\n the function expression to run when the location changes." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 426,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Adds an event handler that runs when an application page's URL changes.",
            "description":
              [ "The event handler set by the `onChange` function runs when the location is changed ",
                "but the change doesn't trigger navigation. This situation occurs when navigating between ",
                "subitems on a page that is managed by a full-page application.",
                "",
                "For example, a store product page is a full-page application. When a product page's path ",
                "changes because it is switching between items, no actual navigation is taking place. You ",
                "can use the `onChange` event handler to determine when a new product is displayed and ",
                "perform any necessary partial updates on the current page.",
                "",
                "To determine if a page is managed by a full-page application, use the `wix-site` ",
                "[`currentPage`](wix-site.html#currentPage) property or [`getSiteStructure()`](wix-site.html#getSiteStructure)",
                "function to retrieve a `StructurePage` object that",
                "corresponds to the page. If the object contains an `applicationId` value, then the",
                "page is managed by a full-page application." ],
            "links": [],
            "examples":
              [ { "title": "Get the new location path",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.onChange( (location) => {",
                      "  let newPath = location.path;",
                      "} );" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "to",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "url",
              "type": "string",
              "doc": "The URL of the page or website to navigate to." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 320,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Directs the browser to navigate to the specified URL.",
            "description":
              [ "The `to()` function navigates the browser to another web page.",
                "",
                " The following link patterns are supported:",
                "",
                " + `/localPageURL`: Another page on your site.",
                " + `/localPageURL#<velo-element-id>`: Another page on your site scrolled to the",
                "    element with the specified ID. The element must be an element that supports",
                "    the [`scrollTo`]($w.Node.html#scrollTo) function.",
                " + `/localPageURL?queryParam=value`: Another page on your site with query parameters.",
                " + `/`: Your site's home page.",
                " + `http(s)://<url>`: An external web address.",
                " + `wix:document://<location>`: A document stored in the Media Manager.",
                " + `mailto:<address>@<someplace.com>?subject=<subject>`: An email.",
                " + `tel:<phone number>`: A phone number.",
                "",
                "",
                " To find the local URL of a page on your site in the Editor:",
                "",
                " + Regular page: See the **SEO** tab of the **Page Settings** panel.",
                " + Dynamic page: See the **Page Info** tab of the **Page Settings** panel",
                "   for the URL structure. The actual URL used for navigation needs to contain",
                "   values where the placeholders are.",
                "",
                "   For example, if the URL structure of your dynamic page looks like:",
                "",
                "   ![Dynamic Page URL](images/dynamic_url.png \"Dynamic Page URL\")",
                "",
                "   and you have an item with the title \"Waffles\", the local URL to that page",
                "   is /Recipes/Waffles.",
                " + Router page: You cannot navigate directly to a specific router page. You",
                "   can navigate to a URL with the router's prefix and the router code",
                "   decides which page to route to.",
                "",
                "",
                " The `to()` function attempts to properly encode the URL parameter that",
                " is passed to it. For example, `.../some page` is encoded to",
                " `.../some%20page`. However, some URLs do not have one unambiguous encoding.",
                " In those cases it is up to you to encode the URL to reflect your intentions.",
                " Because of these situations, it is a best practice to always encode URLs",
                " before you pass them to the `to()` function.",
                "",
                " Note that Wix URLs do not contain spaces. A page which has spaces in its",
                " name has its spaces replaced with dashes (`-`). Similarly, a dynamic page",
                " whose URL contains the value of a field in your collection with spaces",
                " has its spaces replaced with dashes (`-`).",
                "",
                " > ** Note:** The `to()` function does not work while previewing your site." ],
            "links": [],
            "examples":
              [ { "title": "Navigate to a local link",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.to(\"/about-me\");" ],
                  "extra":
                    {  } },
                { "title": "Navigate to a local link and scroll to an element",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.to(\"/long-page#downUnder\");",
                      "" ],
                  "extra":
                    { "description": "This example assumes you have a page named **Long Page** that has an element\n with the ID `downUnder`." } },
                { "title": "Navigate to an external web link",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.to(\"http://wix.com\");" ],
                  "extra":
                    {  } },
                { "title": "Open a new email window",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.to(\"mailto:a@b.com?subject=Something%20Intersting\");" ],
                  "extra":
                    {  } },
                { "title": "Open a document",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.to(\"wix:document://v1/9bec_52fb06ea/filename.xls\");" ],
                  "extra":
                    {  } },
                { "title": "Make a phone call",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.to(\"tel:+1-555-555-5555\");" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "callbacks":
    [ { "name": "LocationChangeHandler",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "event",
              "type": "wix-location.Location",
              "doc": "The new location." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 420,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Handles location change events.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "messages":
    [ { "name": "Location",
        "locations":
          [ { "lineno": 413,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "An object containing information about a location.",
            "links": [],
            "examples":
              [ { "title": "Get the new location path",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.onChange( (location) => {",
                      "  let newPath = location.path;",
                      "} );" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "path",
              "type": "string",
              "doc": "Location path." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "ParamsToAdd",
        "locations":
          [ { "lineno": 272,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Set of key-value pairs for query parameters and their values.",
            "links": [],
            "examples":
              [ { "title": "Add query parameters to the URL",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.queryParams.add({",
                      "  \"key2\": \"value2new\",",
                      "  \"key3\": \"value3\"",
                      "});",
                      "",
                      "// URL before addition:",
                      "// www.mysite.com/page?key1=value1&key2=value2",
                      "",
                      "// URL will look like:",
                      "// www.mysite.com/page?key1=value1&key2=value2new&key3=value3" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "key:value",
              "type": "string",
              "doc": "Key value pair in the format `key:value`: \n                     \n + `key`  Any query parameter name of type `string`. \n + `:`  A colon separating the `key` and the `value`.\n + `value`  Any query parameter value of type `string`." } ],
        "extra":
          {  },
        "labels":
          [ "removed" ] },
      { "name": "QueryObject",
        "locations":
          [ { "lineno": 244,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Set of key-value pairs for query parameters and their values.",
            "links": [],
            "examples":
              [ { "title": "Add query parameters to the URL",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.queryParams.add({",
                      "  \"key2\": \"value2new\",",
                      "  \"key3\": \"value3\"",
                      "});",
                      "",
                      "// URL before addition:",
                      "// www.mysite.com/page?key1=value1&key2=value2",
                      "",
                      "// URL will look like:",
                      "// www.mysite.com/page?key1=value1&key2=value2new&key3=value3" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "key:value",
              "type": "string",
              "doc": "Key value pair in the format `key:value`: \n                     \n + `key`  Any query parameter name of type `string`. \n + `:`  A colon separating the `key` and the `value`.\n + `value`  Any query parameter value of type `string`." } ],
        "extra":
          {  },
        "labels":
          [ "removed" ] },
      { "name": "QueryParamsToAdd",
        "locations":
          [ { "lineno": 272,
              "filename": "location.es6" } ],
        "docs":
          { "summary": "Set of key-value pairs for query parameters and their values.",
            "links": [],
            "examples":
              [ { "title": "Add query parameters to the URL",
                  "body":
                    [ "import wixLocation from 'wix-location';",
                      "",
                      "// ...",
                      "",
                      "wixLocation.queryParams.add({",
                      "  \"key2\": \"value2new\",",
                      "  \"key3\": \"value3\"",
                      "});",
                      "",
                      "// URL before addition:",
                      "// www.mysite.com/page?key1=value1&key2=value2",
                      "",
                      "// URL will look like:",
                      "// www.mysite.com/page?key1=value1&key2=value2new&key3=value3" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "key:value",
              "type": "string",
              "doc": "Key value pair in the format `key:value`: \n                     \n + `key`  Any query parameter name of type `string`. \n + `:`  A colon separating the `key` and the `value`.\n + `value`  Any query parameter value of type `string`." } ],
        "extra":
          {  },
        "labels":
          [ "changed",
            "removed" ] } ],
  "extra":
    {  },
  "menuSections": "APIs",
  "relatedContent":
    [ { "icon": "article",
        "text": "Building Your Own Members Area",
        "url": "https://support.wix.com/en/article/velo-tutorial-building-your-own-members-area" },
      { "icon": "example",
        "text": "Quick Booking & Pending Appointments",
        "url": "https://www.wix.com/velo/example/quick-book-and-pending-appointments" },
      { "icon": "example",
        "text": "Print on Demand",
        "url": "https://www.wix.com/velo/example/print-on-demand" },
      { "icon": "example",
        "text": "Related Items",
        "url": "https://www.wix.com/velo/example/related-items" },
      { "icon": "example",
        "text": "Mega Menu",
        "url": "https://www.wix.com/velo/example/mega-menu" },
      { "icon": "example",
        "text": "Back in Stock Notification for Site Contacts",
        "url": "https://www.wix.com/velo/example/back-in-stock-notification-for-site-contacts" },
      { "icon": "example",
        "text": "Back in Stock Notification for Site Members",
        "url": "https://www.wix.com/velo/example/back-in-stock-notification-for-site-members" } ],
  "FAQs":
    [ { "title": "Do I use wix-location to find the physical location of a site visitor?",
        "markdown": "No. Use [`wix-window.getCurrentGeolocation`](https://www.wix.com/code/reference/wix-window.html#getCurrentGeolocation) instead. The wix-location API contains functionality for getting information about the URL of the current page and for navigating to other pages." },
      { "title": "How can I open a link in a new tab when using the 'to()' function?",
        "markdown": "Currently, you cannot open a link in a new tab when using the [`to()`](https://www.wix.com/code/reference/wix-location.html#to) function. In some cases, when setting where a [button](https://www.wix.com/code/reference/$w.Button.html) sends a site visitor, a workaround is to set the button's [`link`](https://www.wix.com/code/reference/$w.Button.html#link) and [`target`](https://www.wix.com/code/reference/$w.Button.html#target). " },
      { "title": "How do I remove the query parameters that are kept when I navigate between pages in my site?",
        "markdown": "To remove the query parameters, direct the browser using the [`to()`](https://www.wix.com/code/reference/wix-location.html#to) function to the full URL of a page instead of a relative URL. For example, instead of using `/next-page`, use `https://mysite.com/next-page`." } ] }