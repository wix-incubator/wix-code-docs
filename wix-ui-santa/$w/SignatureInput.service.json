{ "name": "SignatureInput",
  "memberOf": "$w",
  "mixes":
    [ "$w.HiddenCollapsedMixin",
      "$w.FormElement",
      "$w.DisabledMixin",
      "$w.FocusMixin",
      "$w.StyleMixin",
      "$w.RequiredMixin" ],
  "labels":
    [ "changed" ],
  "location":
    { "lineno": 16,
      "filename": "SignatureInput.js" },
  "docs":
    { "summary": "<H3>This feature is not yet available to all users.</H3> \n`SignatureInput` lets site visitors enter and clear signatures.",
      "description":
        [ "Before working with this API, you must add a signature element to your page. In the ",
          " Wix Editor, add a **Signature** and a **Submit** button to a form on your ",
          " page. The signature element comes with a signature pad and a built-in **Clear** ",
          " button. After the site visitor draws their signature on the pad and submits the form, ",
          " the `SignatureInput` element's [`value`](#value) is populated with a base64-encoded ",
          " Data URL representing a PNG image of the signature.",
          "",
          " The `SignatureInput` APIs work with both Wix Forms and custom forms, which are forms you ",
          " manually create by adding user input elements and a submit button to your page.",
          "",
          " With code, you can use the `SignatureInput` API to: ",
          "",
          " + Save the signature to a collection as an inline image in a field of type **Image**. ",
          " + Clear the signature from the signature pad with the [`clear()`](#clear) function.",
          " + Use the [`onChange()`](#onChange) event handler to detect if the signature value changed or was cleared. ",
          " + Set the element's properties, such as Hidden on load, and events, such as onMouseIn.",
          "",
          "",
          "",
          " **Using Signatures with Wix Forms**:",
          " Wix Forms automatically adds the signature to the Media Manager and to the collection generated for you by Wix Forms, so ",
          " you do not have to code this functionality unless working with another collection.",
          "",
          " **About Inline Images in Collections**: ",
          " + Saving a signature as an inline image in a collection is supported because signatures are relatively small in size. We do not recommend that you store other types of images inline in collections for performance reasons. ",
          " + You cannot preview inline images in collections generated by apps that do not use the new Wix Content Manager, such as Wix Forms. To make sure you can preview, we recommend you do not store inline images in collections generated by Wix Forms." ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties":
    [ { "name": "SignatureValue",
        "labels": [],
        "get": false,
        "set": true,
        "type": "string",
        "locations":
          [ { "lineno": 173,
              "filename": "SignatureInput.js" } ],
        "docs":
          { "summary": "An object containing a signature.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "style",
        "labels": [],
        "get": true,
        "set": false,
        "type": "$w.Style",
        "locations":
          [ { "lineno": 63,
              "filename": "SignatureInput.js" } ],
        "docs":
          { "summary": "Gets an object containing information about the signature input element's styles.",
            "description":
              [ "The following styles can be used with signature inputs:",
                "",
                " + [`backgroundColor`]($w.Style.html#backgroundColor)",
                " + [`borderColor`]($w.Style.html#borderColor)",
                " + [`borderWidth`]($w.Style.html#borderWidth)" ],
            "links": [],
            "examples":
              [ { "title": "Set the background color",
                  "body":
                    [ "$w(\"#myElement\").style.backgroundColor = \"rgba(255,0,0,0.5)\";" ],
                  "extra":
                    {  } },
                { "title": "Get the background color",
                  "body":
                    [ "let bgColor = $w(\"#myElement\").style.backgroundColor;" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "notes":
              [ "Not all styles can be used on all signature designs. To determine which styles\n work with a specific signature design, go to the **Signature Design** panel in\n the Editor, choose a design, and click **Customize Design**. The design\n options that you see in the **Signature Design** panel are the styles you can\n use in your code." ] } },
      { "name": "value",
        "labels": [],
        "get": true,
        "set": false,
        "type": "$w.Value",
        "locations":
          [ { "lineno": 87,
              "filename": "SignatureInput.js" } ],
        "docs":
          { "summary": "Gets the value of a signature input.",
            "description":
              [ "The `value` is one of the following: ",
                "",
                " + An image, defined as a base64-encoded Data URL representing a PNG image of a signature. The `value` starts with the prefix 'data:image/png;base64,' followed by a base64-encoded string, for example: `data:image/png;base64,iVBORw0KGgoAA...`",
                " + An empty string if the signature pad is blank. ",
                "",
                "",
                "",
                " To reset the signature input value, call the [`clear()`](#clear) function." ],
            "links": [],
            "examples":
              [ { "title": "Get a signature input",
                  "body":
                    [ "let mySignature = $w(\"#mySignatureInput\").value;",
                      "",
                      "/*  value:",
                      " *",
                      " * data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAACOCAYA...m8B/AaZVs55m1NzcAAAAAElFTkSuQmCC",
                      " */" ],
                  "extra":
                    {  } },
                { "title": "Get a signature input and insert it in a collection",
                  "body":
                    [ "import wixData from 'wix-data';",
                      "",
                      "export function signatureSubmitButton_click(event) {",
                      "  let theSignature = $w('#mySignatureInput').value;",
                      "\t\t",
                      "  let toInsert = {",
                      "    \"title\": \"Mia\",",
                      "    \"lastName\": \"Casa\",",
                      "    \"email\": \"MiaCasa@SuCasa.com\",",
                      "    \"signature\": theSignature",
                      "   };",
                      "         ",
                      "  wixData.insert(\"People\", toInsert)",
                      "    .then((results) => {",
                      "      let item = results;     //see item below",
                      "      console.log(item);",
                      "    })",
                      "    .catch((err) => {",
                      "     let errorMsg = err;",
                      "    });",
                      "}",
                      "",
                      "/*  item:",
                      " *",
                      " * {",
                      " *   _id: \"41c8ef87-3eec-47bd-a3bd-17a09de9ffee\"",
                      " *   _owner: \"4c47c608-cfa8-4037-93ac-738f09560ed3\"",
                      " *   _createdDate: \"2019-11-10T09:27:14.605Z\"",
                      " *   _updatedDate: \"2019-11-10T09:27:14.605Z\" ",
                      " *   title: \"Mia\"",
                      " *   lastName: \"Casa\"",
                      " *   email: \"MiaCasa@SuCasa.com\"",
                      " *   signature: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEU...AAAASUVORK5CYII=\"",
                      " * }",
                      " */" ],
                  "extra":
                    { "description": "This example demonstrates how to insert a person and their signature in a collection called `People`. This \n collection has an image field for the signature." } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "operations":
    [ { "name": "clear",
        "labels": [],
        "nameParams": [],
        "params": [],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 182,
              "filename": "SignatureInput.js" } ],
        "docs":
          { "summary": "Clears the signature.",
            "description":
              [ "The `clear()` function erases the signature from the signature pad and clears the `value` property.",
                "",
                " Clearing the signature using the `clear()` function does not trigger the `onChange` event handler.",
                "",
                " Note, however, that clearing the signature using the Clear button on a live site does trigger an [`onChange()`](#onChange) event handler, unless the signature input field is already empty." ],
            "links": [],
            "examples":
              [ { "title": "Clear a signature input",
                  "body":
                    [ "let myEmptySignature = $w(\"#mySignatureInput\").clear();" ],
                  "extra":
                    {  } },
                { "title": "Clears fields in a form, including a signature input field",
                  "body":
                    [ "$w('#clearFormButton').onClick(() => {",
                      "  $w('TextInput1').value = '';",
                      "  $w('TextInput2').value = '';",
                      "  $w('#mySignatureInput').clear();",
                      "});" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "onChange",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "handler",
              "type": "$w.SignatureInput.ChangeHandler",
              "doc": "The name of the function or the function expression to run when the signature input element's value changes." } ],
        "ret":
          { "type": "$w.SignatureValue",
            "doc": "The signature input element on which the event is now registered." },
        "locations":
          [ { "lineno": 133,
              "filename": "SignatureInput.js" } ],
        "docs":
          { "summary": "Adds an event handler that runs when a signature input element's value\n is changed by a site visitor.",
            "description":
              [ "A signature input element receives a `change` event when a site visitor changes its value.",
                "",
                " A `change` event is not triggered when:  ",
                " + You, the site owner, change an element's value using the [`clear()`](#clear) function.",
                " + The signature input field is empty, and the site visitor clears the signature." ],
            "links": [],
            "examples":
              [ { "title": "Get the value of the signature input element that was changed",
                  "body":
                    [ "$w(\"#mySignatureInputElement\").onChange( (event) => {",
                      "  let newValue = event.target.value;  // \"new value\"",
                      "});" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "eventType": "onChange" } } ],
  "callbacks":
    [ { "name": "ChangeHandler",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "event",
              "type": "$w.SignatureInput.SignatureItemChangedEvent",
              "doc": "The event that occurred." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 158,
              "filename": "SignatureInput.js" } ],
        "docs":
          { "summary": "Handles events fired when a signature changes.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "messages":
    [ { "name": "SignatureValue",
        "locations":
          [ { "lineno": 15,
              "filename": "SignatureInput.js" } ],
        "docs":
          { "summary": "An object containing a signature.",
            "links": [],
            "examples":
              [ { "title": "Gets the signature input",
                  "body":
                    [ "let mySignature = $w(\"#mySignatureInput\").value;" ],
                  "extra":
                    {  } },
                { "title": "Gets the signature input and saves it in a collection",
                  "body":
                    [ "import wixData from 'wix-data';",
                      "",
                      "export function signatureSubmitButton_click(event) {",
                      "",
                      "\tif ($w('#mySignatureInput').value) {",
                      "\t\t",
                      "\t\tlet theSignature = $w('#mySignatureInput').value;",
                      "\t\t",
                      "\t\tlet toSave = {",
                      "\t\t\t\"title\": \"Mia\",",
                      "\t\t\t\"lastName\": \"Casa\",",
                      "\t\t\t\"signature\": theSignature",
                      "        };",
                      "        ",
                      "\t\twixData.save(\"People\", toSave)",
                      "\t\t\t.then((results) => {",
                      "\t\t\t\tlet item = results;     //see item below",
                      "\t\t\t\tconsole.log(item);",
                      "\t\t\t})",
                      "\t\t\t.catch((err) => {",
                      "\t\t\t\tlet errorMsg = err;",
                      "\t\t\t});",
                      "",
                      "\t} else {",
                      "\t\tconsole.log(\"The value of the signature input is empty.\");",
                      "\t}",
                      "}",
                      "",
                      "/*  item is:",
                      " *",
                      " * {",
                      " *   _id: \"41c8ef87-3eec-47bd-a3bd-17a09de9ffee\"",
                      " *   _owner: \"4c47c608-cfa8-4037-93ac-738f09560ed3\"",
                      " *   _createdDate: \"2019-11-10T09:27:14.605Z\"",
                      " *   _updatedDate: \"2019-11-10T09:27:14.605Z\" ",
                      " *   title: \"Mia\"",
                      " *   lastName: \"Casa\"",
                      " *   signature: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEU...AAAASUVORK5CYII=\"",
                      " * }",
                      " */" ],
                  "extra":
                    { "description": "This example demonstrates how to save a signature in a collection called `People`. This \n collection has a field for the signature which is of type string." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "value",
              "type": "string",
              "doc": "A signature, as a base64-encoded Data URL representing a PNG image. For example: `data:image/png;base64,iVBORw0KGgoAA...`" } ],
        "extra":
          {  },
        "labels":
          [ "removed" ] } ],
  "extra":
    {  } }