{
  "name": "Indexes",
  "memberOf": "wix-data-v2",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-data.v2-index",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "createIndex",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-data-v2.Indexes.CreateIndexOptions"
            }
          ],
          "doc": "Options for creating an index.\n",
          "required": true
        }
      ],
      "requiredFields": [
        "options",
        "options.index",
        "options.index.fields",
        "options.index.fields.path",
        "options.index.name"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-data-v2.Indexes.CreateIndexResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Creates an index for a data collection.",
        "description": [
          "The index can't be used immediately, as the process of generating the index takes time.\nYou can check whether your index is ready using `listIndexes()`.\n\nNote that when an index fails to create, the failed index still occupies a slot.\nTo remove the failed index and free up the slot for a new index, use `dropIndex()`."
        ],
        "examples": [
          {
            "title": "createIndex example",
            "body": [
              "import { indexes } from 'wix-data.v2';",
              "  ",
              " async function createIndex(options) {",
              "   try {",
              "     const result = await indexes.createIndex(options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "createIndex"
    },
    {
      "name": "dropIndex",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-data-v2.Indexes.DropIndexOptions"
            }
          ],
          "doc": "Options for dropping an index.\n",
          "required": true
        }
      ],
      "requiredFields": [
        "options",
        "options.indexName"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "nativeType": "void"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Removes an index from a data collection.",
        "description": [
          "The process of dropping an index from a collection takes time.\nYou can check whether your index has been dropped by calling `listIndexes()`."
        ],
        "examples": [
          {
            "title": "dropIndex example",
            "body": [
              "import { indexes } from 'wix-data.v2';",
              "  ",
              " async function dropIndex(options) {",
              "   try {",
              "     const result = await indexes.dropIndex(options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "dropIndex"
    },
    {
      "name": "listIndexes",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-data-v2.Indexes.ListIndexesOptions"
            }
          ],
          "doc": "Options for retrieving a list of indexes.\n",
          "required": false
        }
      ],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-data-v2.Indexes.ListIndexesResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Lists all indexes defined for a data collection.",
        "description": [
          "When an index's status is `ACTIVE`, it is ready to use.\nWhile it is still being created, its status is `BUILDING`.\n\nWhen an index's status is `DROPPED`, it has been dropped successfully.\nWhile it is still in the process of being removed, its status is `DROPPING`."
        ],
        "examples": [
          {
            "title": "listIndexes example",
            "body": [
              "import { indexes } from 'wix-data.v2';",
              "  ",
              " async function listIndexes(options) {",
              "   try {",
              "     const result = await indexes.listIndexes(options);",
              "",
              "     return result;",
              "   } catch (error) {",
              "     console.error(error);",
              "     // Handle the error",
              "   }",
              " }",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false,
      "customLabels": [
        {
          "id": "maturity-beta"
        }
      ],
      "syntaxName": "listIndexes"
    }
  ],
  "messages": [
    {
      "name": "CreateIndexOptions",
      "members": [
        {
          "name": "dataCollectionId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the data collection for which to generate the index."
        },
        {
          "name": "index",
          "type": [
            {
              "referenceType": "wix-data-v2.Indexes.Index"
            }
          ],
          "doc": "Details of the index to be created."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CreateIndexRequest",
      "members": [
        {
          "name": "dataCollectionId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the data collection for which to generate the index."
        },
        {
          "name": "index",
          "type": [
            {
              "referenceType": "wix-data-v2.Indexes.Index"
            }
          ],
          "doc": "Details of the index to be created."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CreateIndexResponse",
      "members": [
        {
          "name": "index",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-data-v2.Indexes.Index"
            }
          ],
          "doc": "Details of the index being generated."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DropIndexOptions",
      "members": [
        {
          "name": "dataCollectionId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the data collection for which the index to be dropped is defined."
        },
        {
          "name": "indexName",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Name of the index to drop."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DropIndexRequest",
      "members": [
        {
          "name": "dataCollectionId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the data collection for which the index to be dropped is defined."
        },
        {
          "name": "indexName",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Name of the index to drop."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DropIndexResponse",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Failure",
      "members": [
        {
          "name": "code",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Error code.\n- `WDE0112`: Unknown error while building collection index.\n- `WDE0113`: Duplicate key error while building collection index.\n- `WDE0114`: Document too large while building collection index."
        },
        {
          "name": "description",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Description of the failure."
        },
        {
          "name": "itemId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the data item that caused the failure.\nFor example, if `unique` is `true`, the ID of an item containing a duplicate value."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Field",
      "members": [
        {
          "name": "order",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Sort order for the index. Base on how the data is regularly queried.\n\nDefault: `ASC`\n"
        },
        {
          "name": "path",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Path of the field to index. For example: `title` or `options.price`."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Index",
      "members": [
        {
          "name": "caseInsensitive",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether the index ignores case.\n\nDefault: `false`\n"
        },
        {
          "name": "failure",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "referenceType": "wix-data-v2.Indexes.Failure"
            }
          ],
          "doc": "Contains details about the reasons for failure when `status` is `FAILED`."
        },
        {
          "name": "fields",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-data-v2.Indexes.Field"
                  }
                ]
              }
            }
          ],
          "doc": "Fields for which the index is defined.\n\nMax: 3 fields (for a unique index: 1 field)\n"
        },
        {
          "name": "name",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Name of the index."
        },
        {
          "name": "status",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Current status of the index.\n- `BUILDING`: Index creation is in progress.\n- `ACTIVE`: Index has been successfully created and can be used in queries.\n- `DROPPING`: Index is in the process of being dropped.\n- `DROPPED`: Index has been dropped successfully.\n- `FAILED`: Index creation has failed.\n- `INVALID`: Index contains incorrectly indexed data."
        },
        {
          "name": "unique",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether the index enforces uniqueness of values in the field for which it is defined.\nIf `true`, the index can have only one field.\n\nDefault: `false`\n"
        }
      ],
      "docs": {
        "description": [
          "An index is a map of a collection's data, organized according to specific fields to increase query speed."
        ]
      }
    },
    {
      "name": "ListIndexesOptions",
      "members": [
        {
          "name": "dataCollectionId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the data collection for which to list indexes."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListIndexesRequest",
      "members": [
        {
          "name": "dataCollectionId",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "ID of the data collection for which to list indexes."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListIndexesResponse",
      "members": [
        {
          "name": "indexes",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-data-v2.Indexes.Index"
                  }
                ]
              }
            }
          ],
          "doc": "List of all indexes for the requested data collection."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
