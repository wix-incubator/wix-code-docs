{
  "name": "Tier",
  "memberOf": "wix-loyalty-backend",
  "mixes": [],
  "callbacks": [],
  "extra": {},
  "clientId": "wix-loyalty-backend-tier",
  "docs": {},
  "relatedGuides": [],
  "properties": [],
  "operations": [
    {
      "name": "bulkCreateTiers",
      "params": [
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.BulkCreateTiersOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-loyalty-backend.Tier.BulkCreateTiersResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Creates one or more Tiers",
        "description": [
          "Note: Only Business VIP users can have more than one Tier."
        ],
        "examples": [
          {
            "title": "bulkCreateTiers example",
            "body": [
              "",
              "    function bulkCreateTiers() {",
              "",
              "  }",
              "",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false
    },
    {
      "name": "createTier",
      "params": [
        {
          "name": "tier",
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.Tier"
            }
          ],
          "doc": "Tier to be created",
          "required": true
        }
      ],
      "requiredFields": [
        "tier"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-loyalty-backend.Tier.CreateTierResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Creates a new Tier",
        "description": [
          "Note: Only Business VIP users can have more than one Tier."
        ],
        "examples": [
          {
            "title": "createTier example",
            "body": [
              "",
              "    function createTier() {",
              "",
              "  }",
              "",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false
    },
    {
      "name": "deleteTier",
      "params": [
        {
          "name": "tierId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Id of the Tier to delete",
          "required": true
        },
        {
          "name": "options",
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.DeleteTierOptions"
            }
          ],
          "doc": "",
          "required": false
        }
      ],
      "requiredFields": [
        "tierId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "nativeType": "void"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Delete a Tier",
        "description": [],
        "examples": [
          {
            "title": "deleteTier example",
            "body": [
              "",
              "    function deleteTier() {",
              "",
              "  }",
              "",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false
    },
    {
      "name": "getTier",
      "params": [
        {
          "name": "tierId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Id of the Tier to retrieve",
          "required": true
        }
      ],
      "requiredFields": [
        "tierId"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-loyalty-backend.Tier.GetTierResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Get a Tier by id",
        "description": [],
        "examples": [
          {
            "title": "getTier example",
            "body": [
              "",
              "    function getTier() {",
              "",
              "  }",
              "",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false
    },
    {
      "name": "getTiersProgramSettings",
      "params": [],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-loyalty-backend.Tier.GetTiersProgramSettingsResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "GetTiersProgramSettings returns TiersProgramSettings\nIf TiersProgramSettings don't exist, default TiersProgramSettings are created",
        "description": [],
        "examples": [
          {
            "title": "getTiersProgramSettings example",
            "body": [
              "",
              "    function getTiersProgramSettings() {",
              "",
              "  }",
              "",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false
    },
    {
      "name": "listTiers",
      "params": [],
      "requiredFields": [],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-loyalty-backend.Tier.ListTiersResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "List Tiers",
        "description": [],
        "examples": [
          {
            "title": "listTiers example",
            "body": [
              "",
              "    function listTiers() {",
              "",
              "  }",
              "",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false
    },
    {
      "name": "updateTier",
      "params": [
        {
          "name": "_id",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Tier ID",
          "required": true
        },
        {
          "name": "tier",
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.UpdateTier"
            }
          ],
          "doc": "",
          "required": true
        }
      ],
      "requiredFields": [
        "_id",
        "tier",
        "tier.revision"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-loyalty-backend.Tier.UpdateTierResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "summary": "Update a Tier\nPass the latest `revision` for a successful update",
        "description": [],
        "examples": [
          {
            "title": "updateTier example",
            "body": [
              "",
              "    function updateTier() {",
              "",
              "  }",
              "",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false
    },
    {
      "name": "updateTiersProgramSettings",
      "params": [
        {
          "name": "programSettings",
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.TiersProgramSettings"
            }
          ],
          "doc": "There can be single TiersSettings per site and it's global (i.e. applies to all program's tiers)",
          "required": true
        }
      ],
      "requiredFields": [
        "programSettings",
        "programSettings.revision"
      ],
      "ret": {
        "type": [
          {
            "complexType": {
              "nativeType": "Promise",
              "typeParams": [
                {
                  "referenceType": "wix-loyalty-backend.Tier.UpdateTiersProgramSettingsResponse"
                }
              ]
            }
          }
        ],
        "doc": null
      },
      "docs": {
        "description": [],
        "examples": [
          {
            "title": "updateTiersProgramSettings example",
            "body": [
              "",
              "    function updateTiersProgramSettings() {",
              "",
              "  }",
              "",
              "  "
            ]
          }
        ]
      },
      "isVeloEvent": false
    }
  ],
  "messages": [
    {
      "name": "ApplicationError",
      "members": [
        {
          "name": "code",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        },
        {
          "name": "data",
          "optional": true,
          "type": [
            {
              "nativeType": "Object"
            }
          ],
          "doc": ""
        },
        {
          "name": "description",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "BulkActionMetadata",
      "members": [
        {
          "name": "totalFailures",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Number of items that couldn't be processed."
        },
        {
          "name": "totalSuccesses",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Number of items that were successfully processed."
        },
        {
          "name": "undetailedFailures",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Number of failures without details because detailed failure threshold was exceeded."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "BulkCreateTiersOptions",
      "members": [
        {
          "name": "tiers",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-loyalty-backend.Tier.Tier"
                  }
                ]
              }
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "BulkCreateTiersRequest",
      "members": [
        {
          "name": "tiers",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-loyalty-backend.Tier.Tier"
                  }
                ]
              }
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "BulkCreateTiersResponse",
      "members": [
        {
          "name": "bulkActionMetadata",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.BulkActionMetadata"
            }
          ],
          "doc": ""
        },
        {
          "name": "results",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-loyalty-backend.Tier.BulkTierResult"
                  }
                ]
              }
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "BulkTierResult",
      "members": [
        {
          "name": "item",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.Tier"
            }
          ],
          "doc": ""
        },
        {
          "name": "itemMetadata",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.ItemMetadata"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CreateTierRequest",
      "members": [
        {
          "name": "tier",
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.Tier"
            }
          ],
          "doc": "Tier to be created"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CreateTierResponse",
      "members": [
        {
          "name": "tier",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.Tier"
            }
          ],
          "doc": "The created Tier"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CreateTiersProgramSettingsRequest",
      "members": [
        {
          "name": "programSettings",
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.TiersProgramSettings"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "CreateTiersProgramSettingsResponse",
      "members": [
        {
          "name": "programSettings",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.TiersProgramSettings"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeleteTierOptions",
      "members": [
        {
          "name": "revision",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The revision of the Tier"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeleteTierRequest",
      "members": [
        {
          "name": "revision",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "The revision of the Tier"
        },
        {
          "name": "tierId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Id of the Tier to delete"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "DeleteTierResponse",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetTierRequest",
      "members": [
        {
          "name": "tierId",
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Id of the Tier to retrieve"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetTierResponse",
      "members": [
        {
          "name": "tier",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.Tier"
            }
          ],
          "doc": "The retrieved Tier"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetTiersProgramRequest",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetTiersProgramResponse",
      "members": [
        {
          "name": "programSettings",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.TiersProgramSettings"
            }
          ],
          "doc": ""
        },
        {
          "name": "tiers",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-loyalty-backend.Tier.Tier"
                  }
                ]
              }
            }
          ],
          "doc": ""
        },
        {
          "name": "vipPlan",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetTiersProgramSettingsRequest",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "GetTiersProgramSettingsResponse",
      "members": [
        {
          "name": "programSettings",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.TiersProgramSettings"
            }
          ],
          "doc": ""
        },
        {
          "name": "vipPlan",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ItemMetadata",
      "members": [
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Item ID. Should always be available, unless it's impossible (for example, when failing to create an item)."
        },
        {
          "name": "error",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.ApplicationError"
            }
          ],
          "doc": "Details about the error in case of failure."
        },
        {
          "name": "originalIndex",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": "Index of the item within the request array. Allows for correlation between request and response items."
        },
        {
          "name": "success",
          "optional": true,
          "type": [
            {
              "nativeType": "boolean"
            }
          ],
          "doc": "Whether the requested action was successful for this item. When `false`, the `error` field is populated."
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListTiersRequest",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "ListTiersResponse",
      "members": [
        {
          "name": "tiers",
          "optional": true,
          "type": [
            {
              "complexType": {
                "nativeType": "Array",
                "typeParams": [
                  {
                    "referenceType": "wix-loyalty-backend.Tier.Tier"
                  }
                ]
              }
            }
          ],
          "doc": "The retrieved Tiers"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "RecalculateAllTiersRequest",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "RecalculateAllTiersResponse",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "RollingWindow",
      "members": [
        {
          "name": "durationInMonths",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "Tier",
      "members": [
        {
          "name": "_createdDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Represents the time this Tier was created"
        },
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Tier ID"
        },
        {
          "name": "_updatedDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Represents the time this Tier was last updated"
        },
        {
          "name": "requiredPoints",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": ""
        },
        {
          "name": "revision",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Represents the current state of an item. Each time the item is modified, its `revision` changes. for an update operation to succeed, you MUST pass the latest revision"
        },
        {
          "name": "tierDefinition",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.TierDefinition"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          "Tier is the main entity of LoyaltyTiers that can be used for lorem ipsum dolor"
        ]
      }
    },
    {
      "name": "TierDefinition",
      "members": [
        {
          "name": "description",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        },
        {
          "name": "icon",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        },
        {
          "name": "name",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "TierRequiredPointsChanged",
      "members": [
        {
          "name": "tier",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.Tier"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "TiersProgramSettings",
      "members": [
        {
          "name": "_createdDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": ""
        },
        {
          "name": "_updatedDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": ""
        },
        {
          "name": "baseTierDefinition",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.TierDefinition"
            }
          ],
          "doc": "Used to represent base tier"
        },
        {
          "name": "revision",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": ""
        },
        {
          "name": "rollingWindow",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.RollingWindow"
            }
          ],
          "doc": "More periods will be supported in future"
        },
        {
          "name": "status",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Supported values:\n- `'ACTIVE'`\n- `'DISABLED'`\n- `'DRAFT'`\n- `'PAUSED'`\n- `'UNKNOWN'`"
        }
      ],
      "extra": {
        "oneOfGroups": [
          {
            "name": "oneOfTiersProgramSettingsPeriodOneOf",
            "members": [
              "rollingWindow"
            ]
          }
        ]
      },
      "docs": {
        "description": [
          "There can be single TiersSettings per site and it's global (i.e. applies to all program's tiers)"
        ]
      }
    },
    {
      "name": "TiersProgramSettingsChanged",
      "members": [
        {
          "name": "programSettings",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.TiersProgramSettings"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "TiersProgramSettingsPeriodOneOf",
      "members": [
        {
          "name": "rollingWindow",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.RollingWindow"
            }
          ],
          "doc": "More periods will be supported in future"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "TiersRollingUpdate",
      "members": [],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpdateTier",
      "members": [
        {
          "name": "_createdDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Represents the time this Tier was created"
        },
        {
          "name": "_id",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Tier ID"
        },
        {
          "name": "_updatedDate",
          "readOnly": true,
          "optional": true,
          "type": [
            {
              "nativeType": "Date"
            }
          ],
          "doc": "Represents the time this Tier was last updated"
        },
        {
          "name": "requiredPoints",
          "optional": true,
          "type": [
            {
              "nativeType": "number"
            }
          ],
          "doc": ""
        },
        {
          "name": "revision",
          "optional": true,
          "type": [
            {
              "nativeType": "string"
            }
          ],
          "doc": "Represents the current state of an item. Each time the item is modified, its `revision` changes. for an update operation to succeed, you MUST pass the latest revision"
        },
        {
          "name": "tierDefinition",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.TierDefinition"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpdateTierRequest",
      "members": [
        {
          "name": "tier",
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.Tier"
            }
          ],
          "doc": "Tier to be updated"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpdateTierResponse",
      "members": [
        {
          "name": "tier",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.Tier"
            }
          ],
          "doc": "The updated Tier"
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpdateTiersProgramSettingsRequest",
      "members": [
        {
          "name": "programSettings",
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.TiersProgramSettings"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    },
    {
      "name": "UpdateTiersProgramSettingsResponse",
      "members": [
        {
          "name": "programSettings",
          "optional": true,
          "type": [
            {
              "referenceType": "wix-loyalty-backend.Tier.TiersProgramSettings"
            }
          ],
          "doc": ""
        }
      ],
      "docs": {
        "description": [
          ""
        ]
      }
    }
  ]
}
