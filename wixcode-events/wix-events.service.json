{ "name": "wix-events",
  "mixes": [],
  "labels":
    [ "changed" ],
  "location":
    { "lineno": 1,
      "filename": "index.js" },
  "docs":
    { "summary": "The wix-events module contains functionality for working with\n Wix Events from client-side code.",
      "description":
        [ "Before working with the Events API, you need to ",
          " <a href=\"https://support.wix.com/en/article/adding-wix-events-to-your-site\" target=\"_blank\">install the Wix Events app</a> and",
          " <a href=\"https://support.wix.com/en/article/creating-an-event-in-wix-events\" target=\"_blank\">create at least one event</a>.",
          "",
          " To use the Wix Events API, import `wixEvents` from the `wix-events` module:",
          "",
          "   ```javascript",
          "   import wixEvents from 'wix-events';",
          "   ```" ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "createEventRsvpForm",
        "labels":
          [ "changed" ],
        "nameParams": [],
        "params":
          [ { "name": "eventId",
              "type": "string",
              "doc": "ID of the event to create an RSVP form for." } ],
        "ret":
          { "type": "wix-events.RsvpForm" },
        "locations":
          [ { "lineno": 1,
              "filename": "rsvpForm.js" } ],
        "docs":
          { "summary": "Creates a new RSVP form for the specified event.",
            "description":
              [ "Use the `createEventRsvpForm()` function to retrieve the information",
                " you need to create a custom RSVP form for a specified event and to",
                " submit the form data to register guests for the event.",
                "",
                " Retrieve event IDs to specify an event from the **Events/Events** collection." ],
            "links": [],
            "examples":
              [ { "title": "Create an RSVP form",
                  "body":
                    [ "import wixEvents from 'wix-events';",
                      "",
                      "// ...",
                      "",
                      "const eventId = // get an event ID",
                      "",
                      "const eventRsvpForm = wixEvents.createEventRsvpForm(eventId);" ],
                  "extra":
                    {  } },
                { "title": "Create and submit an RSVP form",
                  "body":
                    [ "import wixEvents from 'wix-events';",
                      "import wixData from 'wix-data';",
                      "",
                      "let form;",
                      "",
                      "wixData.query(\"Events/Events\")",
                      "  .eq(\"title\", \"My Event\")",
                      "  .find()",
                      "  .then( (results) => {",
                      "    if(results.items.length > 0) {",
                      "      form = wixEvents.createEventRsvpForm(results.items[0]._id);",
                      "    }",
                      "    else {",
                      "      console.log(\"Could not find event\");",
                      "    }",
                      "  });",
                      "",
                      "$w.onReady(function () {",
                      "  $w('#submit').onClick( () => {",
                      "    let formValues = getFormValues();",
                      "",
                      "    form.submit(formValues)",
                      "      .then( (result) => {",
                      "        console.log(\"RSVP form submitted.\")",
                      "      } )",
                      "      .catch( (error) => {",
                      "        console.log(`Error message: ${error.message}`);",
                      "        if(error.fields) {",
                      "          console.log(`Incorrect fields: ${error.fields}`);\t",
                      "        }",
                      "      } );\t",
                      "  } );",
                      "});",
                      "",
                      "function getFormValues() {",
                      "  const formValues = {",
                      "    \"rsvpStatus\": \"YES\",",
                      "    \"firstName\": $w(\"#firstName\").value,",
                      "    \"lastName\": $w(\"#lastName\").value,",
                      "    \"email\": $w(\"#email\").value,",
                      "    \"custom\": $w(\"#foodAllergies\").value",
                      "  };",
                      "      ",
                      "  return formValues;",
                      "}" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "notes":
              [ "To work with the Wix Events API, you need to publish your site." ] } } ],
  "callbacks": [],
  "messages": [],
  "extra":
    { "notes":
        [ "To work with the Wix Events API, you need to publish your site." ] } }