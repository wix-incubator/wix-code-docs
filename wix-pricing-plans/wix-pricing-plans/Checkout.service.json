{ "name": "Checkout",
  "memberOf": "wix-pricing-plans",
  "mixes": [],
  "labels": [],
  "location":
    { "lineno": 105,
      "filename": "pricing-plans.js" },
  "docs":
    { "summary": "Contains functionality for ordering your site's pricing plans.",
      "description":
        [ "Use the Pricing Plans Checkout API to create online orders for your [pricing plans](https://support.wix.com/en/article/pricing-plans-an-overview) from page code. ",
          "",
          " > **Note:**",
          " > The Pricing Plans APIs replace the deprecated Paid Plans APIs.",
          " > The deprecated APIs will continue to work, but they will not receive updates.",
          " > To keep any existing code compatible with future changes, see the",
          " > migration instructions for each function.",
          "",
          " ### Setup pricing plans",
          "",
          " To use APIs for checking out orders, first set up your site to:",
          "",
          " + Accept payments as described in [About Accepting Payments](https://support.wix.com/en/article/about-accepting-payments).",
          " + Offer membership plans as described in [About Pricing Plans](https://support.wix.com/en/article/about-pricing-plans). When setting up your site to accept pricing plans, ",
          "   define the plans you want to offer [using the Dashboard](https://support.wix.com/en/article/creating-a-plan-in-pricing-plans) or",
          "   [using the Pricing Plan APIs](wix-pricing-plans-backend/createplan).",
          "",
          "",
          " ### Checking out pricing plans",
          "",
          " Use the Checkout APIs to create orders and facilitate payment.",
          "",
          " The Checkout API allows you to: ",
          " + Create online orders and facilitate their payment.",
          " + Create your own customized ordering process. ",
          "",
          " Updating the properties of a pricing plan does not affect any current orders of the plan by members. ",
          " The existing orders retain their existing terms and pricing. ",
          " ",
          " Members can order pricing plans in 2 ways:",
          "",
          " + **Online**. Members order and pay for their plans on your site without manual intervention. This can also be done",
          "   in [backend code](wix-pricing-plans-backend/checkout/createOnlineOrder).",
          " + **Offline**. Members place their order by phone, text, or email. This can only be done",
          "   in [backend code](wix-pricing-plans-backend/checkout/createOfflineOrder).",
          "",
          " ### Drafts",
          "",
          " Orders created online are considered drafts until they are paid for. Drafts are not listed in the Subscriptions ",
          " dashboard page and are not saved in the `Orders` collection.",
          "",
          " Offline orders are never considered drafts even if they are not yet paid for. Unlike online orders, ",
          " offline orders are immediately listed in the Subscriptions dashboard page and saved in the `Orders` collection.",
          "",
          "",
          " ### Orders and subscriptions",
          " ",
          " Actions related to basic pricing plan management are available from the [Pricing Plans](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Fmembership%3FreferralInfo%3Dvelo-docs)",
          " page in the Dashboard. These actions correspond to the functions available in the [Pricing Plans APIs](wix-pricing-plans/introduction).",
          "",
          " Every pricing plan order corresponds to a Wix subscription, including orders for single payment plans. You can see all orders from your site's",
          " [Subscriptions](https://www.wix.com/my-account/site-selector/?buttonText=Select%20Site&title=Select%20a%20Site&autoSelectOnSingleSite=true&actionUrl=https:%2F%2Fwww.wix.com%2Fdashboard%2F%7B%7BmetaSiteId%7D%7D%2Fsubscriptions%3FreferralInfo%3Dvelo-docs)",
          " page in the Dashboard. Actions available on this page correspond to the functions available in the [Orders APIs](wix-pricing-plans/orders/introduction) and the [Checkout APIs](wix-pricing-plans/checkout/introduction).",
          "",
          " > **Notes**: ",
          " >",
          " > + Wix pricing plans are 1 type of Wix subscriptions available from the Subscriptions page. For example, the Subscriptions page also includes Wix Stores subscriptions and Wix invoice subscriptions.",
          " >",
          " > + Pricing plans can be 1 of 3 different pricing models: `singlePaymentForDuration`, `singlePaymentUnlimited`, and `subscription`. Orders for all pricing plan models are displayed ",
          "     on the Subscriptions page, not just `subscription` type models. See [Pricing Models](wix-pricing-plans-backend/introduction#pricing-models) to learn more.",
          "",
          " ### Roles and permissions",
          "",
          " You need \"Manage Pricing Plans\" [permissions](https://support.wix.com/en/article/roles-permissions-accessing-roles-permissions) to perform pricing ",
          " plan checkout functions. ",
          "",
          "",
          " ### Importing the APIs",
          "",
          " To use the Checkout API, import `checkout` from the `wix-pricing-plans` module.",
          "",
          "   ```javascript",
          "   import {checkout} from 'wix-pricing-plans';",
          "   ```" ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "createOnlineOrder",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "planId",
              "type": "string",
              "doc": "The plan ID." },
            { "name": "startDate",
              "type": "Date",
              "doc": "The date the plan should start on. As of this date, the plan is active for the buyer. Defaults to today's date.",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-pricing-plans-backend.Orders.Order" ] },
            "doc": "Fulfilled - The created order." },
        "locations":
          [ { "lineno": 454,
              "filename": "pricing-plans.js" } ],
        "docs":
          { "summary": "Orders a pricing plan.",
            "description":
              [ "The `createOnlineOrder()` function returns a Promise that resolves to an `Order`",
                " object. ",
                "",
                " To process pricing plans on your site, first set up your site to offer pricing plans",
                " as described in [About Pricing Plans](https://support.wix.com/en/article/about-pricing-plans).",
                " When setting up your site to accept pricing plans, [define the plans you want to offer](https://support.wix.com/en/article/creating-a-plan-in-pricing-plans).",
                "",
                " Ordering a plan places an order for the plan, without actually purchasing it. You can then continue the",
                " payment process with [Wix Pay](https://www.wix.com/velo/reference/wix-pay), which applies the plan to the buyer on completion of payment.",
                "",
                " To understand how `createOnlineOrder()` is used in a customized pricing plan lifecycle,",
                " see [Customized Pricing Plan Purchases](wix-pricing-plans/introduction#customized-pricing-plan-purchases).",
                "",
                "",
                " > **Notes:**",
                " > + The pricing plan `createOnlineOrder()` and `createOfflineOrder()` functions ",
                " >     replace the deprecated paid plans `orderPlan()` function.",
                " >     The deprecated function will continue to work, but will not receive updates.",
                " >     To keep any existing code compatible with future changes, see the",
                " >     [`orderPlan()` migration instructions](wix-paid-plans/orderplan#migration-instructions).",
                " >     ",
                " > + To work with the Pricing Plans API, you need to publish your site." ],
            "links": [],
            "examples":
              [ { "title": "Order a pricing plan by clicking a button",
                  "body":
                    [ "import { checkout } from 'wix-pricing-plans';",
                      "",
                      "// Sample planId value: '099e2c86-3b7e-4477-8c27-f77402b8cced'",
                      "",
                      "$w.onReady(function () {",
                      "  $w('#myOrderButton').onClick((event) => {",
                      "    checkout.createOnlineOrder(planId)",
                      "    .then((order) => {",
                      "      const id = order._id;",
                      "      const status = order.status;  ",
                      "      ",
                      "      console.log('Success! Created order:', order);",
                      "      return order;",
                      "    })",
                      "    .catch((error) => {",
                      "      console.error(error);",
                      "    })",
                      "  });",
                      "});",
                      "",
                      "/* Promise resolves to: ",
                      " * {",
                      " *   \"_id\": \"ec66a557-5f23-4b71-91c5-6ea98a694537\",",
                      " *   \"planId\": \"099e2c86-3b7e-4477-8c27-f77402b8cceb\",",
                      " *   \"subscriptionId\": \"6f61e080-be4a-4859-a49e-b44b5da87129\",",
                      " *   \"wixPayOrderId\": \"d7c01c4b-c04d-4ebe-bd66-3973fa1fdb53\",",
                      " *   \"buyer\": {",
                      " *     \"memberId\": \"0c9bca47-1f00-4b92-af1c-7852452e949a\",",
                      " *     \"contactId\": \"0c9bca47-1f00-4b92-af1c-7852452e949a\"",
                      " *   },",
                      " *   \"priceDetails\": {",
                      " *     \"subtotal\": \"74.99\",",
                      " *     \"discount\": \"0\",",
                      " *     \"total\": \"74.99\",",
                      " *     \"planPrice\": \"74.99\",",
                      " *     \"currency\": \"EUR\",",
                      " *     \"subscription\": {",
                      " *       \"cycleDuration\": {",
                      " *         \"count\": 1,",
                      " *         \"unit\": \"MONTH\"",
                      " *       },",
                      " *       \"cycleCount\": 3",
                      " *     }",
                      " *   },",
                      " *   \"pricing\": {",
                      " *     \"subscription\": {",
                      " *       \"cycleDuration\": {",
                      " *         \"count\": 1,",
                      " *         \"unit\": \"MONTH\"",
                      " *       },",
                      " *         \"cycleCount\": 3",
                      " *     },",
                      " *     \"prices\": [",
                      " *       {",
                      " *         \"duration\": {",
                      " *           \"cycleFrom\": 1,",
                      " *           \"numberOfCycles\": 3",
                      " *         },",
                      " *         \"price\": {",
                      " *           \"subtotal\": \"74.99\",",
                      " *           \"discount\": \"0\",",
                      " *           \"total\": \"74.99\",",
                      " *           \"currency\": \"EUR\"",
                      " *         }",
                      " *     }]",
                      " *   },",
                      " *   \"type\": \"ONLINE\",",
                      " *   \"orderMethod\": \"UNKNOWN\",",
                      " *   \"status\": \"DRAFT\",",
                      " *   \"autoRenewCanceled\": false,",
                      " *   \"lastPaymentStatus\": \"UNPAID\",",
                      " *   \"startDate\": \"2022-08-22T19:51:36.470Z\",",
                      " *   \"endDate\": \"2022-11-22T19:51:36.470Z\",",
                      " *   \"pausePeriods\": [],",
                      " *   \"earliestEndDate\": \"2022-11-22T19:51:36.470Z\",",
                      " *   \"currentCycle\": {",
                      " *     \"index\": 1,",
                      " *     \"startedDate\": \"2022-08-22T19:51:36.470Z\",",
                      " *     \"endedDate\": \"2022-09-22T19:51:36.470Z\"",
                      " *   },",
                      " *   \"planName\": \"Platinum Pro\",",
                      " *   \"planDescription\": \"\",",
                      " *   \"planPrice\": \"74.99\",",
                      " *   \"_createdDate\": \"2022-08-22T19:51:36.470Z\",",
                      " *   \"_updatedDate\": \"2022-08-22T19:51:36.470Z\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } },
                { "title": "A full order plan scenario",
                  "body":
                    [ "/****************************************",
                      " * Code on a plan viewer dynamic page   *",
                      " ****************************************/",
                      "",
                      "// For navigating to a dynamic page:",
                      "import wixLocation from 'wix-location';",
                      "",
                      "$w.onReady( function () {",
                      "  $w('#viewButton').onClick((event) => {",
                      "    let $item = $w.at(event.context);",
                      "    let clickedItem = $item('#planDataset').getCurrentItem();",
                      "    let slug = clickedItem.slug;",
                      "    wixLocation.to('/plans/' + slug);",
                      "  });",
                      "});",
                      "",
                      "/****************************************",
                      " * Lightbox code                        *",
                      " ****************************************/",
                      "",
                      "// For working with a lightbox:",
                      "import wixWindow from 'wix-window';",
                      "",
                      "$w.onReady(function () {",
                      "  const receivedData = wixWindow.lightbox.getContext();",
                      "  $w('#orderData').text = receivedData;",
                      "});",
                      "",
                      "// This code assumes that the closeButton_click",
                      "// event handler was added using the \"Properties",
                      "// & Events\" panel. Make sure to do the same if you ",
                      "// copy this code.",
                      "// ",
                      "// Note that the \"Close\" button was created ",
                      "// using standard elements. It was not added ",
                      "// using Lightbox Settings.",
                      "",
                      "export function closeButton_click(event) {",
                      "    wixWindow.lightbox.close();",
                      "};",
                      "",
                      "/****************************************",
                      " * Code on a single-plan dynamic page   *",
                      " ****************************************/",
                      "",
                      "// For working with a lightbox:",
                      "import wixWindow from 'wix-window';",
                      "",
                      "import { checkout } from 'wix-pricing-plans';",
                      "",
                      "$w.onReady(function () {",
                      "  $w('#dynamicDataset').onReady( () => {",
                      "    const currentPlanObject = $w('#dynamicDataset').getCurrentItem();",
                      "    const planId = currentPlanObject._id;",
                      "    $w('#planName').text = currentPlanObject.name;",
                      "    $w('#planDescription').text = currentPlanObject.description;",
                      "",
                      "    $w('orderPlanButton').onClick((event) => {",
                      "      const order = checkout.createOnlineOrder(planId)",
                      "      .then((order) => {",
                      "        const planWithOrder = {",
                      "          plan: currentPlanObject,",
                      "          order: order",
                      "        };",
                      "        wixWindow.openLightbox('orderCreated', planWithOrder);",
                      "      });",
                      "    });",
                      "  });",
                      "});" ],
                  "extra":
                    { "description": "This example demonstrates a customized pricing plans scenario for ordering plans.\n\n >**Note**: In the interest of simplicity the code does not deal with display considerations or validations\n > that would normally be required to make sure users perform the flow as\n > intended.\n\nThe customization includes:\n\n + 2 dynamic pages, connected to the Plans collection: \n    + A plan viewer page for viewing all plans.\n    + A single-plan page for viewing a selected plan.\n + 1 lightbox for confirming the order. \n\n The plan viewer page has the following elements:\n\n + planDataset: Connects the page to the Plans collection.\n + planRepeater: Displays fields for each plan.\n + viewButton: When clicked, displays the single-plan page for the selected plan.\n\nThe single-plan page has the following elements:\n\n + dynamicDataset: Connects the page to the Plans collection.\n + planName: Text element that displays the plan's name.\n + planDescription: Text element that displays the plan's tagline.\n + orderPlanButton: Performs a request to order the plan.\n\n The orderCreated customized lightbox has the following elements: \n\n + orderData: The details of the order and its corresponding plan.\n + buyButton: A customized button that, when clicked, starts payment processing. \n + closeButton: A customized button that, when clicked, closes the lightbox. \n This example assumes that: \n + The \"Automatically display lightbox on pages\" toggle is off.\n + All options for \"How does this lightbox close?\" are toggled off." } } ],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "startOnlinePurchase",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "planId",
              "type": "string",
              "doc": "The plan ID." },
            { "name": "startDate",
              "type": "Date",
              "doc": "The date the plan should start on. As of this date, the plan is active for the buyer. \n\nDefault: Current date and time",
              "optional": true } ],
        "ret":
          { "type":
              { "name": "Promise",
                "typeParams":
                  [ "wix-pricing-plans.Checkout.Purchase" ] },
            "doc": "Fulfilled - Details about the purchased plan." },
        "locations":
          [ { "lineno": 413,
              "filename": "pricing-plans.js" } ],
        "docs":
          { "summary": "Orders and purchases a pricing plan.",
            "description":
              [ "The `startOnlinePurchase()` function returns a Promise that resolves to a `Purchase`",
                " object when the member completes the purchase process. Depending on whether the plan ",
                " is free, the `Purchase` object returns different properties.",
                "",
                " To process pricing plans on your site, first set up your site to offer pricing plans",
                " as described in [About Pricing Plans](https://support.wix.com/en/article/about-pricing-plans).",
                " When setting up your site to accept pricing plans, [ define the plans you want to offer](https://support.wix.com/en/article/creating-a-plan-in-pricing-plans),",
                " including the payment method.",
                "",
                " Purchasing a plan orders the plan and continues the",
                " payment process with the [Wix Pay](https://www.wix.com/velo/reference/wix-pay) API. After payment is complete, the plan",
                " is assigned to the member.",
                "",
                " To understand the lifecycle of how `startOnlinePurchase()` is used,",
                " see [Direct Purchase of a Pricing Plan](wix-pricing-plans/introduction#direct-purchase-of-a-pricing-plan).",
                "",
                " > **Notes:**",
                " > + The pricing plan `startOnlinePurchase()` function",
                " >     replaces the deprecated paid plans `purchasePlan()` function.",
                " >     The deprecated function will continue to work, but will not receive updates.",
                " >     To keep any existing code compatible with future changes, see the",
                " >     [`purchasePlan()` migration instructions](wix-paid-plans/purchaseplan#migration-instructions).",
                " >     ",
                " > + To work with the Pricing Plans API, you need to publish your site." ],
            "links": [],
            "examples":
              [ { "title": "Purchase a non-free plan on button click",
                  "body":
                    [ "import { checkout } from 'wix-pricing-plans';",
                      "",
                      "// Sample planId value: '099e2c86-3b7e-4477-8c27-f77402b8cced'",
                      "",
                      "$w('#myOrderButton').onClick((event) => {",
                      "    checkout.startOnlinePurchase(planId)",
                      "    .then((purchasedOrder) => {",
                      "      const myOrderId = purchasedOrder.order._id;",
                      "      const myWixPayOrderId = purchasedOrder.order.wixPayOrderId;",
                      "      const myWixPayStatus = purchasedOrder.wixPayOrderStatus   ",
                      "",
                      "      console.log('Success! Created order:', purchasedOrder);",
                      "      return purchasedOrder;",
                      "    })",
                      "    .catch((error) => {",
                      "        console.error(error);",
                      "    })",
                      "});",
                      "",
                      "/* myPurchase object after payment processed",
                      " * {",
                      " *   \"_id\": \"89dcd5fd-8c6b-4b76-93b7-ee7160366583\",",
                      " *   \"planId\": \"099e2c86-3b7e-4477-8c27-f77402b8cceb\",",
                      " *   \"subscriptionId\": \"18926aae-b6d0-4487-a8de-7e1b8dd97441\",",
                      " *   \"wixPayOrderId\": \"69fd8594-6b40-4fd8-9da4-9ea8cb5dff49\",",
                      " *   \"buyer\": {",
                      " *     \"memberId\": \"0c9bca47-1f00-4b92-af1c-7852452e949a\",",
                      " *     \"contactId\": \"0c9bca47-1f00-4b92-af1c-7852452e949a\"",
                      " *   },",
                      " *   \"priceDetails\": {",
                      " *     \"subtotal\": \"74.99\",",
                      " *     \"discount\": \"0\",",
                      " *     \"total\": \"74.99\",",
                      " *     \"planPrice\": \"74.99\",",
                      " *     \"currency\": \"EUR\",",
                      " *     \"subscription\": {",
                      " *       \"cycleDuration\": {",
                      " *           \"count\": 1,",
                      " *           \"unit\": \"MONTH\"",
                      " *       },",
                      " *       \"cycleCount\": 3",
                      " *   }},",
                      " *   \"pricing\": {",
                      " *     \"subscription\": {",
                      " *       \"cycleDuration\": {",
                      " *           \"count\": 1,",
                      " *           \"unit\": \"MONTH\"",
                      " *       },",
                      " *       \"cycleCount\": 3",
                      " *     },",
                      " *     \"prices\": [",
                      " *       {",
                      " *         \"duration\": {",
                      " *           \"cycleFrom\": 1,",
                      " *           \"numberOfCycles\": 3",
                      " *         },",
                      " *         \"price\": {",
                      " *           \"subtotal\": \"74.99\",",
                      " *           \"discount\": \"0\",",
                      " *           \"total\": \"74.99\",",
                      " *           \"currency\": \"EUR\"",
                      " *         }",
                      " *       }",
                      " *     ]",
                      " *   },",
                      " *   \"type\": \"ONLINE\",",
                      " *   \"orderMethod\": \"UNKNOWN\",",
                      " *   \"status\": \"DRAFT\",",
                      " *   \"autoRenewCanceled\": false,",
                      " *   \"lastPaymentStatus\": \"UNPAID\",",
                      " *   \"startDate\": \"2022-08-23T22:59:18.864Z\",",
                      " *   \"endDate\": \"2022-11-23T22:59:18.864Z\",",
                      " *   \"pausePeriods\": [],",
                      " *   \"earliestEndDate\": \"2022-11-23T22:59:18.864Z\",",
                      " *   \"currentCycle\": {",
                      " *     \"index\": 1,",
                      " *     \"startedDate\": \"2022-08-23T22:59:18.864Z\",",
                      " *     \"endedDate\": \"2022-09-23T22:59:18.864Z\"",
                      " *   },",
                      " *   \"planName\": \"Platinum Pro\",",
                      " *   \"planDescription\": \"\",",
                      " *   \"planPrice\": \"74.99\",",
                      " *   \"_createdDate\": \"2022-08-23T22:59:18.864Z\",",
                      " *   \"_updatedDate\": \"2022-08-23T22:59:18.864Z\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } },
                { "title": "Purchase a free plan that will start at a later date",
                  "body":
                    [ "import wixPricingPlans from 'wix-pricing-plans';",
                      "",
                      "// Sample planId value: '099e2c86-3b7e-4477-8c27-f77402b8cced'",
                      "//",
                      "// Sample startDate value: new Date('2022-08-25T07:44:00.000Z')",
                      "",
                      "$w('#buyPlanButton').onClick((event) => {",
                      "  wixPricingPlans.checkout.startOnlinePurchase(planId, startDate)",
                      "  .then((freeOrder) => {",
                      "      const myOrderId = freeOrder.order._id; ",
                      "      const myOrderType = freeOrder.order.type;",
                      "      console.log('Success! Created order:', freeOrder);",
                      "      return freeOrder;          ",
                      "  })",
                      "  .catch((error) => {",
                      "    console.error(error);",
                      "  })      ",
                      "});",
                      "",
                      "/* The object returns without wixPay properties,",
                      " * because no payment necessary.",
                      " * {",
                      " *   \"_id\": \"d9667014-b773-40b1-871d-041cedd9302e\",",
                      " *   \"planId\": \"60f0e90f-06f6-4b9c-8cd7-5a02d015d98b\",",
                      " *   \"subscriptionId\": \"14e11d7d-46e2-46be-a8a0-5484f595701c\",",
                      " *   \"buyer\": {",
                      " *     \"memberId\": \"0c9bca47-1f00-4b92-af1c-7852452e949a\",",
                      " *     \"contactId\": \"0c9bca47-1f00-4b92-af1c-7852452e949a\"",
                      " *   },",
                      " *   \"priceDetails\": {",
                      " *     \"subtotal\": \"0\",",
                      " *     \"discount\": \"0\",",
                      " *     \"total\": \"0\",",
                      " *     \"planPrice\": \"0\",",
                      " *     \"currency\": \"EUR\",",
                      " *     \"singlePaymentForDuration\": {",
                      " *       \"count\": 1,",
                      " *       \"unit\": \"MONTH\"",
                      " *     }",
                      " *   },",
                      " *   \"pricing\": {",
                      " *     \"singlePaymentForDuration\": {",
                      " *       \"count\": 1,",
                      " *       \"unit\": \"MONTH\"",
                      " *     },",
                      " *     \"prices\": [",
                      " *       {",
                      " *         \"duration\": {",
                      " *           \"cycleFrom\": 1,",
                      " *           \"numberOfCycles\": 1",
                      " *         },",
                      " *         \"price\": {",
                      " *           \"subtotal\": \"0\",",
                      " *           \"discount\": \"0\",",
                      " *           \"total\": \"0\",",
                      " *           \"currency\": \"EUR\"",
                      " *         }",
                      " *       }",
                      " *     ]",
                      " *   },",
                      " *   \"type\": \"ONLINE\",",
                      " *   \"orderMethod\": \"UNKNOWN\",",
                      " *   \"status\": \"ACTIVE\",",
                      " *   \"lastPaymentStatus\": \"NOT_APPLICABLE\",",
                      " *   \"startDate\": \"2022-08-25T07:44:00.000Z\",",
                      " *   \"endDate\": \"2022-09-25T07:44:00.000Z\",",
                      " *   \"pausePeriods\": [],",
                      " *   \"earliestEndDate\": \"2022-09-25T07:44:00.000Z\",",
                      " *   \"planName\": \"Free Trial\",",
                      " *   \"planDescription\": \"Come try it out!\",",
                      " *   \"planPrice\": \"0\",",
                      " *   \"_createdDate\": \"2022-08-23T23:57:36.745Z\",",
                      " *   \"_updatedDate\": \"2022-08-23T23:57:36.745Z\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "callbacks": [],
  "messages":
    [ { "name": "Period",
        "locations":
          [ { "lineno": 395,
              "filename": "pricing-plans.js" } ],
        "docs":
          { "summary": "An object representing the period for which a plan is valid.",
            "links":
              [ "[onPlanPurchased( )](#onPlanPurchased)" ],
            "examples":
              [ { "title": "An event when a pricing plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "// Add the file if it doesn't exist.",
                      "",
                      "",
                      "// For inserting data about a plan transaction:",
                      "import wixData from 'wix-data';",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the type of transaction, and",
                      "  // the event's order object (json) into ",
                      "  // the collection's data field.",
                      "  if (event.order.price.amount === 0) {",
                      "     let orderData = {",
                      "       title: 'Free plan purchased',",
                      "       data: event.order",
                      "     };",
                      "     wixData.insert('planEvents', orderData);",
                      "  } else {",
                      "     let orderData = {",
                      "       title: 'Regular plan purchased',",
                      "       data: event.order",
                      "     };",
                      "     wixData.insert('planEvents', orderData); ",
                      "  }",
                      "}",
                      "",
                      "",
                      "/*  Event object for a free, one-month purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `wixPayOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Platinum Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*  }",
                      "*",
                      "*",
                      "*  Event object for a purchase that is valid until the user cancels:",
                      "*",
                      "*   When the purchase is valid until the user cancels, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Gold Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "* }",
                      "*",
                      "*/" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field.\n\n When a plan is purchased and the onPlanPurchased event is triggered,\n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "amount",
              "type": "number",
              "doc": "The number of units until the plan expires." },
            { "name": "unit",
              "type": "string",
              "doc": "Time period for billing the plan, such as `\"MONTH\"`." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "Price",
        "locations":
          [ { "lineno": 358,
              "filename": "pricing-plans.js" } ],
        "docs":
          { "summary": "An object representing the price of a purchased plan.",
            "links":
              [ "[onPlanPurchased( )](#onPlanPurchased)" ],
            "examples":
              [ { "title": "An event when a pricing plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "// Add the file if it doesn't exist.",
                      "",
                      "",
                      "// For inserting data about a plan transaction:",
                      "import wixData from 'wix-data';",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the type of transaction, and",
                      "  // the event's order object (json) into ",
                      "  // the collection's data field.",
                      "  if (event.order.price.amount === 0) {",
                      "     let orderData = {",
                      "       title: 'Free plan purchased',",
                      "       data: event.order",
                      "     };",
                      "     wixData.insert('planEvents', orderData);",
                      "  } else {",
                      "     let orderData = {",
                      "       title: 'Regular plan purchased',",
                      "       data: event.order",
                      "     };",
                      "     wixData.insert('planEvents', orderData); ",
                      "  }",
                      "}",
                      "",
                      "",
                      "/*  Event object for a free, one-month purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `wixPayOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Platinum Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*  }",
                      "*",
                      "*",
                      "*  Event object for a purchase that is valid until the user cancels:",
                      "*",
                      "*   When the purchase is valid until the user cancels, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Gold Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "* }",
                      "*",
                      "*/" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field.\n\n When a plan is purchased and the onPlanPurchased event is triggered,\n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "currency",
              "type": "string",
              "doc": "Payment currency. A three-letter\n [ISO-4217](https://en.wikipedia.org/wiki/ISO_4217) currency code." },
            { "name": "amount",
              "type": "number",
              "doc": "The cost of the plan." } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "Purchase",
        "locations":
          [ { "lineno": 285,
              "filename": "pricing-plans.js" } ],
        "docs":
          { "summary": "An object representing a purchase for a non-free plan.",
            "links":
              [ "[startOnlinePurchase( )](wix-pricing-plans/checkout/startOnlinePurchase)" ],
            "examples":
              [ { "title": "Purchase a non-free plan on button click",
                  "body":
                    [ "import { checkout } from 'wix-pricing-plans';",
                      "",
                      "// Sample planId value: '099e2c86-3b7e-4477-8c27-f77402b8cced'",
                      "",
                      "$w('#myOrderButton').onClick((event) => {",
                      "    checkout.startOnlinePurchase(planId)",
                      "    .then((purchasedOrder) => {",
                      "      const myOrderId = purchasedOrder.order._id;",
                      "      const myWixPayOrderId = purchasedOrder.order.wixPayOrderId;",
                      "      const myWixPayStatus = purchasedOrder.wixPayOrderStatus   ",
                      "",
                      "      console.log('Success! Created order:', purchasedOrder);",
                      "      return purchasedOrder;",
                      "    })",
                      "    .catch((error) => {",
                      "        console.error(error);",
                      "    })",
                      "});",
                      "",
                      "/* myPurchase object after payment processed",
                      " * {",
                      " *   \"_id\": \"89dcd5fd-8c6b-4b76-93b7-ee7160366583\",",
                      " *   \"planId\": \"099e2c86-3b7e-4477-8c27-f77402b8cceb\",",
                      " *   \"subscriptionId\": \"18926aae-b6d0-4487-a8de-7e1b8dd97441\",",
                      " *   \"wixPayOrderId\": \"69fd8594-6b40-4fd8-9da4-9ea8cb5dff49\",",
                      " *   \"buyer\": {",
                      " *     \"memberId\": \"0c9bca47-1f00-4b92-af1c-7852452e949a\",",
                      " *     \"contactId\": \"0c9bca47-1f00-4b92-af1c-7852452e949a\"",
                      " *   },",
                      " *   \"priceDetails\": {",
                      " *     \"subtotal\": \"74.99\",",
                      " *     \"discount\": \"0\",",
                      " *     \"total\": \"74.99\",",
                      " *     \"planPrice\": \"74.99\",",
                      " *     \"currency\": \"EUR\",",
                      " *     \"subscription\": {",
                      " *       \"cycleDuration\": {",
                      " *           \"count\": 1,",
                      " *           \"unit\": \"MONTH\"",
                      " *       },",
                      " *       \"cycleCount\": 3",
                      " *   }},",
                      " *   \"pricing\": {",
                      " *     \"subscription\": {",
                      " *       \"cycleDuration\": {",
                      " *           \"count\": 1,",
                      " *           \"unit\": \"MONTH\"",
                      " *       },",
                      " *       \"cycleCount\": 3",
                      " *     },",
                      " *     \"prices\": [",
                      " *       {",
                      " *         \"duration\": {",
                      " *           \"cycleFrom\": 1,",
                      " *           \"numberOfCycles\": 3",
                      " *         },",
                      " *         \"price\": {",
                      " *           \"subtotal\": \"74.99\",",
                      " *           \"discount\": \"0\",",
                      " *           \"total\": \"74.99\",",
                      " *           \"currency\": \"EUR\"",
                      " *         }",
                      " *       }",
                      " *     ]",
                      " *   },",
                      " *   \"type\": \"ONLINE\",",
                      " *   \"orderMethod\": \"UNKNOWN\",",
                      " *   \"status\": \"DRAFT\",",
                      " *   \"autoRenewCanceled\": false,",
                      " *   \"lastPaymentStatus\": \"UNPAID\",",
                      " *   \"startDate\": \"2022-08-23T22:59:18.864Z\",",
                      " *   \"endDate\": \"2022-11-23T22:59:18.864Z\",",
                      " *   \"pausePeriods\": [],",
                      " *   \"earliestEndDate\": \"2022-11-23T22:59:18.864Z\",",
                      " *   \"currentCycle\": {",
                      " *     \"index\": 1,",
                      " *     \"startedDate\": \"2022-08-23T22:59:18.864Z\",",
                      " *     \"endedDate\": \"2022-09-23T22:59:18.864Z\"",
                      " *   },",
                      " *   \"planName\": \"Platinum Pro\",",
                      " *   \"planDescription\": \"\",",
                      " *   \"planPrice\": \"74.99\",",
                      " *   \"_createdDate\": \"2022-08-23T22:59:18.864Z\",",
                      " *   \"_updatedDate\": \"2022-08-23T22:59:18.864Z\"",
                      " * }",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "order",
              "type": "wix-pricing-plans-backend.Orders.Order",
              "doc": "The order being purchased." },
            { "name": "wixPayStatus",
              "type": "string",
              "doc": "Payment status in [Wix Pay](https://www.wix.com/velo/reference/wix-pay). Omitted for free plans. \n One of:\n + `\"Successful\"`: Payment was successfully received.\n + `\"Pending\"`: Payment is pending payment provider approval.\n + `\"Failed\"`: Payment has failed.\n + `\"Chargeback\"`: Payment is chargeback.\n + `\"Refunded\"`: Payment was fully refunded.\n + `\"Offline\"`: Payment will be executed offline.\n + `\"PartiallyRefunded\"`: Payment was partially refunded.\n + `\"Cancelled\"`: Payment was cancelled and was not processed.\n + `\"Undefined\"`: Payment status is pending payment provider input.",
              "optional": true } ],
        "extra":
          {  },
        "labels": [] },
      { "name": "ValidFor",
        "locations":
          [ { "lineno": 377,
              "filename": "pricing-plans.js" } ],
        "docs":
          { "summary": "An object representing how long a plan is valid.",
            "links":
              [ "[onPlanPurchased( )](#onPlanPurchased)" ],
            "examples":
              [ { "title": "An event when a pricing plan is purchased",
                  "body":
                    [ "// Place this code in the events.js file",
                      "// of your site's Backend section.",
                      "// Add the file if it doesn't exist.",
                      "",
                      "",
                      "// For inserting data about a plan transaction:",
                      "import wixData from 'wix-data';",
                      "",
                      "export function wixPaidPlans_onPlanPurchased(event) {",
                      "",
                      "  // Insert a title reflecting the type of transaction, and",
                      "  // the event's order object (json) into ",
                      "  // the collection's data field.",
                      "  if (event.order.price.amount === 0) {",
                      "     let orderData = {",
                      "       title: 'Free plan purchased',",
                      "       data: event.order",
                      "     };",
                      "     wixData.insert('planEvents', orderData);",
                      "  } else {",
                      "     let orderData = {",
                      "       title: 'Regular plan purchased',",
                      "       data: event.order",
                      "     };",
                      "     wixData.insert('planEvents', orderData); ",
                      "  }",
                      "}",
                      "",
                      "",
                      "/*  Event object for a free, one-month purchase, ordered using Thailand baht currency:",
                      "*",
                      "*   When the purchase is free, the `wixPayOrderId` is blank,",
                      "*   the `price.amount` is 0, and the paymentStatus is marked `PAID`. ",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"THB\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Platinum Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":false,",
                      "*         \"period\":{  ",
                      "*            \"amount\":1,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "*  }",
                      "*",
                      "*",
                      "*  Event object for a purchase that is valid until the user cancels:",
                      "*",
                      "*   When the purchase is valid until the user cancels, `validFor.forever` is true, and ",
                      "*   `validFor.forever.period.amount` is 0.",
                      "*",
                      "*   {  ",
                      "*    \"order\":{  ",
                      "*      \"paymentStatus\":\"PAID\",",
                      "*      \"validUntil\":\"2019-09-12T05:43:53.246Z\",",
                      "*      \"price\":{  ",
                      "*         \"currency\":\"USD\",",
                      "*         \"amount\":0",
                      "*      },",
                      "*      \"cancellationReason\":\"CANCELLATION_REASON_UNDEFINED\",",
                      "*      \"validFrom\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"planName\":\"valid 1 week\",",
                      "*      \"wixPayOrderId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"recurring\":false,",
                      "*      \"id\":\"b8401bab-8e5d-4bf6-944b-b2d56698d4c9\",",
                      "*      \"dateCreated\":\"2019-08-12T05:43:53.246Z\",",
                      "*      \"status\":\"ACTIVE\",",
                      "*      \"roleId\":\"\",",
                      "*      \"planDescription\":\"Gold Plan\",",
                      "*      \"memberId\":\"42d90dcb-b9ad-47be-9a36-488be3dec679\",",
                      "*      \"orderType\":\"ONLINE\",",
                      "*      \"planId\":\"a52f41cc-8129-4812-9e1c-fafa2807a25d\",",
                      "*      \"validFor\":{  ",
                      "*         \"forever\":true,",
                      "*         \"period\":{  ",
                      "*            \"amount\":0,",
                      "*            \"unit\":\"MONTH\"",
                      "*         }",
                      "*      }",
                      "*   }",
                      "* }",
                      "*",
                      "*/" ],
                  "extra":
                    { "description": "This example adds purchased plan event data to a manually-created\n planEvents database. The database has a data field.\n\n When a plan is purchased and the onPlanPurchased event is triggered,\n the JSON format of the object is inserted into the data field." } } ],
            "extra":
              {  } },
        "members":
          [ { "name": "forever",
              "type": "boolean",
              "doc": "If true, the plan does not expire." },
            { "name": "period",
              "type": "wix-pricing-plans.Checkout.Period",
              "doc": "Object containing the period for which the plan is valid." } ],
        "extra":
          {  },
        "labels": [] } ],
  "extra":
    {  } }