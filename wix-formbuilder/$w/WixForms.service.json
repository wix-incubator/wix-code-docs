{ "name": "WixForms",
  "memberOf": "$w",
  "mixes":
    [ "$w.HiddenCollapsedMixin" ],
  "labels": [],
  "location":
    { "lineno": 1,
      "filename": "form.js" },
  "docs":
    { "summary": "An element for working with the Wix Forms app.",
      "description":
        [ "The [Wix Forms app](https://support.wix.com/en/article/about-wix-forms) lets site visitors enter values for fields in a Wix Form and then submit it. ",
          "",
          " The `WixForms` API contains all that you need to work with the [Wix Forms app](https://support.wix.com/en/article/corvid-working-with-forms)",
          " using Corvid APIs. You can customize how site visitors work with the Wix Form, while ",
          " taking advantage of the Wix Forms app's ease of design, automatic creation of submission collections, ",
          " payment receipt, automatic setup of email notifications, and more. ",
          " ",
          " You do not need to import `$w` or `wix-crm` to work with WixForms APIs.",
          "",
          " <h3>Working with the WixForms API</h3>",
          "",
          "",
          " To work with a `WixForms` element using the API:",
          "",
          "",
          " 1. <a href=\"https://support.wix.com/en/article/adding-and-setting-up-a-form-on-your-site\" target=\"_blank\">Add and set up</a> the Wix Form app on your site. ",
          " 1. Depending on the form you choose, a <a href=\"https://support.wix.com/en/article/corvid-working-with-wix-app-collections-and-code#what-are-wix-app-starter-collections\" target=\"_blank\">Wix app starter collection</a> is also added to your site. You can see it in the Site Structure sidebar under \"Database.\" Use this collection as a template.",
          " 1. When you add the `WixForms` element, a [`Form`]($w.html#form) $w element is also added. Think of the `Form` element as just a container for the input elements and buttons in the Wix Form. It works in conjunction with the WixForms element, meaning if you hide or collapse either the `WixForms` or the `Form` element, the other element is also hidden/collapsed. All Wix Form APIs apply to the Wix Forms element, not the Forms element. ",
          " ",
          "",
          "",
          "",
          "",
          " The `WixForms` API does not use functionality provided by [`FormElement`]($w.html#FormElement), ",
          " but the user input elements wrapped within the `WixForms` `Form` element can. For example, you cannot check if a Wix Form has changed ",
          " using [`onChange`](#onChange), but you can check if one of the Wix Form's `Form` fields changed.",
          "",
          "",
          " ",
          " > **Note:** Alternatively, you can use the Corvid API to create your own custom form without the Wix Forms app and connect ",
          " the form's fields to a collection. You can create a custom form with standard input elements ",
          " and a button for submission. When customizing your own form, you have ",
          " options that might not yet be available from the Wix Forms app. For example, you can add more ",
          " varied input elements not yet supported with the app." ],
      "links": [],
      "examples": [],
      "extra":
        {  } },
  "properties": [],
  "operations":
    [ { "name": "onWixFormSubmitted",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "eventHandler",
              "type": "$w.WixForms.WixFormSubmittedEventHandler",
              "doc": "The name of the function or\n the function expression to run when a Wix Form is submitted." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 44,
              "filename": "form.js" } ],
        "docs":
          { "summary": "Adds an event handler that fires when a site visitor submits a Wix Form and it is successfully received by the server.",
            "description":
              [ "When the site visitor submits a Wix Form, the field values are cleared and the `onWixFormSubmitted()`",
                " callback is triggered for the `WixForms` element. ",
                "",
                " The callback to run when the Wix Form is submitted is either the name of the function",
                " or a function expression.",
                "",
                " The received [`WixFormSubmittedEvent`](#WixFormSubmittedEvent) object ",
                " contains information about the Wix Form that was submitted. The `WixFormSubmittedEvent` object is returned by the ",
                " callback asynchronously following verification of a successful submission, while the server starts to process the",
                " relevant actions.",
                "",
                "",
                " `onWixFormSubmitted()` provides information and functionality available on the client side:",
                "",
                "",
                " * The function has access to the field names and field values on the form but does not have access to submission details that exist only on the server, such as the contact ID and the submission time.",
                " * `onWixFormSubmitted()` performs operations only on the client side, such as displaying a message after submission. ",
                "",
                "",
                "",
                "",
                "",
                " See the [`onFormSubmit()`](wix-crm-backend/events/onFormSubmit) function, which is called in the Backend section's code, to set events that fire on the backend when a site visitor submits a form." ],
            "links":
              [ "[WixFormSubmittedEvent](#WixFormSubmittedEvent)",
                "[onWixFormSubmittedError](#onWixFormSubmittedError)" ],
            "examples":
              [ { "title": "An event triggered on a WixForms element when the Wix Form is submitted",
                  "body":
                    [ "$w(\"#myWixForm\").onWixFormSubmitted( {fields} => {",
                      "  let firstName = fields[0].fieldValue;",
                      "  let lastName = fields[1].fieldValue;",
                      "  let donation = fields[2].fieldValue;",
                      "  let email = fields[3].fieldValue;",
                      "  $w('#myText').text = `Thank you, ${firstName} ${lastName}, for your generous donation of ${donation}.`;",
                      "});",
                      "",
                      "/* fields array of objects: ",
                      " * [",
                      " *    { ",
                      " *      \"id\" : \"inputFirstName\",",
                      " *      \"fieldValue\" : \"Maria\",",
                      " *      \"fieldName\" : \"Enter first name\"",
                      " *    },",
                      " *    { ",
                      " *      \"id\" : \"inputLastName\",",
                      " *      \"fieldValue\" : \"Santora\",",
                      " *      \"fieldName\" : \"Enter last name\"",
                      " *    },",
                      " *    { ",
                      " *      \"id\" : \"inputDonation\",",
                      " *      \"fieldValue\" : \"1000\",",
                      " *      \"fieldName\" : \"Enter donation amount\"",
                      " *    },",
                      " *    { ",
                      " *      \"id\" : \"inputEmail\",",
                      " *      \"fieldValue\" : \"ms@theCompany\",",
                      " *      \"fieldName\" : \"Enter email\"",
                      " *    }",
                      " * ] ",
                      " */" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "eventType": "WixFormSubmittedEvent" } },
      { "name": "onWixFormSubmittedError",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "eventHandler",
              "type": "$w.WixForms.WixFormSubmittedErrorEventHandler",
              "doc": "The name of the function or\n the function expression to run when a Wix Form is not submitted due to error." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 82,
              "filename": "form.js" } ],
        "docs":
          { "summary": "Adds an event handler that fires when a site visitor is not able to successfully submit a Wix Form to the server.",
            "description":
              [ "If a Wix Form has not been successfully submitted by the site visitor, the received",
                " [`WixFormSubmittedErrorEvent`](#WixFormSubmittedErrorEvent) object",
                " contains error information about why the Wix Form could not be submitted. ",
                "",
                " The `WixFormSubmittedErrorEvent` object is returned by the callback asynchronously right after ",
                " an unsuccessful submission.",
                "",
                " The `onWixFormSubmittedError` callback is triggered for the WixForms element. The callback to ",
                " run when a submission error occurs is either the name of the function or a function expression.",
                " ",
                "",
                " **Error Codes and Descriptions**",
                "",
                "",
                " * INVALID_FIELD. A field value was not entered correctly by the site visitor.",
                " * FILE\\_NOT\\_UPLOADED. A file or signature upload did not succeed.",
                " * INVALID_ARGUMENT. An internal server error occurred.",
                " * UNAUTHENTICATED. The site member's or visitor's identity was not authenticated.",
                " * PERMISSION_DENIED. The site visitor does not have permissions to submit the Wix Form. For example, a reCAPTCHA challenge was not verified.",
                " * RESOURCE_EXHAUSTED. The request to submit the Wix Form was denied by the server to prevent overload and improve overall performance.",
                " * UNAVAILABLE. The service is not available.",
                " * UNKNOWN_ERROR. An unknown error occurred." ],
            "links":
              [ "[WixFormSubmittedErrorEvent](#WixFormSubmittedErrorEvent)",
                "[onWixFormSubmitted](#onWixFormSubmitted)" ],
            "examples":
              [ { "title": "An event triggered on a WixForms element when the Wix Form is not submitted successfully",
                  "body":
                    [ "$w(\"#myWixForms\").onWixFormSubmittedError(     ",
                      "  (  {code, message}  ) => {",
                      "    $w(\"#errorCodeText\").text = code;",
                      "    $w(\"#errorMessageText\").text = message;",
                      "  });" ],
                  "extra":
                    {  } } ],
            "extra":
              {  } },
        "extra":
          { "eventType": "WixFormSubmittedErrorEvent" } } ],
  "callbacks":
    [ { "name": "WixFormSubmittedErrorEventHandler",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "errorEvent",
              "type": "$w.WixForms.WixFormSubmittedErrorEvent",
              "doc": "The Wix Forms error event that occurred." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 130,
              "filename": "form.js" } ],
        "docs":
          { "summary": "Handles events fired when the Wix Form is not submitted due to error.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } },
      { "name": "WixFormSubmittedEventHandler",
        "labels": [],
        "nameParams": [],
        "params":
          [ { "name": "event",
              "type": "$w.WixForms.WixFormSubmittedEvent",
              "doc": "The Wix Forms event that occurred." } ],
        "ret":
          { "type": "void" },
        "locations":
          [ { "lineno": 123,
              "filename": "form.js" } ],
        "docs":
          { "summary": "Handles events fired when the Wix Form is submitted.",
            "links": [],
            "examples": [],
            "extra":
              {  } },
        "extra":
          {  } } ],
  "messages": [],
  "extra":
    {  } }